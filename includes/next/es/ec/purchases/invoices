<h2 id='facturas'>Facturas</h2>
<p>Una factura de compra está representada por un objeto <em>Purchase Invoice</em>.</p>
<h3 id='el-objeto-purchase-invoice'>El objeto Purchase Invoice</h3>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>number<p class="dt-data-type">string</p></td>
<td>Número completo de la factura. Es un número secuencial que se forma a partir de {código establecimiento}-{código pto. emisión}-{secuencia}</td>
</tr>
<tr>
<td>currency<p class="dt-data-type">string</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">string</p></td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>totals<p class="dt-data-type">objeto <a href="#invoice-totals">totals</a></p></td>
<td>Totales de la factura</td>
</tr>
<tr>
<td>customer<p class="dt-data-type">objeto <a href="#contact">contact</a></td>
<td>Información del comprador.</td>
</tr>
<tr>
<td>items<p class="dt-data-type">lista de <a href="#invoice-item">items</a></p></td>
<td>Bienes o servicios facturados.</td>
</tr>
<tr>
<td>uuid<p class="dt-data-type">string</p></td>
<td>La clave de acceso de la factura. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">objeto</p></td>
<td>Información adicional adjunta al comprobante en forma de diccionario. Ejemplo:<br><code>{&quot;plan&quot;: &quot;Inicial&quot;, &quot;vigencia&quot;: &quot;1 mes&quot;}</code></td>
</tr>
<tr>
<td>payments<p class="dt-data-type">lista de <a href="#payment">payments</a></p></td>
<td>Pagos realizados a la factura.</td>
</tr>
<tr>
<td>payment_methods<p class="dt-data-type">lista de <a href="#payment-method">payment_methods</a></p></td>
<td>Listado de formas de pago aplicables a la factura.</td>
</tr>
<tr>
<td>payment_terms</td>
<td>Objeto de <a href="#payment-terms">payment_terms</a></td>
</tr>
<tr>
<td>electronic_document<p class="dt-data-type">string</p></td>
<td>Documento electrónico, el XML.</td>
</tr>
<tr>
<td>electronic_document_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del documento electrónico, el XML.</td>
</tr>
<tr>
<td>printable_version_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del RIDE.</td>
</tr>
</tbody></table>

<h4 id="invoice-totals">Totals</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>total_discount_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos</td>
</tr>
<tr>
<td>total_tax_amount<p class="dt-data-type">string</p></td>
<td>Total de impuestos recaudados</td>
</tr>
<tr>
<td>total_amount<p class="dt-data-type">string</p></td>
<td>Total final.</td>
</tr>
</tbody></table>

<h4 id="invoice-item">Item</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>description<p class="dt-data-type">string</p></td>
<td>Descripción del ítem.</td>
</tr>
<tr>
<td>sku<p class="dt-data-type">string</p></td>
<td>Código alfanumérico de uso del comercio. Máximo 25 caracteres.</td>
</tr>
<tr>
<td>quantity<p class="dt-data-type">string</p></td>
<td>Cantidad de items.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">string</p></td>
<td>Precio unitario.</td>
</tr>
<tr>
<td>unit_discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal antes de impuestos. Se obtiene multiplicando <code>quantity</code> por <code>unit_price</code> menos <code>discount</code></td>
</tr>
<tr>
<td>unit_of_measurement<p class="dt-data-type">string</p></td>
<td>Unidad de medida, ejemplos: l, kg, cm</td>
</tr>
<tr>
<td>taxes</td>
<td>listado de <a href="#item-taxes">impuestos</a></td>
</tr>
<tr>
<td>properties</td>
<td>hash</td>
</tr>
</tbody></table>
<h4 id='payment'>Payment</h4>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>date<p class="dt-data-type">string</p></td>
<td>Fecha de recepción del pago en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>method <p class="dt-data-type">string</p></td>
<td>Código del método de pago según <a href="http://www.unece.org/trade/untdid/d16a/tred/tred4461.htm">4461 UN/CEFACT standard v06B</a></td>
</tr>
<tr>
<td>amount <p class="dt-data-type">string</p></td>
<td>Valor pagado</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">object</p></td>
<td>Información adicional adjunta al pago en forma de diccionario. Ejemplo:<br><code>{&quot;bank&quot;: &quot;Safe Bank&quot;, &quot;account_number&quot;: &quot;1020304050&quot;}</code></td>
</tr>
</tbody></table>
<h4 id='payment-method'>Payment method</h4>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>due_date<p class="dt-data-type">string</p></td>
<td>Fecha de vencimiento en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>method <p class="dt-data-type">string</p></td>
<td>Código del método de pago según <a href="http://www.unece.org/trade/untdid/d16a/tred/tred4461.htm">4461 UN/CEFACT standard v06B</a></td>
</tr>
<tr>
<td>amount <p class="dt-data-type">string</p></td>
<td>Valor a pagar por este medio.</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">object</p></td>
<td>Información adicional. Ejemplo:<br><code>{&quot;bank&quot;: &quot;Safe Bank&quot;, &quot;account_number&quot;: &quot;1020304050&quot;}</code></td>
</tr>
</tbody></table>
<h3 id='registro-de-una-factura-utilizando-su-xml'>Registro de una factura utilizando su XML</h3><h4 id='operacion'>Operación</h4>
<p><code>POST /locations/:location-id/purchases/invoices/imports</code></p>
<h4 id='requerimiento'>Requerimiento</h4>
<blockquote>
<h5 id='requerimiento-de-ejemplo'>Requerimiento de ejemplo</h5></blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://link.datil.co/location/31a8edd4-cf56-4435-a387-7bf1d2eb94e1/invoices/issue <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
      "electronic_document": "
        &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;
        &lt;autorizacion&gt;
            &lt;estado&gt;AUTORIZADO&lt;/estado&gt;
            &lt;numeroAutorizacion&gt;2411201601200100200000939717922618485&lt;/numeroAutorizacion&gt;
            &lt;fechaAutorizacion class=\"fechaAutorizacion\"&gt;24/11/2016 12:49:35 PM&lt;/fechaAutorizacion&gt;
            &lt;comprobante&gt;&lt;![CDATA[&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;
        &lt;factura id=\"comprobante\" version=\"1.0.0\"&gt;
            &lt;infoTributaria&gt;
                &lt;ambiente&gt;2&lt;/ambiente&gt;
                &lt;tipoEmision&gt;1&lt;/tipoEmision&gt;
                &lt;razonSocial&gt;Acme Corp.&lt;/razonSocial&gt;
                &lt;nombreComercial&gt;Acme&lt;/nombreComercial&gt;
                &lt;ruc&gt;99999999999999&lt;/ruc&gt;
                &lt;claveAcceso&gt;241120160199999999999990020000093971234567814&lt;/claveAcceso&gt;
                &lt;codDoc&gt;01&lt;/codDoc&gt;
                &lt;estab&gt;001&lt;/estab&gt;
                &lt;ptoEmi&gt;002&lt;/ptoEmi&gt;
                &lt;secuencial&gt;000009397&lt;/secuencial&gt;
                &lt;dirMatriz&gt;Palora Y Amazonas&lt;/dirMatriz&gt;
            &lt;/infoTributaria&gt;
            &lt;infoFactura&gt;
                &lt;fechaEmision&gt;24/11/2016&lt;/fechaEmision&gt;
                &lt;dirEstablecimiento&gt;Palora 37 Y Amazonas&lt;/dirEstablecimiento&gt;
                &lt;obligadoContabilidad&gt;SI&lt;/obligadoContabilidad&gt;
                &lt;tipoIdentificacionComprador&gt;04&lt;/tipoIdentificacionComprador&gt;
                &lt;razonSocialComprador&gt;Datil S. A.&lt;/razonSocialComprador&gt;
                &lt;identificacionComprador&gt;0992712555001&lt;/identificacionComprador&gt;
                &lt;totalSinImpuestos&gt;534.60&lt;/totalSinImpuestos&gt;
                &lt;totalDescuento&gt;59.40&lt;/totalDescuento&gt;
                &lt;totalConImpuestos&gt;
                    &lt;totalImpuesto&gt;
                        &lt;codigo&gt;2&lt;/codigo&gt;
                        &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;
                        &lt;baseImponible&gt;534.60&lt;/baseImponible&gt;
                        &lt;valor&gt;74.84&lt;/valor&gt;
                    &lt;/totalImpuesto&gt;
                &lt;/totalConImpuestos&gt;
                &lt;propina&gt;0.00&lt;/propina&gt;
                &lt;importeTotal&gt;609.44&lt;/importeTotal&gt;
                &lt;moneda&gt;DOLAR&lt;/moneda&gt;
                &lt;pagos&gt;
                    &lt;pago&gt;
                        &lt;formaPago&gt;20&lt;/formaPago&gt;
                        &lt;total&gt;609.44&lt;/total&gt;
                        &lt;plazo&gt;1&lt;/plazo&gt;
                        &lt;unidadTiempo&gt;dias&lt;/unidadTiempo&gt;
                    &lt;/pago&gt;
                &lt;/pagos&gt;
            &lt;/infoFactura&gt;
            &lt;detalles&gt;
                &lt;detalle&gt;
                    &lt;codigoPrincipal&gt;12-01-02-001&lt;/codigoPrincipal&gt;
                    &lt;descripcion&gt;TNT&lt;/descripcion&gt;
                    &lt;cantidad&gt;22&lt;/cantidad&gt;
                    &lt;precioUnitario&gt;10.00&lt;/precioUnitario&gt;
                    &lt;descuento&gt;22.00&lt;/descuento&gt;
                    &lt;precioTotalSinImpuesto&gt;198.00&lt;/precioTotalSinImpuesto&gt;
                    &lt;impuestos&gt;
                        &lt;impuesto&gt;
                            &lt;codigo&gt;2&lt;/codigo&gt;
                            &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;
                            &lt;tarifa&gt;14&lt;/tarifa&gt;
                            &lt;baseImponible&gt;198.00&lt;/baseImponible&gt;
                            &lt;valor&gt;27.72&lt;/valor&gt;
                        &lt;/impuesto&gt;
                    &lt;/impuestos&gt;
                &lt;/detalle&gt;
                &lt;detalle&gt;
                    &lt;codigoPrincipal&gt;4880102001&lt;/codigoPrincipal&gt;
                    &lt;descripcion&gt;Fósforos de seguridad&lt;/descripcion&gt;
                    &lt;cantidad&gt;22&lt;/cantidad&gt;
                    &lt;precioUnitario&gt;17.00&lt;/precioUnitario&gt;
                    &lt;descuento&gt;37.40&lt;/descuento&gt;
                    &lt;precioTotalSinImpuesto&gt;336.60&lt;/precioTotalSinImpuesto&gt;
                    &lt;impuestos&gt;
                        &lt;impuesto&gt;
                            &lt;codigo&gt;2&lt;/codigo&gt;
                            &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;
                            &lt;tarifa&gt;14&lt;/tarifa&gt;
                            &lt;baseImponible&gt;336.60&lt;/baseImponible&gt;
                            &lt;valor&gt;47.12&lt;/valor&gt;
                        &lt;/impuesto&gt;
                    &lt;/impuestos&gt;
                &lt;/detalle&gt;
            &lt;/detalles&gt;
            &lt;infoAdicional&gt;
                &lt;campoAdicional nombre=\"dirCliente\"&gt;The cliff&lt;/campoAdicional&gt;
                &lt;campoAdicional nombre=\"telfCliente\"&gt;555 5555&lt;/campoAdicional&gt;
                &lt;campoAdicional nombre=\"ciudadCliente\"&gt;Guayaquil&lt;/campoAdicional&gt;
                &lt;campoAdicional nombre=\"observacion\"&gt;Manejar la carga con precaución&lt;/campoAdicional&gt;
            &lt;/infoAdicional&gt;
        &lt;ds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:etsi=\"http://uri.etsi.org/01903/v1.3.2#\" Id=\"Signature1045091\"&gt;
        &lt;ds:SignedInfo Id=\"Signature-SignedInfo601725\"&gt;
        &lt;ds:CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"&gt;&lt;/ds:CanonicalizationMethod&gt;
        &lt;ds:SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"&gt;&lt;/ds:SignatureMethod&gt;
        &lt;ds:Reference Id=\"SignedPropertiesID239839\" Type=\"http://uri.etsi.org/01903#SignedProperties\" URI=\"#Signature1045091-SignedProperties836357\"&gt;
        &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"&gt;&lt;/ds:DigestMethod&gt;
        &lt;ds:DigestValue&gt;MnIK5RfVmbYVxP+TMe0pVgpYJEM=&lt;/ds:DigestValue&gt;
        &lt;/ds:Reference&gt;
        &lt;ds:Reference URI=\"#Certificate1593074\"&gt;
        &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"&gt;&lt;/ds:DigestMethod&gt;
        &lt;ds:DigestValue&gt;nVizRbnLCJNqrttEXqbYW9csutY=&lt;/ds:DigestValue&gt;
        &lt;/ds:Reference&gt;
        &lt;ds:Reference Id=\"Reference-ID-623928\" URI=\"#comprobante\"&gt;
        &lt;ds:Transforms&gt;
        &lt;ds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"&gt;&lt;/ds:Transform&gt;
        &lt;/ds:Transforms&gt;
        &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"&gt;&lt;/ds:DigestMethod&gt;
        &lt;ds:DigestValue&gt;uZZlQDETRz2ySjoCRgNiupguX4g=&lt;/ds:DigestValue&gt;
        &lt;/ds:Reference&gt;
        &lt;/ds:SignedInfo&gt;
        &lt;ds:SignatureValue Id=\"SignatureValue454111\"&gt;
        pVNXwneGQW6fRL/4j8I77yHKrL823NgTmKu1uc1NWNsghhgnjmwZnQbrSB3Xw9aFhYGXbWAVMKxA
        o/scbPMpzXRh50NUJrSOnF8nmDK+Zysw14iVRLbXcyN8fC1QO1F+OkStwSTQQou/mKRwoA1RzZwp
        KqQ6W8QB7jU3EAaq51kOeOtIC+7ohCAVnP87Rm72inQpvTXIY/OV3H1B7pWSqXoymaFSnWZ4XzvB
        +ALGHYtLCviJrv1lY1zpmz8J9zkjyBARQhSNCGGmVIOk0IvbiWdy9a6iIbm0AwXB17hEyWxHBQMa
        Zw4sZOVh2hP4RUWbm4Gcj/S5QSgJhU+qAjEeYQ==
        &lt;/ds:SignatureValue&gt;
        &lt;ds:KeyInfo Id=\"Certificate1593074\"&gt;
        &lt;ds:X509Data&gt;
        &lt;ds:X509Certificate&gt;
        MIIJ6zCCCNOgAwIBAgIEVM493jANBgkqhkiG9w0BAQsFADCBkzELMAkGA1UEBhMCRUMxGzAZBgNV
        BAoTElNFQ1VSSVRZIERBVEEgUy5BLjEwMC4GA1UECxMnRU5USURBRCBERSBDRVJUSUZJQ0FDSU9O
        IERFIElORk9STUFDSU9OMTUwMwYDVQQDEyxBVVRPUklEQUQgREUgQ0VSVElGSUNBQ0lPTiBTVUIg
        U0VDVVJJVFkgREFUQTAeFw0xNjA2MDMxOTI2MzVaFw0xODA2MDMxOTU2MzVaMIGYMQswCQYDVQQG
        EwJFQzEbMBkGA1UEChMSU0VDVVJJVFkgREFUQSBTLkEuMTAwLgYDVQQLEydFTlRJREFEIERFIENF
        UlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04xOjATBgNVBAUTDDAzMDYxNjE0NTIyMjAjBgNVBAMT
        HFJhbWlybyBQYXRyaWNpbyBBbmRpbm8gQm9yamEwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK
        AoIBAQCvMRbbfkmG7t1cnSTc/COJ5sSy2KTM1lBVidGd+bF/iMs61M7hTs46xIY/Wh18XN4MARCz
        PsPPXnwNq4sAItwPGxJkVKZ2IIJH//HyRkPGcNZZakPts8KKoyXE2OPgOsQvG/k8DVRFyDrYE6db
        OrZTxvxY2sY8lznIg1tHx0zjZqoybn5rmdXHA4dHRikQYng9fueyAtHiWawX60MSM/eG8B/ncOcz
        93h8MeVMJDWZsoHGBcSrWXqDi+4crERTHMCFNGDb+VRIzF658qIdPPgT/hfWdzmMJYgv22o+mUBc
        89DoM5onBb/DDBtuwmNNrzg1bioWS2fj1OkjgAi502vBAgMBAAGjggY+MIIGOjALBgNVHQ8EBAMC
        BeAwWQYIKwYBBQUHAQEETTBLMEkGCCsGAQUFBzABhj1odHRwOi8vb2NzcGd3LnNlY3VyaXR5ZGF0
        YS5uZXQuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9vY3NwMIHKBgNVHSAEgcIwgb8wPwYKKwYB
        BAGCpnICCjAxMC8GCCsGAQUFBwICMCMaIUNlcnRpZmljYWRvIGRlIE1pZW1icm8gZGUgRW1wcmVz
        YTB8BgorBgEEAYKmcgIEMG4wbAYIKwYBBQUHAgEWYGh0dHBzOi8vd3d3LnNlY3VyaXR5ZGF0YS5u
        ZXQuZWMvbGV5ZXNfbm9ybWF0aXZhcy9Qb2xpdGljYXMgZGUgQ2VydGlmaWNhZG8gTWllbWJybyBk
        ZSBFbXByZXNhLnBkZjBFBgorBgEEAYKmcgMKBDcTNVNFQ1VSSVRZIERBVEEgU0VHVVJJREFEIEVO
        IERBVE9TIFkgRklSTUEgRElHSVRBTCBTLkEuMB0GCisGAQQBgqZyAwsEDxMNMTc5MjI2MTg0ODAw
        MTAaBgorBgEEAYKmcgMBBAwTCjE3MTU5ODg0NzEwHwYKKwYBBAGCpnIDAgQREw9SYW1pcm8gUGF0
        cmljaW8wFgYKKwYBBAGCpnIDAwQIEwZBbmRpbm8wFQYKKwYBBAGCpnIDBAQHEwVCb3JqYTAjBgor
        BgEEAYKmcgMFBBUTE0Nvb3JkaW5hZG9yIEdlbmVyYWwwMAYKKwYBBAGCpnIDBwQiEyBQYWxvcmEg
        T2UyLTM3IFkgQXYuIFJpbyBBbWF6b25hczAWBgorBgEEAYKmcgMiBAgTBjE3MDUwMTAbBgorBgEE
        AYKmcgMIBA0TCzU5MzIzOTYzMTEwMBUGCisGAQQBgqZyAwkEBxMFUVVJVE8wFwYKKwYBBAGCpnID
        DAQJEwdFY3VhZG9yMCAGCisGAQQBgqZyAyAEEhMQMDAyMDAxMDAwMDAwMDAwMTATBgorBgEEAYKm
        cgMhBAUTA1BGWDAuBgNVHREEJzAlgSNwYXRyaWNpby5hbmRpbm9Ac2VjdXJpdHlkYXRhLm5ldC5l
        YzCCAnkGA1UdHwSCAnAwggJsMIICaKCCAmSgggJghj1odHRwOi8vb2NzcGd3LnNlY3VyaXR5ZGF0
        YS5uZXQuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9vY3NwhoHUbGRhcDovL2RpcmVjdC5zZWN1
        cml0eWRhdGEubmV0LmVjL2NuPUNSTDg1LGNuPUFVVE9SSURBRCUyMERFJTIwQ0VSVElGSUNBQ0lP
        TiUyMFNVQiUyMFNFQ1VSSVRZJTIwREFUQSxvdT1FTlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9O
        JTIwREUlMjBJTkZPUk1BQ0lPTixvPVNFQ1VSSVRZJTIwREFUQSUyMFMuQS4sYz1FQz9jZXJ0aWZp
        Y2F0ZVJldm9jYXRpb25MaXN0P2Jhc2WGgZ5odHRwczovL2RpcmVjdC5zZWN1cml0eWRhdGEubmV0
        LmVjL35jcmwvYXV0b3JpZGFkX2RlX2NlcnRpZmljYWNpb25fc3ViX3NlY3VyaXR5X2RhdGFfZW50
        aWRhZF9kZV9jZXJ0aWZpY2FjaW9uX2RlX2luZm9ybWFjaW9uX2N1cml0eV9kYXRhX3MuYS5fY19l
        Y19jcmxmaWxlLmNybKSBpjCBozELMAkGA1UEBhMCRUMxGzAZBgNVBAoTElNFQ1VSSVRZIERBVEEg
        Uy5BLjEwMC4GA1UECxMnRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OMTUw
        MwYDVQQDEyxBVVRPUklEQUQgREUgQ0VSVElGSUNBQ0lPTiBTVUIgU0VDVVJJVFkgREFUQTEOMAwG
        A1UEAxMFQ1JMODUwKwYDVR0QBCQwIoAPMjAxNjA2MDMxOTI2MzVagQ8yMDE4MDYwMzE5NTYzNVow
        HwYDVR0jBBgwFoAU9y9M4HXnYqN4llsGti5xO8xsP5AwHQYDVR0OBBYEFOodsnikhv06ozDa503A
        exi8D6X3MAkGA1UdEwQCMAAwGQYJKoZIhvZ9B0EABAwwChsEVjguMQMCA6gwDQYJKoZIhvcNAQEL
        BQADggEBACzN1CcCzjbz14qfPFZtpoS6CvoNwAJM1YiRakjL2duTrlRYhxkgTgydR9kFILJoUjzu
        dqc8EveTQqquQ5DjA4eotu6JAETqGiEO0vA90AdNHIiKtNmjkWgklzC4xsEiS71svbDSW3Tpp44v
        SCQNryo6f2wqjcc1ktYiudA3wUWbHz5v+Oxek7fmrbrmYksbkA5qdXqbhuYu4u7SvTN8abVTGdP3
        5asXon2+7mzODQJa1GcIg3C42wIYWLcUOLbORn1+qGBpn6Ho/IylEPIGmEYCqJmUQdI6M8wgyN+W
        wbxfcBssuSJ4eSG3AzsiaGaNocn1RNRBXxh6oVcnGqAOdw0=
        &lt;/ds:X509Certificate&gt;
        &lt;/ds:X509Data&gt;
        &lt;ds:KeyValue&gt;
        &lt;ds:RSAKeyValue&gt;
        &lt;ds:Modulus&gt;
        rzEW235Jhu7dXJ0k3PwjiebEstikzNZQVYnRnfmxf4jLOtTO4U7OOsSGP1odfFzeDAEQsz7Dz158
        DauLACLcDxsSZFSmdiCCR//x8kZDxnDWWWpD7bPCiqMlxNjj4DrELxv5PA1URcg62BOnWzq2U8b8
        WNrGPJc5yINbR8dM42aqMm5+a5nVxwOHR0YpEGJ4PX7nsgLR4lmsF+tDEjP3hvAf53DnM/d4fDHl
        TCQ1mbKBxgXEq1l6g4vuHKxEUxzAhTRg2/lUSMxeufKiHTz4E/4X1nc5jCWIL9tqPplAXPPQ6DOa
        JwW/wwwbbsJjTa84NW4qFktn49TpI4AIudNrwQ==
        &lt;/ds:Modulus&gt;
        &lt;ds:Exponent&gt;AQAB&lt;/ds:Exponent&gt;
        &lt;/ds:RSAKeyValue&gt;
        &lt;/ds:KeyValue&gt;
        &lt;/ds:KeyInfo&gt;
        &lt;ds:Object Id=\"Signature1045091-Object57467\"&gt;&lt;etsi:QualifyingProperties Target=\"#Signature1045091\"&gt;&lt;etsi:SignedProperties Id=\"Signature1045091-SignedProperties836357\"&gt;&lt;etsi:SignedSignatureProperties&gt;&lt;etsi:SigningTime&gt;2016-11-24T12:22:53-05:00&lt;/etsi:SigningTime&gt;&lt;etsi:SigningCertificate&gt;&lt;etsi:Cert&gt;&lt;etsi:CertDigest&gt;&lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"&gt;&lt;/ds:DigestMethod&gt;&lt;ds:DigestValue&gt;Bj57rczVijQfNbqegTH0F53Tmek=&lt;/ds:DigestValue&gt;&lt;/etsi:CertDigest&gt;&lt;etsi:IssuerSerial&gt;&lt;ds:X509IssuerName&gt;CN=AUTORIDAD DE CERTIFICACION SUB SECURITY DATA,OU=ENTIDAD DE CERTIFICACION DE INFORMACION,O=SECURITY DATA S.A.,C=EC&lt;/ds:X509IssuerName&gt;&lt;ds:X509SerialNumber&gt;1422802398&lt;/ds:X509SerialNumber&gt;&lt;/etsi:IssuerSerial&gt;&lt;/etsi:Cert&gt;&lt;/etsi:SigningCertificate&gt;&lt;/etsi:SignedSignatureProperties&gt;&lt;etsi:SignedDataObjectProperties&gt;&lt;etsi:DataObjectFormat ObjectReference=\"#Reference-ID-623928\"&gt;&lt;etsi:Description&gt;contenido comprobante&lt;/etsi:Description&gt;&lt;etsi:MimeType&gt;text/xml&lt;/etsi:MimeType&gt;&lt;/etsi:DataObjectFormat&gt;&lt;/etsi:SignedDataObjectProperties&gt;&lt;/etsi:SignedProperties&gt;&lt;/etsi:QualifyingProperties&gt;&lt;/ds:Object&gt;&lt;/ds:Signature&gt;&lt;/factura&gt;]]&gt;&lt;/comprobante&gt;
        &lt;/autorizacion&gt;
      "
    }'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="p">,</span> <span class="n">json</span>

<span class="n">import_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"electronic_document"</span><span class="p">:</span> <span class="s">"</span><span class="err">
</span><span class="s">      &lt;?xml version=</span><span class="se">\"</span><span class="s">1.0</span><span class="se">\"</span><span class="s"> encoding=</span><span class="se">\"</span><span class="s">UTF-8</span><span class="se">\"</span><span class="s">?&gt;</span><span class="err">
</span><span class="s">      &lt;autorizacion&gt;</span><span class="err">
</span><span class="s">          &lt;estado&gt;AUTORIZADO&lt;/estado&gt;</span><span class="err">
</span><span class="s">          &lt;numeroAutorizacion&gt;2411201601200100200000939717922618485&lt;/numeroAutorizacion&gt;</span><span class="err">
</span><span class="s">          &lt;fechaAutorizacion class=</span><span class="se">\"</span><span class="s">fechaAutorizacion</span><span class="se">\"</span><span class="s">&gt;24/11/2016 12:49:35 PM&lt;/fechaAutorizacion&gt;</span><span class="err">
</span><span class="s">          &lt;comprobante&gt;&lt;![CDATA[&lt;?xml version=</span><span class="se">\"</span><span class="s">1.0</span><span class="se">\"</span><span class="s"> encoding=</span><span class="se">\"</span><span class="s">UTF-8</span><span class="se">\"</span><span class="s">?&gt;</span><span class="err">
</span><span class="s">      &lt;factura id=</span><span class="se">\"</span><span class="s">comprobante</span><span class="se">\"</span><span class="s"> version=</span><span class="se">\"</span><span class="s">1.0.0</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">          &lt;infoTributaria&gt;</span><span class="err">
</span><span class="s">              &lt;ambiente&gt;2&lt;/ambiente&gt;</span><span class="err">
</span><span class="s">              &lt;tipoEmision&gt;1&lt;/tipoEmision&gt;</span><span class="err">
</span><span class="s">              &lt;razonSocial&gt;Acme Corp.&lt;/razonSocial&gt;</span><span class="err">
</span><span class="s">              &lt;nombreComercial&gt;Acme&lt;/nombreComercial&gt;</span><span class="err">
</span><span class="s">              &lt;ruc&gt;99999999999999&lt;/ruc&gt;</span><span class="err">
</span><span class="s">              &lt;claveAcceso&gt;241120160199999999999990020000093971234567814&lt;/claveAcceso&gt;</span><span class="err">
</span><span class="s">              &lt;codDoc&gt;01&lt;/codDoc&gt;</span><span class="err">
</span><span class="s">              &lt;estab&gt;001&lt;/estab&gt;</span><span class="err">
</span><span class="s">              &lt;ptoEmi&gt;002&lt;/ptoEmi&gt;</span><span class="err">
</span><span class="s">              &lt;secuencial&gt;000009397&lt;/secuencial&gt;</span><span class="err">
</span><span class="s">              &lt;dirMatriz&gt;Palora Y Amazonas&lt;/dirMatriz&gt;</span><span class="err">
</span><span class="s">          &lt;/infoTributaria&gt;</span><span class="err">
</span><span class="s">          &lt;infoFactura&gt;</span><span class="err">
</span><span class="s">              &lt;fechaEmision&gt;24/11/2016&lt;/fechaEmision&gt;</span><span class="err">
</span><span class="s">              &lt;dirEstablecimiento&gt;Palora 37 Y Amazonas&lt;/dirEstablecimiento&gt;</span><span class="err">
</span><span class="s">              &lt;obligadoContabilidad&gt;SI&lt;/obligadoContabilidad&gt;</span><span class="err">
</span><span class="s">              &lt;tipoIdentificacionComprador&gt;04&lt;/tipoIdentificacionComprador&gt;</span><span class="err">
</span><span class="s">              &lt;razonSocialComprador&gt;Datil S. A.&lt;/razonSocialComprador&gt;</span><span class="err">
</span><span class="s">              &lt;identificacionComprador&gt;0992712555001&lt;/identificacionComprador&gt;</span><span class="err">
</span><span class="s">              &lt;totalSinImpuestos&gt;534.60&lt;/totalSinImpuestos&gt;</span><span class="err">
</span><span class="s">              &lt;totalDescuento&gt;59.40&lt;/totalDescuento&gt;</span><span class="err">
</span><span class="s">              &lt;totalConImpuestos&gt;</span><span class="err">
</span><span class="s">                  &lt;totalImpuesto&gt;</span><span class="err">
</span><span class="s">                      &lt;codigo&gt;2&lt;/codigo&gt;</span><span class="err">
</span><span class="s">                      &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;</span><span class="err">
</span><span class="s">                      &lt;baseImponible&gt;534.60&lt;/baseImponible&gt;</span><span class="err">
</span><span class="s">                      &lt;valor&gt;74.84&lt;/valor&gt;</span><span class="err">
</span><span class="s">                  &lt;/totalImpuesto&gt;</span><span class="err">
</span><span class="s">              &lt;/totalConImpuestos&gt;</span><span class="err">
</span><span class="s">              &lt;propina&gt;0.00&lt;/propina&gt;</span><span class="err">
</span><span class="s">              &lt;importeTotal&gt;609.44&lt;/importeTotal&gt;</span><span class="err">
</span><span class="s">              &lt;moneda&gt;DOLAR&lt;/moneda&gt;</span><span class="err">
</span><span class="s">              &lt;pagos&gt;</span><span class="err">
</span><span class="s">                  &lt;pago&gt;</span><span class="err">
</span><span class="s">                      &lt;formaPago&gt;20&lt;/formaPago&gt;</span><span class="err">
</span><span class="s">                      &lt;total&gt;609.44&lt;/total&gt;</span><span class="err">
</span><span class="s">                      &lt;plazo&gt;1&lt;/plazo&gt;</span><span class="err">
</span><span class="s">                      &lt;unidadTiempo&gt;dias&lt;/unidadTiempo&gt;</span><span class="err">
</span><span class="s">                  &lt;/pago&gt;</span><span class="err">
</span><span class="s">              &lt;/pagos&gt;</span><span class="err">
</span><span class="s">          &lt;/infoFactura&gt;</span><span class="err">
</span><span class="s">          &lt;detalles&gt;</span><span class="err">
</span><span class="s">              &lt;detalle&gt;</span><span class="err">
</span><span class="s">                  &lt;codigoPrincipal&gt;12-01-02-001&lt;/codigoPrincipal&gt;</span><span class="err">
</span><span class="s">                  &lt;descripcion&gt;TNT&lt;/descripcion&gt;</span><span class="err">
</span><span class="s">                  &lt;cantidad&gt;22&lt;/cantidad&gt;</span><span class="err">
</span><span class="s">                  &lt;precioUnitario&gt;10.00&lt;/precioUnitario&gt;</span><span class="err">
</span><span class="s">                  &lt;descuento&gt;22.00&lt;/descuento&gt;</span><span class="err">
</span><span class="s">                  &lt;precioTotalSinImpuesto&gt;198.00&lt;/precioTotalSinImpuesto&gt;</span><span class="err">
</span><span class="s">                  &lt;impuestos&gt;</span><span class="err">
</span><span class="s">                      &lt;impuesto&gt;</span><span class="err">
</span><span class="s">                          &lt;codigo&gt;2&lt;/codigo&gt;</span><span class="err">
</span><span class="s">                          &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;</span><span class="err">
</span><span class="s">                          &lt;tarifa&gt;14&lt;/tarifa&gt;</span><span class="err">
</span><span class="s">                          &lt;baseImponible&gt;198.00&lt;/baseImponible&gt;</span><span class="err">
</span><span class="s">                          &lt;valor&gt;27.72&lt;/valor&gt;</span><span class="err">
</span><span class="s">                      &lt;/impuesto&gt;</span><span class="err">
</span><span class="s">                  &lt;/impuestos&gt;</span><span class="err">
</span><span class="s">              &lt;/detalle&gt;</span><span class="err">
</span><span class="s">              &lt;detalle&gt;</span><span class="err">
</span><span class="s">                  &lt;codigoPrincipal&gt;4880102001&lt;/codigoPrincipal&gt;</span><span class="err">
</span><span class="s">                  &lt;descripcion&gt;Fósforos de seguridad&lt;/descripcion&gt;</span><span class="err">
</span><span class="s">                  &lt;cantidad&gt;22&lt;/cantidad&gt;</span><span class="err">
</span><span class="s">                  &lt;precioUnitario&gt;17.00&lt;/precioUnitario&gt;</span><span class="err">
</span><span class="s">                  &lt;descuento&gt;37.40&lt;/descuento&gt;</span><span class="err">
</span><span class="s">                  &lt;precioTotalSinImpuesto&gt;336.60&lt;/precioTotalSinImpuesto&gt;</span><span class="err">
</span><span class="s">                  &lt;impuestos&gt;</span><span class="err">
</span><span class="s">                      &lt;impuesto&gt;</span><span class="err">
</span><span class="s">                          &lt;codigo&gt;2&lt;/codigo&gt;</span><span class="err">
</span><span class="s">                          &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;</span><span class="err">
</span><span class="s">                          &lt;tarifa&gt;14&lt;/tarifa&gt;</span><span class="err">
</span><span class="s">                          &lt;baseImponible&gt;336.60&lt;/baseImponible&gt;</span><span class="err">
</span><span class="s">                          &lt;valor&gt;47.12&lt;/valor&gt;</span><span class="err">
</span><span class="s">                      &lt;/impuesto&gt;</span><span class="err">
</span><span class="s">                  &lt;/impuestos&gt;</span><span class="err">
</span><span class="s">              &lt;/detalle&gt;</span><span class="err">
</span><span class="s">          &lt;/detalles&gt;</span><span class="err">
</span><span class="s">          &lt;infoAdicional&gt;</span><span class="err">
</span><span class="s">              &lt;campoAdicional nombre=</span><span class="se">\"</span><span class="s">dirCliente</span><span class="se">\"</span><span class="s">&gt;The cliff&lt;/campoAdicional&gt;</span><span class="err">
</span><span class="s">              &lt;campoAdicional nombre=</span><span class="se">\"</span><span class="s">telfCliente</span><span class="se">\"</span><span class="s">&gt;555 5555&lt;/campoAdicional&gt;</span><span class="err">
</span><span class="s">              &lt;campoAdicional nombre=</span><span class="se">\"</span><span class="s">ciudadCliente</span><span class="se">\"</span><span class="s">&gt;Guayaquil&lt;/campoAdicional&gt;</span><span class="err">
</span><span class="s">              &lt;campoAdicional nombre=</span><span class="se">\"</span><span class="s">observacion</span><span class="se">\"</span><span class="s">&gt;Manejar la carga con precaución&lt;/campoAdicional&gt;</span><span class="err">
</span><span class="s">          &lt;/infoAdicional&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Signature xmlns:ds=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#</span><span class="se">\"</span><span class="s"> xmlns:etsi=</span><span class="se">\"</span><span class="s">http://uri.etsi.org/01903/v1.3.2#</span><span class="se">\"</span><span class="s"> Id=</span><span class="se">\"</span><span class="s">Signature1045091</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:SignedInfo Id=</span><span class="se">\"</span><span class="s">Signature-SignedInfo601725</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:CanonicalizationMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/TR/2001/REC-xml-c14n-20010315</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:CanonicalizationMethod&gt;</span><span class="err">
</span><span class="s">      &lt;ds:SignatureMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#rsa-sha1</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:SignatureMethod&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Reference Id=</span><span class="se">\"</span><span class="s">SignedPropertiesID239839</span><span class="se">\"</span><span class="s"> Type=</span><span class="se">\"</span><span class="s">http://uri.etsi.org/01903#SignedProperties</span><span class="se">\"</span><span class="s"> URI=</span><span class="se">\"</span><span class="s">#Signature1045091-SignedProperties836357</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#sha1</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:DigestMethod&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestValue&gt;MnIK5RfVmbYVxP+TMe0pVgpYJEM=&lt;/ds:DigestValue&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:Reference&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Reference URI=</span><span class="se">\"</span><span class="s">#Certificate1593074</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#sha1</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:DigestMethod&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestValue&gt;nVizRbnLCJNqrttEXqbYW9csutY=&lt;/ds:DigestValue&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:Reference&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Reference Id=</span><span class="se">\"</span><span class="s">Reference-ID-623928</span><span class="se">\"</span><span class="s"> URI=</span><span class="se">\"</span><span class="s">#comprobante</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Transforms&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Transform Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#enveloped-signature</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:Transform&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:Transforms&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#sha1</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:DigestMethod&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestValue&gt;uZZlQDETRz2ySjoCRgNiupguX4g=&lt;/ds:DigestValue&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:Reference&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:SignedInfo&gt;</span><span class="err">
</span><span class="s">      &lt;ds:SignatureValue Id=</span><span class="se">\"</span><span class="s">SignatureValue454111</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      pVNXwneGQW6fRL/4j8I77yHKrL823NgTmKu1uc1NWNsghhgnjmwZnQbrSB3Xw9aFhYGXbWAVMKxA</span><span class="err">
</span><span class="s">      o/scbPMpzXRh50NUJrSOnF8nmDK+Zysw14iVRLbXcyN8fC1QO1F+OkStwSTQQou/mKRwoA1RzZwp</span><span class="err">
</span><span class="s">      KqQ6W8QB7jU3EAaq51kOeOtIC+7ohCAVnP87Rm72inQpvTXIY/OV3H1B7pWSqXoymaFSnWZ4XzvB</span><span class="err">
</span><span class="s">      +ALGHYtLCviJrv1lY1zpmz8J9zkjyBARQhSNCGGmVIOk0IvbiWdy9a6iIbm0AwXB17hEyWxHBQMa</span><span class="err">
</span><span class="s">      Zw4sZOVh2hP4RUWbm4Gcj/S5QSgJhU+qAjEeYQ==</span><span class="err">
</span><span class="s">      &lt;/ds:SignatureValue&gt;</span><span class="err">
</span><span class="s">      &lt;ds:KeyInfo Id=</span><span class="se">\"</span><span class="s">Certificate1593074</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:X509Data&gt;</span><span class="err">
</span><span class="s">      &lt;ds:X509Certificate&gt;</span><span class="err">
</span><span class="s">      MIIJ6zCCCNOgAwIBAgIEVM493jANBgkqhkiG9w0BAQsFADCBkzELMAkGA1UEBhMCRUMxGzAZBgNV</span><span class="err">
</span><span class="s">      BAoTElNFQ1VSSVRZIERBVEEgUy5BLjEwMC4GA1UECxMnRU5USURBRCBERSBDRVJUSUZJQ0FDSU9O</span><span class="err">
</span><span class="s">      IERFIElORk9STUFDSU9OMTUwMwYDVQQDEyxBVVRPUklEQUQgREUgQ0VSVElGSUNBQ0lPTiBTVUIg</span><span class="err">
</span><span class="s">      U0VDVVJJVFkgREFUQTAeFw0xNjA2MDMxOTI2MzVaFw0xODA2MDMxOTU2MzVaMIGYMQswCQYDVQQG</span><span class="err">
</span><span class="s">      EwJFQzEbMBkGA1UEChMSU0VDVVJJVFkgREFUQSBTLkEuMTAwLgYDVQQLEydFTlRJREFEIERFIENF</span><span class="err">
</span><span class="s">      UlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04xOjATBgNVBAUTDDAzMDYxNjE0NTIyMjAjBgNVBAMT</span><span class="err">
</span><span class="s">      HFJhbWlybyBQYXRyaWNpbyBBbmRpbm8gQm9yamEwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK</span><span class="err">
</span><span class="s">      AoIBAQCvMRbbfkmG7t1cnSTc/COJ5sSy2KTM1lBVidGd+bF/iMs61M7hTs46xIY/Wh18XN4MARCz</span><span class="err">
</span><span class="s">      PsPPXnwNq4sAItwPGxJkVKZ2IIJH//HyRkPGcNZZakPts8KKoyXE2OPgOsQvG/k8DVRFyDrYE6db</span><span class="err">
</span><span class="s">      OrZTxvxY2sY8lznIg1tHx0zjZqoybn5rmdXHA4dHRikQYng9fueyAtHiWawX60MSM/eG8B/ncOcz</span><span class="err">
</span><span class="s">      93h8MeVMJDWZsoHGBcSrWXqDi+4crERTHMCFNGDb+VRIzF658qIdPPgT/hfWdzmMJYgv22o+mUBc</span><span class="err">
</span><span class="s">      89DoM5onBb/DDBtuwmNNrzg1bioWS2fj1OkjgAi502vBAgMBAAGjggY+MIIGOjALBgNVHQ8EBAMC</span><span class="err">
</span><span class="s">      BeAwWQYIKwYBBQUHAQEETTBLMEkGCCsGAQUFBzABhj1odHRwOi8vb2NzcGd3LnNlY3VyaXR5ZGF0</span><span class="err">
</span><span class="s">      YS5uZXQuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9vY3NwMIHKBgNVHSAEgcIwgb8wPwYKKwYB</span><span class="err">
</span><span class="s">      BAGCpnICCjAxMC8GCCsGAQUFBwICMCMaIUNlcnRpZmljYWRvIGRlIE1pZW1icm8gZGUgRW1wcmVz</span><span class="err">
</span><span class="s">      YTB8BgorBgEEAYKmcgIEMG4wbAYIKwYBBQUHAgEWYGh0dHBzOi8vd3d3LnNlY3VyaXR5ZGF0YS5u</span><span class="err">
</span><span class="s">      ZXQuZWMvbGV5ZXNfbm9ybWF0aXZhcy9Qb2xpdGljYXMgZGUgQ2VydGlmaWNhZG8gTWllbWJybyBk</span><span class="err">
</span><span class="s">      ZSBFbXByZXNhLnBkZjBFBgorBgEEAYKmcgMKBDcTNVNFQ1VSSVRZIERBVEEgU0VHVVJJREFEIEVO</span><span class="err">
</span><span class="s">      IERBVE9TIFkgRklSTUEgRElHSVRBTCBTLkEuMB0GCisGAQQBgqZyAwsEDxMNMTc5MjI2MTg0ODAw</span><span class="err">
</span><span class="s">      MTAaBgorBgEEAYKmcgMBBAwTCjE3MTU5ODg0NzEwHwYKKwYBBAGCpnIDAgQREw9SYW1pcm8gUGF0</span><span class="err">
</span><span class="s">      cmljaW8wFgYKKwYBBAGCpnIDAwQIEwZBbmRpbm8wFQYKKwYBBAGCpnIDBAQHEwVCb3JqYTAjBgor</span><span class="err">
</span><span class="s">      BgEEAYKmcgMFBBUTE0Nvb3JkaW5hZG9yIEdlbmVyYWwwMAYKKwYBBAGCpnIDBwQiEyBQYWxvcmEg</span><span class="err">
</span><span class="s">      T2UyLTM3IFkgQXYuIFJpbyBBbWF6b25hczAWBgorBgEEAYKmcgMiBAgTBjE3MDUwMTAbBgorBgEE</span><span class="err">
</span><span class="s">      AYKmcgMIBA0TCzU5MzIzOTYzMTEwMBUGCisGAQQBgqZyAwkEBxMFUVVJVE8wFwYKKwYBBAGCpnID</span><span class="err">
</span><span class="s">      DAQJEwdFY3VhZG9yMCAGCisGAQQBgqZyAyAEEhMQMDAyMDAxMDAwMDAwMDAwMTATBgorBgEEAYKm</span><span class="err">
</span><span class="s">      cgMhBAUTA1BGWDAuBgNVHREEJzAlgSNwYXRyaWNpby5hbmRpbm9Ac2VjdXJpdHlkYXRhLm5ldC5l</span><span class="err">
</span><span class="s">      YzCCAnkGA1UdHwSCAnAwggJsMIICaKCCAmSgggJghj1odHRwOi8vb2NzcGd3LnNlY3VyaXR5ZGF0</span><span class="err">
</span><span class="s">      YS5uZXQuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9vY3NwhoHUbGRhcDovL2RpcmVjdC5zZWN1</span><span class="err">
</span><span class="s">      cml0eWRhdGEubmV0LmVjL2NuPUNSTDg1LGNuPUFVVE9SSURBRCUyMERFJTIwQ0VSVElGSUNBQ0lP</span><span class="err">
</span><span class="s">      TiUyMFNVQiUyMFNFQ1VSSVRZJTIwREFUQSxvdT1FTlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9O</span><span class="err">
</span><span class="s">      JTIwREUlMjBJTkZPUk1BQ0lPTixvPVNFQ1VSSVRZJTIwREFUQSUyMFMuQS4sYz1FQz9jZXJ0aWZp</span><span class="err">
</span><span class="s">      Y2F0ZVJldm9jYXRpb25MaXN0P2Jhc2WGgZ5odHRwczovL2RpcmVjdC5zZWN1cml0eWRhdGEubmV0</span><span class="err">
</span><span class="s">      LmVjL35jcmwvYXV0b3JpZGFkX2RlX2NlcnRpZmljYWNpb25fc3ViX3NlY3VyaXR5X2RhdGFfZW50</span><span class="err">
</span><span class="s">      aWRhZF9kZV9jZXJ0aWZpY2FjaW9uX2RlX2luZm9ybWFjaW9uX2N1cml0eV9kYXRhX3MuYS5fY19l</span><span class="err">
</span><span class="s">      Y19jcmxmaWxlLmNybKSBpjCBozELMAkGA1UEBhMCRUMxGzAZBgNVBAoTElNFQ1VSSVRZIERBVEEg</span><span class="err">
</span><span class="s">      Uy5BLjEwMC4GA1UECxMnRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OMTUw</span><span class="err">
</span><span class="s">      MwYDVQQDEyxBVVRPUklEQUQgREUgQ0VSVElGSUNBQ0lPTiBTVUIgU0VDVVJJVFkgREFUQTEOMAwG</span><span class="err">
</span><span class="s">      A1UEAxMFQ1JMODUwKwYDVR0QBCQwIoAPMjAxNjA2MDMxOTI2MzVagQ8yMDE4MDYwMzE5NTYzNVow</span><span class="err">
</span><span class="s">      HwYDVR0jBBgwFoAU9y9M4HXnYqN4llsGti5xO8xsP5AwHQYDVR0OBBYEFOodsnikhv06ozDa503A</span><span class="err">
</span><span class="s">      exi8D6X3MAkGA1UdEwQCMAAwGQYJKoZIhvZ9B0EABAwwChsEVjguMQMCA6gwDQYJKoZIhvcNAQEL</span><span class="err">
</span><span class="s">      BQADggEBACzN1CcCzjbz14qfPFZtpoS6CvoNwAJM1YiRakjL2duTrlRYhxkgTgydR9kFILJoUjzu</span><span class="err">
</span><span class="s">      dqc8EveTQqquQ5DjA4eotu6JAETqGiEO0vA90AdNHIiKtNmjkWgklzC4xsEiS71svbDSW3Tpp44v</span><span class="err">
</span><span class="s">      SCQNryo6f2wqjcc1ktYiudA3wUWbHz5v+Oxek7fmrbrmYksbkA5qdXqbhuYu4u7SvTN8abVTGdP3</span><span class="err">
</span><span class="s">      5asXon2+7mzODQJa1GcIg3C42wIYWLcUOLbORn1+qGBpn6Ho/IylEPIGmEYCqJmUQdI6M8wgyN+W</span><span class="err">
</span><span class="s">      wbxfcBssuSJ4eSG3AzsiaGaNocn1RNRBXxh6oVcnGqAOdw0=</span><span class="err">
</span><span class="s">      &lt;/ds:X509Certificate&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:X509Data&gt;</span><span class="err">
</span><span class="s">      &lt;ds:KeyValue&gt;</span><span class="err">
</span><span class="s">      &lt;ds:RSAKeyValue&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Modulus&gt;</span><span class="err">
</span><span class="s">      rzEW235Jhu7dXJ0k3PwjiebEstikzNZQVYnRnfmxf4jLOtTO4U7OOsSGP1odfFzeDAEQsz7Dz158</span><span class="err">
</span><span class="s">      DauLACLcDxsSZFSmdiCCR//x8kZDxnDWWWpD7bPCiqMlxNjj4DrELxv5PA1URcg62BOnWzq2U8b8</span><span class="err">
</span><span class="s">      WNrGPJc5yINbR8dM42aqMm5+a5nVxwOHR0YpEGJ4PX7nsgLR4lmsF+tDEjP3hvAf53DnM/d4fDHl</span><span class="err">
</span><span class="s">      TCQ1mbKBxgXEq1l6g4vuHKxEUxzAhTRg2/lUSMxeufKiHTz4E/4X1nc5jCWIL9tqPplAXPPQ6DOa</span><span class="err">
</span><span class="s">      JwW/wwwbbsJjTa84NW4qFktn49TpI4AIudNrwQ==</span><span class="err">
</span><span class="s">      &lt;/ds:Modulus&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Exponent&gt;AQAB&lt;/ds:Exponent&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:RSAKeyValue&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:KeyValue&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:KeyInfo&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Object Id=</span><span class="se">\"</span><span class="s">Signature1045091-Object57467</span><span class="se">\"</span><span class="s">&gt;&lt;etsi:QualifyingProperties Target=</span><span class="se">\"</span><span class="s">#Signature1045091</span><span class="se">\"</span><span class="s">&gt;&lt;etsi:SignedProperties Id=</span><span class="se">\"</span><span class="s">Signature1045091-SignedProperties836357</span><span class="se">\"</span><span class="s">&gt;&lt;etsi:SignedSignatureProperties&gt;&lt;etsi:SigningTime&gt;2016-11-24T12:22:53-05:00&lt;/etsi:SigningTime&gt;&lt;etsi:SigningCertificate&gt;&lt;etsi:Cert&gt;&lt;etsi:CertDigest&gt;&lt;ds:DigestMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#sha1</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:DigestMethod&gt;&lt;ds:DigestValue&gt;Bj57rczVijQfNbqegTH0F53Tmek=&lt;/ds:DigestValue&gt;&lt;/etsi:CertDigest&gt;&lt;etsi:IssuerSerial&gt;&lt;ds:X509IssuerName&gt;CN=AUTORIDAD DE CERTIFICACION SUB SECURITY DATA,OU=ENTIDAD DE CERTIFICACION DE INFORMACION,O=SECURITY DATA S.A.,C=EC&lt;/ds:X509IssuerName&gt;&lt;ds:X509SerialNumber&gt;1422802398&lt;/ds:X509SerialNumber&gt;&lt;/etsi:IssuerSerial&gt;&lt;/etsi:Cert&gt;&lt;/etsi:SigningCertificate&gt;&lt;/etsi:SignedSignatureProperties&gt;&lt;etsi:SignedDataObjectProperties&gt;&lt;etsi:DataObjectFormat ObjectReference=</span><span class="se">\"</span><span class="s">#Reference-ID-623928</span><span class="se">\"</span><span class="s">&gt;&lt;etsi:Description&gt;contenido comprobante&lt;/etsi:Description&gt;&lt;etsi:MimeType&gt;text/xml&lt;/etsi:MimeType&gt;&lt;/etsi:DataObjectFormat&gt;&lt;/etsi:SignedDataObjectProperties&gt;&lt;/etsi:SignedProperties&gt;&lt;/etsi:QualifyingProperties&gt;&lt;/ds:Object&gt;&lt;/ds:Signature&gt;&lt;/factura&gt;]]&gt;&lt;/comprobante&gt;</span><span class="err">
</span><span class="s">      &lt;/autorizacion&gt;</span><span class="err">
</span><span class="s">    "</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://api.datil.co/locations/:location-id/purchases/invoices/imports"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">import_data</span><span class="p">))</span>
</code></pre>
<p>Es necesario enviar el XML que representa al documento electrónico autorizado,
para obtener la información de la autorización.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><span class="dt-attr">electronic_document</span><p class="dt-data-param-required">requerido</p></td>
<td>Documento electrónico autorizado</td>
</tr>
</tbody></table>
<h4 id='respuesta'>Respuesta</h4>
<blockquote>
<h5 id='respuesta-de-ejemplo'>Respuesta de ejemplo</h5></blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"_id"</span><span class="p">:</span><span class="mi">2389866</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created"</span><span class="p">:</span><span class="s2">"2017-01-26T23:31:18.872246+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"VICTOR EMILIO ESTRADA 112 Y CIRCUNVALACION NORTE EDIFICIO C3 PISO 2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"business"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"juliana.toala@datilmedia.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"DATILMEDIA S.A."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="s2">"0990289327"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_id"</span><span class="p">:</span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_id_type"</span><span class="p">:</span><span class="s2">"04"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"0ca59ad093474d4889974fbabd71cdb7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"additional_information"</span><span class="p">:[</span><span class="w">

      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"WEB CERTIFICATES"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"discount"</span><span class="p">:</span><span class="s2">"22.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">225858</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="s2">"22.000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sk"</span><span class="p">:</span><span class="s2">"12-01-02-001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="s2">"198.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="s2">"1400.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxable_base"</span><span class="p">:</span><span class="s2">"198.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"total"</span><span class="p">:</span><span class="s2">"27.72"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"total"</span><span class="p">:</span><span class="s2">"225.72"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="s2">"10.000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"additional_information"</span><span class="p">:[</span><span class="w">

      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"SOPORTE CERT  BAJO VOL 1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"discount"</span><span class="p">:</span><span class="s2">"37.40"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">225859</span><span class="p">,</span><span class="w">
      </span><span class="s2">"product_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"quantity"</span><span class="p">:</span><span class="s2">"22.000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sk"</span><span class="p">:</span><span class="s2">"4880102001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="s2">"336.60"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="s2">"1400.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxable_base"</span><span class="p">:</span><span class="s2">"336.60"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"total"</span><span class="p">:</span><span class="s2">"47.12"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"total"</span><span class="p">:</span><span class="s2">"383.72"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="s2">"17.000000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="s2">"9397"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"payment_methods"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="s2">"609.44"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"due_date"</span><span class="p">:</span><span class="s2">"2016-11-25"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"method"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"pos"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">248</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"supplier"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"Palora y Amazonas"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="s2">"Acme"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"ventas@acme.com.ec"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="s2">"Acme Corp"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"locality"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"Palora y Amazonas"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"administrative_district_level_2"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"3b604211-aca1-4348-8968-6f6b71f60555"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="s2">"9999999999999"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"totals"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"discount"</span><span class="p">:</span><span class="s2">"59.40"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subtotal"</span><span class="p">:</span><span class="s2">"534.60"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"taxes"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxable_base"</span><span class="p">:</span><span class="s2">"534.60"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="s2">"74.84"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"tip"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="s2">"609.44"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retorna un objeto <em>purchase invoice</em> que representa a la factura recién
registrada. Si algo sale mal responde con un <a href="#errors">error</a>.
Recuerda que el XML debe corresponder a la autorización del comprobante y no
sólo del comprobante.</p>
<h3 id='registro-de-una-factura-de-compra'>Registro de una factura de compra</h3><h4 id='operacion-2'>Operación</h4>
<p><code>POST /locations/:location-id/invoices</code></p>
<h4 id='requerimiento-2'>Requerimiento</h4>
<blockquote>
<h5 id='requerimiento-de-ejemplo-2'>Requerimiento de ejemplo</h5></blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://link.datil.co/location/31a8edd4-cf56-4435-a387-7bf1d2eb94e1/invoices/issue <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
      "country": "EC",
      "device_id": "9008edd4-cf56-4435-a387-7bf1d2eb9aef",
      "sequence": 2,
      "uuid": "2211201601099022690300110010030000011701993241014",
      "issue_date": "2016-11-22 23:00:00",
      "customer": {
        "tax_identification_type": "31",
        "properties": [],
        "address": "Carrera 10 Calle 1",
        "email": "w@datil.co",
        "phone": "57122222222222",
        "locality": "Bogota DC",
        "sublocality": "Centro",
        "tax_identification": "1050320-1",
        "tax_level_code": "2",
        "person": {
          "first_name": "Juan",
          "middle_name": "A.",
          "last_name": "Argüello"
        },
        "administrative_district_level_1": "Guayas",
        "country": "EC"
      },
      "taxes": [
        {
          "amount": 419046.82,
          "tax_code": "03",
          "tax_rate": 4.14,
          "rate_code": "3",
          "taxable_amount": 10121904.00
        },
        {
          "amount": 1619504.64,
          "tax_code": "01",
          "tax_rate": 16.00,
          "rate_code": "3",
          "taxable_amount": 10121904.00
        }
      ],
      "totals": {
        "subtotal_amount": 10121904.00,
        "total_tax_amount": 2038551.46,
        "total_amount": 12160455.46,
      }
      "currency": "USD",
      "items": [
        {
          "description": "Apple",
          "properties": {
            "key": "size",
            "value": "M"
          },
          "unit_discount": "1.00",
          "unit_code": "units",
          "unit_price": "4.3256",
          "id": "afb0110982731abc",
          "subtotal_amount": "6.65",
          "quantity": "2"
        }
      ],
      "properties": [
         {
           "key": "Contract Number",
           "value": "420420"
         }
       ],
       "payments": [
         {
           "properties": {
             "account_number": "2223XXXX23",
             "bank": "Bancolombia"
           },
           "amount": 1.09,
           "method": "42"
         }
       ],
  }'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="p">,</span> <span class="n">json</span>

<span class="n">invoice</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"country"</span><span class="p">:</span> <span class="s">"EC"</span><span class="p">,</span>
      <span class="s">"location_code"</span><span class="p">:</span> <span class="s">"001"</span><span class="p">,</span>
      <span class="s">"device_id"</span><span class="p">:</span> <span class="s">"9008edd4-cf56-4435-a387-7bf1d2eb9aef"</span><span class="p">,</span>
      <span class="s">"sequence"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s">"uuid"</span><span class="p">:</span> <span class="s">"12345-12345-12345-12345-12345"</span><span class="p">,</span>
      <span class="s">"issue_date"</span><span class="p">:</span> <span class="s">"2016-11-22 23:00:00"</span><span class="p">,</span>
      <span class="s">"customer"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"tax_identification_type"</span><span class="p">:</span> <span class="s">"31"</span><span class="p">,</span>
        <span class="s">"properties"</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s">"address"</span><span class="p">:</span> <span class="s">"Carrera 10 Calle 1"</span><span class="p">,</span>
        <span class="s">"email"</span><span class="p">:</span> <span class="s">"w@datil.co"</span><span class="p">,</span>
        <span class="s">"phone"</span><span class="p">:</span> <span class="s">"57122222222222"</span><span class="p">,</span>
        <span class="s">"locality"</span><span class="p">:</span> <span class="s">"Bogota DC"</span><span class="p">,</span>
        <span class="s">"sublocality"</span><span class="p">:</span> <span class="s">"Centro"</span><span class="p">,</span>
        <span class="s">"tax_identification"</span><span class="p">:</span> <span class="s">"1050320-1"</span><span class="p">,</span>
        <span class="s">"tax_level_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
        <span class="s">"person"</span><span class="p">:</span> <span class="p">{</span><span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Juan"</span><span class="p">,</span>
                   <span class="s">"middle_name"</span><span class="p">:</span> <span class="s">"A."</span><span class="p">,</span>
                   <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Argüello"</span><span class="p">},</span>
        <span class="s">"administrative_district_level_1"</span><span class="p">:</span> <span class="s">"Guayas"</span><span class="p">,</span>
        <span class="s">"country"</span><span class="p">:</span> <span class="s">"EC"</span>
      <span class="p">},</span>
      <span class="s">"taxes"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"amount"</span><span class="p">:</span> <span class="mf">419046.82</span><span class="p">,</span>
          <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"03"</span><span class="p">,</span>
          <span class="s">"tax_rate"</span><span class="p">:</span> <span class="mf">4.14</span><span class="p">,</span>
          <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span>
          <span class="s">"taxable_amount"</span><span class="p">:</span> <span class="mf">10121904.00</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s">"amount"</span><span class="p">:</span> <span class="mf">1619504.64</span><span class="p">,</span>
          <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"01"</span><span class="p">,</span>
          <span class="s">"tax_rate"</span><span class="p">:</span> <span class="mf">16.00</span><span class="p">,</span>
          <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span>
          <span class="s">"taxable_amount"</span><span class="p">:</span> <span class="mf">10121904.00</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s">"totals"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"subtotal_amount"</span><span class="p">:</span> <span class="mf">10121904.00</span><span class="p">,</span>
        <span class="s">"total_tax_amount"</span><span class="p">:</span> <span class="mf">2038551.46</span><span class="p">,</span>
        <span class="s">"total_amount"</span><span class="p">:</span> <span class="mf">12160455.46</span><span class="p">,</span>
      <span class="p">}</span>
      <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span><span class="p">,</span>
      <span class="s">"items"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"description"</span><span class="p">:</span> <span class="s">"Apple"</span><span class="p">,</span>
          <span class="s">"properties"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"key"</span><span class="p">:</span> <span class="s">"size"</span><span class="p">,</span>
            <span class="s">"value"</span><span class="p">:</span> <span class="s">"M"</span>
          <span class="p">},</span>
          <span class="s">"unit_discount"</span><span class="p">:</span> <span class="mf">0.00</span><span class="p">,</span>
          <span class="s">"unit_code"</span><span class="p">:</span> <span class="s">"units"</span><span class="p">,</span>
          <span class="s">"unit_price"</span><span class="p">:</span> <span class="mf">43256.00</span><span class="p">,</span>
          <span class="s">"id"</span><span class="p">:</span> <span class="s">"ABC"</span><span class="p">,</span>
          <span class="s">"subtotal_amount"</span><span class="p">:</span> <span class="mf">10121904.00</span><span class="p">,</span>
          <span class="s">"total_amount"</span><span class="p">:</span> <span class="mf">1.15</span><span class="p">,</span>
          <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">234</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
           <span class="s">"key"</span><span class="p">:</span> <span class="s">"Contract Number"</span><span class="p">,</span>
           <span class="s">"value"</span><span class="p">:</span> <span class="s">"420420"</span>
         <span class="p">}</span>
       <span class="p">],</span>
       <span class="s">"payments"</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
           <span class="s">"properties"</span><span class="p">:</span> <span class="p">{</span>
             <span class="s">"account_number"</span><span class="p">:</span> <span class="s">"2223XXXX23"</span><span class="p">,</span>
             <span class="s">"bank"</span><span class="p">:</span> <span class="s">"Bancolombia"</span>
           <span class="p">},</span>
           <span class="s">"amount"</span><span class="p">:</span> <span class="mf">1.09</span><span class="p">,</span>
           <span class="s">"method"</span><span class="p">:</span> <span class="s">"42"</span>
         <span class="p">}</span>
       <span class="p">],</span>
  <span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;clave-certificado-firma&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://api.datil.co/locations/31a8edd4-cf56-4435-a387-7bf1d2eb94e1/invoices/issue"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">invoice</span><span class="p">))</span>
</code></pre>
<p>Para la emisión de una factura se debe enviar la información completa de la
venta. Las facturas emitidas con un API key de pruebas, serán enviadas al
ambiente de pruebas del SRI.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>sequence<p class="dt-data-type">opcional</p></td>
<td>Número entero positivo mayor a cero</td>
</tr>
<tr>
<td>currency<br><strong>requerido</strong></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">opcional</p></td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>totals<p class="dt-data-type">objeto tipo <a href="#invoice-totals">totals</a></p></td>
<td>Totales de la factura</td>
</tr>
<tr>
<td>customer<p class="dt-data-type">objeto tipo <a href="#contact">contact</a></td>
<td>Información del comprador.</td>
</tr>
<tr>
<td>items<p class="dt-data-type">arreglo de <a href="#invoice-item">items</a></p></td>
<td>Bienes o servicios vendidos.</td>
</tr>
<tr>
<td>uuid<p class="dt-data-type">string</p></td>
<td>La clave de acceso de la factura. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">objeto</p></td>
<td>Información adicional adjunta al comprobante en forma de diccionario. Ejemplo:<br><code>{&quot;plan&quot;: &quot;Inicial&quot;, &quot;vigencia&quot;: &quot;1 mes&quot;}</code></td>
</tr>
<tr>
<td>payments<p class="dt-data-type">arreglo <a href="#payment">payment</a></p></td>
<td>Pagos realizados a la factura.</td>
</tr>
<tr>
<td>payment_methods<p class="dt-data-type">arreglo <a href="#payment_method">payment_method</a></p></td>
<td>Listado de formas de pago aplicables a la factura.</td>
</tr>
<tr>
<td>payment_terms</td>
<td>Objeto de tipo <a href="#cr-dito">credito</a></td>
</tr>
</tbody></table>
<h5 id='totals'>Totals</h5>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>total_sin_impuestos</td>
<td>float</td>
<td>Total antes de los impuestos. <strong>Requerido</strong></td>
</tr>
<tr>
<td>descuento_adicional</td>
<td>float</td>
<td>Descuento aplicado al subtotal de la factura expresado en valor monetario.</td>
</tr>
<tr>
<td>descuento</td>
<td>float</td>
<td>Suma de los descuentos de cada ítem y del descuento adicional. <strong>Requerido</strong></td>
</tr>
<tr>
<td>propina</td>
<td>float</td>
<td>Propina total, llamado también servicio. <strong>Requerido</strong></td>
</tr>
<tr>
<td>importe_total</td>
<td>float</td>
<td>Total incluyendo impuestos. <strong>Requerido</strong></td>
</tr>
<tr>
<td>impuestos</td>
<td>listado de objetos <a href="#total-impuesto">total impuesto</a></td>
<td>Listado de impuesto totalizados. <strong>Requerido</strong></td>
</tr>
</tbody></table>
<h5 id='payments'>Payments</h5>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>fecha</td>
<td>string</td>
<td>Fecha de recepción del pago en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>. Si no es especificado se utiliza la fecha y hora actual.</td>
</tr>
<tr>
<td>medio</td>
<td>string</td>
<td>Código del <a href="#tipos-de-forma-de-pago">tipo de forma de pago</a>. <strong>Requerido</strong></td>
</tr>
<tr>
<td>total</td>
<td>float</td>
<td>Total aplicable a la forma de pago especificada. <strong>Requerido</strong></td>
</tr>
<tr>
<td>propiedades</td>
<td>objeto</td>
<td>Información adicional adjunta al pago en forma de diccionario. Ejemplo:<br><code>{&quot;plazo&quot;: &quot;30&quot;, &quot;unidad_tiempo&quot;: &quot;dias&quot;}</code></td>
</tr>
</tbody></table>
<h5 id='payment-terms'>Payment terms</h5>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>fecha_vencimiento</td>
<td>string</td>
<td>Fecha de vencimiento en formato AAAA-MM-DD, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>. <strong>Requerido</strong></td>
</tr>
<tr>
<td>monto</td>
<td>float</td>
<td>Monto otorgado de crédito. <strong>Requerido</strong></td>
</tr>
</tbody></table>

<p>Retorna un objeto <strong><a href="#el-objeto-invoice">invoice</a></strong> que incluye un nuevo parámetro <code>id</code>,
el cual identifica de manera única a la factura. El campo <code>clave_acceso</code> generado
también se incluirá como parte de la respuesta.</p>
<h3 id='consulta-de-una-factura'>Consulta de una factura</h3>
<p>Consulta una factura para obtener toda la información del comprobante,
incluyendo el estado de autorización del mismo.
El atributo <code>status</code> de la respuesta obtenida al invocar esta operación, indica
el estado actual del comprobante.</p>

<p>Si es necesario conocer en detalle el estado del <a href="#proceso-de-emisión">proceso de emisión</a>,
se debe examinar el atributos <code>authorization</code> de la factura.</p>
<h4 id='operacion-3'>Operación</h4>
<p><code>GET /locations/:location-id/sales/invoices/:invoice-id</code></p>
<h4 id='requerimiento-3'>Requerimiento</h4>
<blockquote>
<h5 id='requerimiento-de-ejemplo-3'>Requerimiento de ejemplo</h5></blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://link.datil.co/invoices/&lt;invoice-id&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;clave-del-api&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span> <span class="se">\</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/invoices/&lt;id-factura&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre><pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="kt">var</span> <span class="n">idFactura</span> <span class="p">=</span> <span class="s">"&lt;id-factura&gt;"</span><span class="p">;</span>
      <span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"invoices/"</span> <span class="p">+</span> <span class="n">idFactura</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>

      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>Reemplaza en la ruta <code>&lt;invoice-ID&gt;</code> por el <code>id</code> de la factura que necesitas consultar.</p>
<h4 id='respuesta-2'>Respuesta</h4>
<blockquote>
<h5 id='respuesta-de-ejemplo-2'>Respuesta de ejemplo</h5></blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcf12343faad06785"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secuencial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fecha_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-15"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201501099271255500110011000000000162092727615"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"emisor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992712555001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil S.A."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dátil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"establecimiento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V.E. 112 Y CIRCUNVALACION NORTE"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"punto_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"correos_enviados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"fecha_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:36:48.274604"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"destinatarios"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juanantonioplaza@datilmedia.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"guia_remision"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"moneda"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"ambiente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"propina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"importe_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"168.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"comprador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos L. Plaza"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0900102222"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cplaza@gye593.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Uno y Calle Dos"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"043334445"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"envio_sri"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIBIDA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"tipo_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"detalles_adicionales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"Estadía"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2 noches"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Habitación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"203"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"cantidad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"codigo_principal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HAB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"codigo_auxiliar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"descripcion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Habitación doble"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"precio_unitario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.000000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"unidad_medida"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kilos"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"valor_retenido_iva"</span><span class="p">:</span><span class="w"> </span><span class="mf">70.40</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valor_retenido_renta"</span><span class="p">:</span><span class="w"> </span><span class="mf">29.60</span><span class="p">,</span><span class="w">
    </span><span class="s2">"credito"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"fecha_vencimiento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"monto"</span><span class="p">:</span><span class="w"> </span><span class="mf">34.21</span><span class="w">
    </span><span class="p">},</span><span class="w">    
    </span><span class="s2">"pagos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"medio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cheque"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">4882.68</span><span class="p">,</span><span class="w">
        </span><span class="s2">"propiedades"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"banco"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Banco Pacífico"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"compensaciones"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"exportacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"incoterm"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"termino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CIF"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lugar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CIF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"origen"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"codigo_pais"</span><span class="p">:</span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"puerto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"codigo_pais"</span><span class="p">:</span><span class="s2">"CN"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"puerto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"China"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"codigo_pais_adquisicion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"flete_internacional"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"seguro_internacional"</span><span class="p">:</span><span class="w"> </span><span class="mf">200.00</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gastos_aduaneros"</span><span class="p">:</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span><span class="w">
        </span><span class="s2">"otros_gastos_transporte"</span><span class="p">:</span><span class="w"> </span><span class="mf">350.00</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="s2">"autorizacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"identificador"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"mensaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ESTE PROCESO FUE REALIZADO EN EL AMBIENTE DE PRUEBAS"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFORMATIVO"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201516323509927125550010266935227"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:32:35.000380"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>Número de secuencia de la factura.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Posibles valores: <code>AUTORIZADO</code>, <code>NO AUTORIZADO</code>, <code>ENVIADO</code>, <code>DEVUELTO</code>, <code>RECIBIDO</code></td>
</tr>
<tr>
<td>fecha_emision</td>
<td>string</td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf">ISO8601</a>.</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>La clave de acceso representa un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>envio_sri</td>
<td>objeto tipo <a href="#envío-sri">envio sri</a></td>
<td>Información luego de enviar el comprobante.</td>
</tr>
<tr>
<td>autorizacion</td>
<td>objeto tipo <a href="#autorización-sri">autorizacion sri</a></td>
<td>Información de la autorización.org/html/rfc3339#section-5.6).</td>
</tr>
<tr>
<td>emisor</td>
<td>objeto tipo <a href="#emisor">emisor</a></td>
<td>Información completa del emisor.</td>
</tr>
<tr>
<td>moneda</td>
<td>string</td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Pruebas: <code>1</code>.<br>Producción <code>2</code>.<br></td>
</tr>
<tr>
<td>totales</td>
<td>objeto tipo <a href="#totales">totales</a></td>
<td>Listado de totales.</td>
</tr>
<tr>
<td>comprador</td>
<td>objeto <a href="#persona">persona</a></td>
<td>Información del comprador.</td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Emisión normal: <code>1</code>.<br>Emisión por indisponibilidad: <code>2</code><br></td>
</tr>
<tr>
<td>items</td>
<td>listado de objetos tipo <a href="#item-de-factura">item</a></td>
<td>Items incluídos en la factura.</td>
</tr>
<tr>
<td>pagos</td>
<td>listado de objetos tipo <a href="#pagos">pagos</a></td>
<td>Listado de formas de pago aplicables a la factura.</td>
</tr>
<tr>
<td>credito</td>
<td>Objeto de tipo <a href="#cr-dito">credito</a></td>
<td>Información del crédito directo otorgado al cliente.</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Versión de la especificación, opciones válidas: <code>1.0.0</code>, <code>1.1.0</code></td>
</tr>
</tbody></table>
<h3 id='re-emision-de-una-factura'>Re-emisión de una factura</h3><h4 id='operacion-4'>Operación</h4>
<p><code>POST /invoices/:id/reissue</code></p>
<h4 id='requerimiento-4'>Requerimiento</h4>
<p>Esta operación debe ser utilizada para corregir comprobantes NO AUTORIZADOS o
DEVUELTOS por el Servicio de Rentas Internas.</p>

<p>En la URL de esta opción se debe incluir el <code>id</code> de la factura recibida al
momento de emitirla.</p>

<p>El cuerpo del requerimiento es un objeto <a href="#requerimiento">factura</a> con los
datos corregidos para que pueda ser procesado y autorizado.</p>
<h4 id='respuesta-3'>Respuesta</h4>
<p>Retornará un error si el comprobante se encuentra autorizado.</p>
