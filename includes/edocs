<h1 id='autorizacion-de-comprobantes'>Autorización de comprobantes</h1><h2 id='autorizar-comprobante'>Autorizar comprobante</h2>
<p>Autoriza cualquier tipo de comprobante electrónico existente.
El ID del documento <code>id-doc</code> es el ID que obtienes después de crear un documento.</p>
<h3 id='operacion'>Operación</h3>
<p><code>POST /edocs/&lt;id-doc&gt;/issue</code></p>

<blockquote>
<h4 id='requerimiento-de-ejemplo'>Requerimiento de ejemplo</h4></blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://link.datil.co/edocs/&lt;id-doc&gt;/issue <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;clave-del-api&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;clave-certificado-firma&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/edocs/&lt;id-factura&gt;/issue'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/edocs/"</span><span class="p">);</span>
      <span class="kt">var</span> <span class="n">idDocumento</span> <span class="p">=</span> <span class="s">"&lt;id-doc&gt;/issue"</span><span class="p">;</span>
      <span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"edocs/"</span> <span class="p">+</span> <span class="n">idDocumento</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Password"</span><span class="p">,</span> <span class="s">"&lt;clave-certificado-firma&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>

      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><h3 id='requerimiento'>Requerimiento</h3>
<p>Reemplaza en la ruta <code>&lt;id-doc&gt;</code> por el ID de la factura que necesitas consultar.</p>
<h3 id='respuesta'>Respuesta</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>emisor</td>
<td>objeto tipo <a href="#emisor">emisor</a></td>
<td>Información completa del emisor.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Estado de autorización del comprobante. Posibles valores: <code>AUTORIZADO</code>, <code>NO AUTORIZADO</code>, <code>ENVIADO</code>, <code>DEVUELTO</code>, <code>RECIBIDO</code>, <code>ERROR</code></td>
</tr>
<tr>
<td>numero</td>
<td>string</td>
<td>Número completo del documento.  Ejm: 001-002-592738007</td>
</tr>
<tr>
<td>url_formato_impresion</td>
<td>url</td>
<td>Esta URL te permite acceder de manera directa al formato de impresión (RIDE) del comprobante</td>
</tr>
<tr>
<td>url_documento_electronico</td>
<td>url</td>
<td>Esta URL te permite acceder de manera directa al documento electrónico (XML)</td>
</tr>
<tr>
<td>tipo</td>
<td>string</td>
<td>Código que representa el tipo de documento. Revisa <a href="#tipos-de-documentos">aquí</a> el código que corresponde a cada tipo de documento</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>El id del documento consultado</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Pruebas: <code>1</code>.<br>Producción <code>2</code>.<br></td>
</tr>
<tr>
<td>receptor</td>
<td>objeto tipo <a href="#receptor">receptor</a></td>
<td>Informaci&#39;on del receptor del documento.</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>Clave de acceso del documento.</td>
</tr>
<tr>
<td>autorizacion</td>
<td>Objeto de tipo <a href="#autorizacion-sri">autorización SRI</a></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<h4 id='respuesta-de-ejemplo'>Respuesta de ejemplo</h4></blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"emisor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"provincia"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uan.perez@xyz.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"categoria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Software"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subcategoria"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sorftware como Servicio"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pais"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"market_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XYZ Corporación S.A."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ciudad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"exportador"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"099999999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipoentidad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sociedad Anónima"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIBIDO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-002-000000001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_formato_impresion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.com/ver/67aa7c650g395cgb16e18df3d8ff18fc/pdf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_documento_electronico"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.com/ver/67aa7c650g395cgb16e18df3d8ff18fc/xml"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67aa7c650g395cgb16e18df3d8ff18fc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ambiente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receptor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0987654321001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"devops@datilmedia.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 234 y calle 5ta"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0803202101099271255400110010020000000011994720519"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"autorizacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='consulta-de-autorizacion'>Consulta de autorización</h2>
<p>Consulta la información de autorización de cualquier tipo de comprobante electrónico.
El ID del documento <code>id-doc</code> es el ID que obtienes después de emitir un documento.</p>
<h3 id='operacion-2'>Operación</h3>
<p><code>GET /edocs/&lt;id-doc&gt;</code></p>
<h3 id='requerimiento-2'>Requerimiento</h3>
<p>Reemplaza en la ruta <code>&lt;id-doc&gt;</code> por el ID de la factura que necesitas consultar.</p>

<blockquote>
<h4 id='requerimiento-de-ejemplo-2'>Requerimiento de ejemplo</h4></blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://link.datil.co/edocs/&lt;id-doc&gt; <span class="se">\</span>
-H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;clave-del-api&gt;"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/edocs/&lt;id-factura&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="kt">var</span> <span class="n">idDocumento</span> <span class="p">=</span> <span class="s">"&lt;id-doc&gt;"</span><span class="p">;</span>
      <span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"edocs/"</span> <span class="p">+</span> <span class="n">idDocumento</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>

      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><h3 id='respuesta-2'>Respuesta</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>El id del documento consultado</td>
</tr>
<tr>
<td>tipo</td>
<td>string</td>
<td>Código que representa el tipo de documento. Revisa <a href="#tipos-de-documentos">aquí</a> el código que corresponde a cada tipo de documento</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Estado de autorización del comprobante. Posibles valores: <code>AUTORIZADO</code>, <code>NO AUTORIZADO</code>, <code>ENVIADO</code>, <code>DEVUELTO</code>, <code>RECIBIDO</code>, <code>ERROR</code></td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>Clave de acceso del documento.</td>
</tr>
<tr>
<td>url_formato_impresion</td>
<td>url</td>
<td>Esta URL te permite acceder de manera directa al formato de impresión (RIDE) del comprobante</td>
</tr>
<tr>
<td>url_documento_electronico</td>
<td>url</td>
<td>Esta URL te permite acceder de manera directa al documento electrónico (XML)</td>
</tr>
<tr>
<td>autorizacion</td>
<td>Objeto de tipo <a href="#autorizacion-sri">autorización SRI</a></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<h4 id='respuesta-de-ejemplo-2'>Respuesta de ejemplo</h4></blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"url_documento_electronico"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/be69b7bc64b643718a643caa9a8c3569/xml"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"autorizacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-23T15:41:51Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2301202035679285132400120010020000287082794874518"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url_formato_impresion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/be69b7bc64b643718a643caa9a8c3569/pdf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2301202035679285132400120010020000287082794874518"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"be69b7bc64b643718a643caa9a8c3569"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ambiente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='descarga-de-comprobantes'>Descarga de comprobantes</h1><h2 id='consulta-de-ride'>Consulta de RIDE</h2>
<p>Consulta de la representación impresa del documento electrónico (RIDE). El ID del comprobante <code>id-doc</code> es el ID que se obtiene después de emitir un comprobante.</p>
<h3 id='operacion-3'>Operación</h3>
<p><code>GET app.datil.co/ver/&lt;id-doc&gt;/pdf</code></p>
<h2 id='consulta-de-xml'>Consulta de XML</h2>
<p>Consulta de representación XML de los comprobantes. El ID del comprobante <code>id-doc</code> es el ID que se obtiene después de emitir un comprobante.</p>
<h3 id='operacion-4'>Operación</h3>
<p><code>GET app.datil.co/ver/&lt;id-doc&gt;/xml</code></p>
<h1 id='envio-por-correo'>Envío por correo</h1>
<p>Envíe cualquier tipo de comprobantes por correo electrónico hacia la persona que va dirigada el comprobante o una lista de destinatarios.</p>
<h2 id='envio-simple'>Envío simple</h2>
<p>Envíe el comprobante al correo electrónico que está definido en el comprobante</p>
<h4 id='operacion-5'>Operación</h4>
<p><code>POST edocs/send-email/&lt;id-doc&gt;</code></p>
<h4 id='requerimiento-3'>Requerimiento</h4>
<p>Reemplaza en la ruta <code>&lt;id-doc&gt;</code> por el <code>id</code> del comprobante a enviar por correo.  </p>
<pre class="highlight shell tab-shell"><code>curl -v https://link.datil.co/edocs/send-email/&lt;id-doc&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;clave-del-api&gt;"</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/edocs/send-email/&lt;id-factura&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="kt">var</span> <span class="n">idDocumento</span> <span class="p">=</span> <span class="s">"&lt;id-doc&gt;"</span><span class="p">;</span>
      <span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"edocs/send-email/"</span> <span class="p">+</span> <span class="n">idDocumento</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>

      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><h3 id='respuesta-3'>Respuesta</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>El id del documento al cual se envío el correo.</td>
</tr>
<tr>
<td>result</td>
<td>string</td>
<td>Resultado del requerimiento.</td>
</tr>
</tbody></table>
<h2 id='envio-a-multiples-receptores'>Envio a multiples receptores</h2>
<p>Envié cualquier tipo de comprobante a multiples receptores especificando los correos electrónicos de estos en el cuerpo del requerimiento en formato JSON.</p>
<h4 id='operacion-6'>Operación</h4>
<p><code>POST edocs/send-email/&lt;id-doc&gt;</code></p>
<h4 id='requerimiento-4'>Requerimiento</h4>
<p>Reemplaza en la ruta <code>&lt;id-doc&gt;</code> por el <code>id</code> del comprobante a enviar por correo. El cuerpo del requerimiento debe de tener una lista con los correos de los receptores del comprobante.</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>destinatarios</td>
<td>lista</td>
<td>Lista de los correos de los destinatarios del correo del comprobante.</td>
</tr>
</tbody></table>
<pre class="highlight shell tab-shell"><code>curl -v https://link.datil.co/edocs/send-email/&lt;id-doc&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Key: &lt;clave-del-api&gt;"</span>
-d <span class="s1">'{
      "destinatarios": [
        "juan.perez@xyz.com",
        "joel@xyz.com"
      ]
    }'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="p">,</span> <span class="n">json</span>

<span class="n">destinatarios</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"destinatarios"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s">"juan.perez@xyz.com"</span><span class="p">,</span>
    <span class="s">"joel@xyz.com"</span>
  <span class="p">]</span>
<span class="p">}</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
  <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/edocs/send-email/&lt;id-factura&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">destinatarios</span><span class="p">))</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="kt">var</span> <span class="n">idDocumento</span> <span class="p">=</span> <span class="s">"&lt;id-doc&gt;"</span><span class="p">;</span>
      <span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"edocs/send-email"</span> <span class="p">+</span> <span class="n">idDocumento</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">;</span>

      <span class="kt">var</span> <span class="n">body</span> <span class="p">=</span> <span class="p">(</span><span class="err">@</span><span class="s">"{
</span>        <span class="s">""</span><span class="n">destinatarios</span><span class="s">""</span><span class="p">:</span> <span class="p">[</span>
          <span class="s">""</span><span class="n">juan</span><span class="p">.</span><span class="n">perez@xyz</span><span class="p">.</span><span class="n">com</span><span class="s">""</span><span class="p">,</span>
          <span class="s">""</span><span class="n">joel@xyz</span><span class="p">.</span><span class="n">com</span><span class="s">""</span>
        <span class="p">]</span>
      <span class="p">}</span><span class="s">");
</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddParameter</span><span class="p">(</span><span class="s">"application/json"</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">ParameterType</span><span class="p">.</span><span class="n">RequestBody</span><span class="p">);</span>
      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
      <span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre><h3 id='respuesta-4'>Respuesta</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>El id del documento al cual se envío el correo.</td>
</tr>
<tr>
<td>result</td>
<td>string</td>
<td>Resultado del requerimiento.</td>
</tr>
</tbody></table>
