
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Dátil</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="../../../stylesheets/screen-611b0914.css" rel="stylesheet" media="screen" />
    <link href="../../../stylesheets/print-bccf8c07.css" rel="stylesheet" media="print" />
      <script src="../../../javascripts/all-c5541673.js"></script>
  </head>

  <body class="next next_es next_es_ec next_es_ec_index" data-languages="[&quot;shell&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../../images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="../../../images/logo-4c73dfe1.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="python">Python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduccion" class="toc-h1 toc-link" data-title="Introducción">Introducción</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#operaciones" class="toc-h2 toc-link" data-title="Operaciones">Operaciones</a>
                  </li>
                  <li>
                    <a href="#proceso-de-emision" class="toc-h2 toc-link" data-title="Proceso de emisión">Proceso de emisión</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#autenticacion" class="toc-h1 toc-link" data-title="Autenticación">Autenticación</a>
          </li>
          <li>
            <a href="#recursos" class="toc-h1 toc-link" data-title="Recursos">Recursos</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#factura" class="toc-h2 toc-link" data-title="Factura">Factura</a>
                  </li>
                  <li>
                    <a href="#nota-de-credito" class="toc-h2 toc-link" data-title="Nota de Crédito">Nota de Crédito</a>
                  </li>
                  <li>
                    <a href="#retencion" class="toc-h2 toc-link" data-title="Retención">Retención</a>
                  </li>
                  <li>
                    <a href="#producto" class="toc-h2 toc-link" data-title="Producto">Producto</a>
                  </li>
                  <li>
                    <a href="#categoria" class="toc-h2 toc-link" data-title="Categoría">Categoría</a>
                  </li>
                  <li>
                    <a href="#objetos-comunes" class="toc-h2 toc-link" data-title="Objetos comunes">Objetos comunes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ventas" class="toc-h1 toc-link" data-title="Ventas">Ventas</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#facturas" class="toc-h2 toc-link" data-title="Facturas">Facturas</a>
                  </li>
                  <li>
                    <a href="#emite-una-factura" class="toc-h2 toc-link" data-title="Emite una Factura">Emite una Factura</a>
                  </li>
                  <li>
                    <a href="#consulta-una-factura" class="toc-h2 toc-link" data-title="Consulta una Factura">Consulta una Factura</a>
                  </li>
                  <li>
                    <a href="#re-emite-una-factura" class="toc-h2 toc-link" data-title="Re-emite una Factura">Re-emite una Factura</a>
                  </li>
                  <li>
                    <a href="#lista-facturas" class="toc-h2 toc-link" data-title="Lista Facturas">Lista Facturas</a>
                  </li>
                  <li>
                    <a href="#registra-pagos" class="toc-h2 toc-link" data-title="Registra Pagos">Registra Pagos</a>
                  </li>
                  <li>
                    <a href="#notas-de-credito" class="toc-h2 toc-link" data-title="Notas de crédito">Notas de crédito</a>
                  </li>
                  <li>
                    <a href="#emite-una-nota-de-credito" class="toc-h2 toc-link" data-title="Emite una Nota de crédito">Emite una Nota de crédito</a>
                  </li>
                  <li>
                    <a href="#consulta-una-nota-de-credito" class="toc-h2 toc-link" data-title="Consulta una Nota de crédito">Consulta una Nota de crédito</a>
                  </li>
                  <li>
                    <a href="#re-emite-una-nota-de-credito" class="toc-h2 toc-link" data-title="Re-emite una Nota de crédito">Re-emite una Nota de crédito</a>
                  </li>
                  <li>
                    <a href="#lista-notas-de-credito" class="toc-h2 toc-link" data-title="Lista Notas de crédito">Lista Notas de crédito</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#compras" class="toc-h1 toc-link" data-title="Compras">Compras</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#facturas-compra" class="toc-h2 toc-link" data-title="Facturas">Facturas</a>
                  </li>
                  <li>
                    <a href="#lista-facturas-compra" class="toc-h2 toc-link" data-title="Lista Facturas">Lista Facturas</a>
                  </li>
                  <li>
                    <a href="#notas-credito-compra" class="toc-h2 toc-link" data-title="Notas de crédito">Notas de crédito</a>
                  </li>
                  <li>
                    <a href="#lista-notas-credito-compra" class="toc-h2 toc-link" data-title="Lista Notas de crédito">Lista Notas de crédito</a>
                  </li>
                  <li>
                    <a href="#retenciones-compra" class="toc-h2 toc-link" data-title="Retenciones">Retenciones</a>
                  </li>
                  <li>
                    <a href="#emite-una-retencion" class="toc-h2 toc-link" data-title="Emite una retención">Emite una retención</a>
                  </li>
                  <li>
                    <a href="#consulta-una-retencion" class="toc-h2 toc-link" data-title="Consulta una retención">Consulta una retención</a>
                  </li>
                  <li>
                    <a href="#re-emite-una-retencion" class="toc-h2 toc-link" data-title="Re-emite una retención">Re-emite una retención</a>
                  </li>
                  <li>
                    <a href="#lista-retenciones" class="toc-h2 toc-link" data-title="Lista Retenciones">Lista Retenciones</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#catalogo" class="toc-h1 toc-link" data-title="Catálogo">Catálogo</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#productos" class="toc-h2 toc-link" data-title="Productos">Productos</a>
                  </li>
                  <li>
                    <a href="#lista-productos" class="toc-h2 toc-link" data-title="Lista Productos">Lista Productos</a>
                  </li>
                  <li>
                    <a href="#consulta-un-producto" class="toc-h2 toc-link" data-title="Consulta un Producto">Consulta un Producto</a>
                  </li>
                  <li>
                    <a href="#crea-un-producto" class="toc-h2 toc-link" data-title="Crea un Producto">Crea un Producto</a>
                  </li>
                  <li>
                    <a href="#actualiza-un-producto" class="toc-h2 toc-link" data-title="Actualiza un Producto">Actualiza un Producto</a>
                  </li>
                  <li>
                    <a href="#categorias" class="toc-h2 toc-link" data-title="Categorías">Categorías</a>
                  </li>
                  <li>
                    <a href="#lista-categorias" class="toc-h2 toc-link" data-title="Lista Categorías">Lista Categorías</a>
                  </li>
                  <li>
                    <a href="#consulta-una-categoria" class="toc-h2 toc-link" data-title="Consulta una Categoría">Consulta una Categoría</a>
                  </li>
                  <li>
                    <a href="#actualiza-una-categoria" class="toc-h2 toc-link" data-title="Actualiza una Categoría">Actualiza una Categoría</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#catalogo-de-codigos" class="toc-h1 toc-link" data-title="Catálogo de Códigos">Catálogo de Códigos</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#tipo-de-identificacion" class="toc-h2 toc-link" data-title="Tipo de identificación">Tipo de identificación</a>
                  </li>
                  <li>
                    <a href="#tipos-de-impuesto" class="toc-h2 toc-link" data-title="Tipos de impuesto">Tipos de impuesto</a>
                  </li>
                  <li>
                    <a href="#codigo-de-porcentaje-de-iva" class="toc-h2 toc-link" data-title="Código de Porcentaje de IVA">Código de Porcentaje de IVA</a>
                  </li>
                  <li>
                    <a href="#tipos-de-impuesto-para-la-retencion" class="toc-h2 toc-link" data-title="Tipos de impuesto para la retención">Tipos de impuesto para la retención</a>
                  </li>
                  <li>
                    <a href="#tipos-de-impuesto-para-la-retencion-en-la-factura" class="toc-h2 toc-link" data-title="Tipos de impuesto para la retención en la factura">Tipos de impuesto para la retención en la factura</a>
                  </li>
                  <li>
                    <a href="#retencion-de-iva" class="toc-h2 toc-link" data-title="Retención de IVA">Retención de IVA</a>
                  </li>
                  <li>
                    <a href="#retencion-isd" class="toc-h2 toc-link" data-title="Retención ISD">Retención ISD</a>
                  </li>
                  <li>
                    <a href="#retencion-de-iva-presuntivo-y-renta" class="toc-h2 toc-link" data-title="Retención de IVA Presuntivo y Renta">Retención de IVA Presuntivo y Renta</a>
                  </li>
                  <li>
                    <a href="#tipos-de-documentos" class="toc-h2 toc-link" data-title="Tipos de documentos">Tipos de documentos</a>
                  </li>
                  <li>
                    <a href="#formas-de-pago" class="toc-h2 toc-link" data-title="Formas de pago">Formas de pago</a>
                  </li>
                  <li>
                    <a href="#equivalencia-entre-formas-de-pago-datil-y-formas-de-pago-del-sri" class="toc-h2 toc-link" data-title="Equivalencia entre formas de pago Dátil y formas de pago del SRI">Equivalencia entre formas de pago Dátil y formas de pago del SRI</a>
                  </li>
                  <li>
                    <a href="#document-status" class="toc-h2 toc-link" data-title="Estado de un documento">Estado de un documento</a>
                  </li>
                  <li>
                    <a href="#document-status-code" class="toc-h2 toc-link" data-title="Código del estado de un documento">Código del estado de un documento</a>
                  </li>
                  <li>
                    <a href="#document-payment-status-code" class="toc-h2 toc-link" data-title="Código del estado de pago">Código del estado de pago</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errores" class="toc-h1 toc-link" data-title="Errores">Errores</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Para obtener mi clave del API</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentación gracias a Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduccion'>Introducción</h1>
<p>Integra tu aplicación con Facturación Electrónica. Este API de Dátil te permite
emitir todos los tipos de comprobantes electrónicos: facturas, retenciones,
notas de crédito, notas de débito y guías de remisión.</p>

<p>El API de Dátil está diseñado como un servicio web
<a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a>.
De esta manera resulta sencillo conversar con nuestra interfaz utilizando
cualquier librería en cualquier lenguaje que provea un cliente HTTP, ya que
utilizamos componentes del estándar como los verbos y los códigos de respuesta.</p>

<p>Todos las operaciones responden en formato <a href="http://www.json.org/">JSON</a>,
incluso los errores.</p>

<p>Dátil se encarga de todo el proceso de emisión del comprobante. El proceso de
emisión bajo condiciones normales, toma entre 3 a 5 segundos. Luego de ese
período bastará con consultar el comprobante para conocer su estado.</p>
<h2 id='operaciones'>Operaciones</h2>
<p>Una operación REST está formada por la combinación de un verbo HTTP, la URL
base del servicio y la ruta de la operación. Las cuales se encuentran descritas
en cada sección donde se describe una función del API.
Esta operación, por ejemplo, emite una factura:</p>

<p><code>POST https://api.datil.co/locations/:location-id/invoices/issue</code></p>

<p>La URI anterior en conjunto con la información en formato JSON como cuerpo del
requerimiento y las cabeceras HTTP necesarias, conforman el requerimiento.</p>
<h2 id='proceso-de-emision'>Proceso de emisión</h2>
<p>Comprende las siguientes fases:</p>

<ol>
<li><strong>Creación</strong>: Se registra el comprobante para posterior referencia.</li>
<li><strong>Firmado</strong>: Utilizando el certificado de firma electrónica y un algoritmo
de firma digital, el comprobante es firmado para que el SRI pueda verificar
su legitimidad.</li>
<li><strong>Envío SRI</strong>: El comprobante es enviado al SRI para ser procesado.</li>
<li><strong>Consulta de autorización SRI</strong>: Luego de un período de espera, Dátil
consulta la autorización del comprobante.</li>
<li><strong>Envío por email</strong>: Se envía el comprobante al correo del receptor del
comprobante, si una dirección de correo electrónico válida fue provista al
momento de emitir el comprobante.</li>
</ol>

<aside class="notice">
<strong>Recuerda:</strong> Este proceso es administrado completamente por
nosotros y para emitir un comprobante bastará enviarlo siguiendo la sección
pertinente de esta documentación.
</aside>
<h1 id='autenticacion'>Autenticación</h1>
<p>Para obtener la clave del API, inicia sesión con tu cuenta en
<a href="https://app.datil.co">app.datil.co</a>, ve a la opción <em>Configuración</em> la
sección &quot;API Key&quot;.</p>

<p><img src="https://s3-us-west-2.amazonaws.com/static-files/datil-py-blurred-api-key.png"></p>

<p>Dátil utiliza claves para autorizar el acceso al API. La clave debe estar
incluída en todos los requerimientos en una cabecera:</p>

<p><code>X-Api-Key: &lt;clave-del-api&gt;</code></p>

<p>Para emitir o re-emitir un comprobante se requiere también la clave del certificado
de firma electrónica. Esta clave deberá ser provista en una cabecera:</p>

<p><code>X-Password: &lt;clave-certificado-firma&gt;</code></p>
<h1 id='recursos'>Recursos</h1><h2 id='factura'>Factura</h2>
<p>Una Factura está representada por un objeto <em>Invoice</em>.</p>
<h5 id='el-objeto-invoice'>El objeto Invoice</h5>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>number<p class="dt-data-type">string</p></td>
<td>Número completo de la factura. Es un número secuencial que se forma a partir de {código establecimiento}-{código pto. emisión}-{secuencia}</td>
</tr>
<tr>
<td>currency<p class="dt-data-type">string</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>sequence<p class="dt-data-type">integer</p></td>
<td>Número de secuencia.</td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">string</p></td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>totals<p class="dt-data-type">objeto <a href="#invoice-totals">totals</a></p></td>
<td>Totales de la factura</td>
</tr>
<tr>
<td>customer<p class="dt-data-type">objeto <a href="#contacto">contacto</a></td>
<td>Información del comprador.</td>
</tr>
<tr>
<td>items<p class="dt-data-type">lista de <a href="#invoice-item">items</a></p></td>
<td>Bienes o servicios facturados.</td>
</tr>
<tr>
<td>uuid<p class="dt-data-type">string</p></td>
<td>La clave de acceso de la factura. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">list de <a href="#property">property objects</a></p></td>
<td>Información adicional adjunta al comprobante.</td>
</tr>
<tr>
<td>payments<p class="dt-data-type">lista de <a href="#payment">payments</a></p></td>
<td>Pagos realizados a la factura.</td>
</tr>
<tr>
<td>payment_methods<p class="dt-data-type">lista de <a href="#payment-method">payment_methods</a></p></td>
<td>Listado de formas de pago aplicables a la factura.</td>
</tr>
<tr>
<td>electronic_document<p class="dt-data-type">string</p></td>
<td>Documento electrónico, el XML que representa a esta factura ante el SRI.</td>
</tr>
<tr>
<td>electronic_document_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del documento electrónico, el XML.</td>
</tr>
<tr>
<td>printable_version_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del RIDE.</td>
</tr>
<tr>
<td>status<p class="dt-data-type">string</p></td>
<td><a href="#document-status">Estado</a> del comprobante.</td>
</tr>
<tr>
<td>status_code<p class="dt-data-type">string</p></td>
<td><a href="#document-status-code">Código del estado</a> del comprobante. Útil para programación.</td>
</tr>
<tr>
<td>payment_status<p class="dt-data-type">string</p></td>
<td><a href="#document-payment-status-code">Código del estado de pago</a>.</td>
</tr>
</tbody></table>

<h4 id="invoice-totals">Totals</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>total_discount_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos. El subtotal sin impuestos se obtiene con la suma del subtotal de los items.</td>
</tr>
<tr>
<td>total_tax_amount<p class="dt-data-type">string</p></td>
<td>Total de impuesto recaudado</td>
</tr>
<tr>
<td>total_amount<p class="dt-data-type">string</p></td>
<td>Total final.</td>
</tr>
<tr>
<td>tip_amount<p class="dt-data-type">string</p></td>
<td>Propina. También llamado servicio.</td>
</tr>
<tr>
<td>additional_discount_amount<p class="dt-data-type">string</p></td>
<td>Descuento adicional al descuento que se puede aplicar a cada item. Este descuento es aplicado al subtotal de la factura.</td>
</tr>
</tbody></table>

<h4 id="invoice-item">Item</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>description<p class="dt-data-type">string</p></td>
<td>Descripción del ítem.</td>
</tr>
<tr>
<td>sku<p class="dt-data-type">string</p></td>
<td>Código alfanumérico de uso del comercio. Máximo 25 caracteres.</td>
</tr>
<tr>
<td>quantity<p class="dt-data-type">string</p></td>
<td>Cantidad de items.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">string</p></td>
<td>Precio unitario.</td>
</tr>
<tr>
<td>unit_discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal antes de impuestos. Se obtiene multiplicando <code>quantity</code> por <code>unit_price</code> menos <code>discount</code></td>
</tr>
<tr>
<td>total_amount<p class="dt-data-type">string</p></td>
<td>subtotal_amount + total tax amount</td>
</tr>
<tr>
<td>unit_of_measurement<p class="dt-data-type">string</p></td>
<td>Unidad de medida, ejemplos: l, kg, cm</td>
</tr>
<tr>
<td>taxes</td>
<td>listado de <a href="#tax">impuestos</a></td>
</tr>
<tr>
<td>properties<p class="dt-data-type">list de <a href="#property">property objects</a></p></td>
<td>Datos adicionales</td>
</tr>
</tbody></table>
<h4 id='payment'>Payment</h4>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>date<p class="dt-data-type">string</p></td>
<td>Fecha de recepción del pago en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>method <p class="dt-data-type">string</p></td>
<td>Código del método de pago según <a href="http://www.unece.org/trade/untdid/d16a/tred/tred4461.htm">4461 UN/CEFACT standard v06B</a></td>
</tr>
<tr>
<td>amount <p class="dt-data-type">string</p></td>
<td>Valor pagado</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">list de <a href="#property">property objects</a></p></td>
<td>Información adicional adjunta al pago Ejemplo:<br><code>[{&quot;name&quot;:&quot;bank&quot;, &quot;description&quot;:&quot;Safe Bank&quot;}, {&quot;name&quot;:&quot;account_number&quot;, &quot;description&quot;:&quot;1020304050&quot;}]</code></td>
</tr>
</tbody></table>
<h4 id='payment-method'>Payment method</h4>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>due_date<p class="dt-data-type">string</p></td>
<td>Fecha de vencimiento en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>method <p class="dt-data-type">string</p></td>
<td>Código del método de pago según <a href="http://www.unece.org/trade/untdid/d16a/tred/tred4461.htm">4461 UN/CEFACT standard v06B</a></td>
</tr>
<tr>
<td>amount <p class="dt-data-type">string</p></td>
<td>Valor a pagar por este medio.</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">list de <a href="#property">property objects</a></p></td>
<td>Información adicional adjunta al pago Ejemplo:<br><code>[{&quot;name&quot;:&quot;bank&quot;, &quot;description&quot;:&quot;Safe Bank&quot;}, {&quot;name&quot;:&quot;account_number&quot;, &quot;description&quot;:&quot;1020304050&quot;}]</code></td>
</tr>
</tbody></table>
<h2 id='nota-de-credito'>Nota de Crédito</h2>
<p>Una Nota de Crédito está representada por un objeto <em>Credit Note</em>.</p>
<h5 id='el-objeto-credit-note'>El objeto Credit Note</h5>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>number<p class="dt-data-type">string</p></td>
<td>Número completo de la factura. Es un número secuencial que se forma a partir de {código establecimiento}-{código pto. emisión}-{secuencia}</td>
</tr>
<tr>
<td>sequence<p class="dt-data-type">integer</p></td>
<td>Número de secuencia.</td>
</tr>
<tr>
<td>currency<p class="dt-data-type">string</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">string</p></td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>totals<p class="dt-data-type">object <a href="#invoice-totals">totals</a></p></td>
<td>Totales de la factura</td>
</tr>
<tr>
<td>customer<p class="dt-data-type">object <a href="#contacto">contacto</a></td>
<td>Información del comprador.</td>
</tr>
<tr>
<td>items<p class="dt-data-type">lista de <a href="#invoice-item">items</a></p></td>
<td>Bienes o servicios facturados.</td>
</tr>
<tr>
<td>uuid<p class="dt-data-type">string</p></td>
<td>La clave de acceso de la factura. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">object</p></td>
<td>Información adicional adjunta al comprobante en forma de diccionario. Ejemplo:<br><code>{&quot;plan&quot;: &quot;Inicial&quot;, &quot;vigencia&quot;: &quot;1 mes&quot;}</code></td>
</tr>
<tr>
<td>electronic_document<p class="dt-data-type">string</p></td>
<td>Documento electrónico, el XML que representa a esta factura ante el SRI.</td>
</tr>
<tr>
<td>electronic_document_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del documento electrónico, el XML.</td>
</tr>
<tr>
<td>printable_version_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del RIDE.</td>
</tr>
<tr>
<td>credit_reason<p class="dt-data-type">string</p></td>
<td>Motivo por el cual se emite la Nota de Crédito.</td>
</tr>
<tr>
<td>credited_document<p class="dt-data-type">object <a href="#documento-relacionado">related document</a></p></td>
<td>Documento afectado por la Nota de Crédito. Normalmente una Factura.</td>
</tr>
</tbody></table>

<h4 id="invoice-totals">Totals</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>total_discount_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos. El subtotal sin impuestos se obtiene con la suma del subtotal de los items.</td>
</tr>
<tr>
<td>total_tax_amount<p class="dt-data-type">string</p></td>
<td>Total de impuesto recaudado</td>
</tr>
<tr>
<td>total_amount<p class="dt-data-type">string</p></td>
<td>Total final.</td>
</tr>
<tr>
<td>tip_amount<p class="dt-data-type">string</p></td>
<td>Propina. También llamado servicio.</td>
</tr>
<tr>
<td>additional_discount_amount<p class="dt-data-type">string</p></td>
<td>Descuento adicional al descuento que se puede aplicar a cada item. Este descuento es aplicado al subtotal de la factura.</td>
</tr>
</tbody></table>

<h4 id="invoice-item">Item</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>description<p class="dt-data-type">string</p></td>
<td>Descripción del ítem.</td>
</tr>
<tr>
<td>sku<p class="dt-data-type">string</p></td>
<td>Código alfanumérico de uso del comercio. Máximo 25 caracteres.</td>
</tr>
<tr>
<td>quantity<p class="dt-data-type">string</p></td>
<td>Cantidad de items.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">string</p></td>
<td>Precio unitario.</td>
</tr>
<tr>
<td>unit_discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal antes de impuestos. Se obtiene multiplicando <code>quantity</code> por <code>unit_price</code> menos <code>discount</code></td>
</tr>
<tr>
<td>unit_of_measurement<p class="dt-data-type">string</p></td>
<td>Unidad de medida, ejemplos: l, kg, cm</td>
</tr>
<tr>
<td>taxes</td>
<td>listado de <a href="#item-tax">impuestos</a></td>
</tr>
<tr>
<td>properties</td>
<td>hash</td>
</tr>
</tbody></table>
<h2 id='retencion'>Retención</h2>
<p>Una Retención está representada por un objeto <em>Withholding</em>.</p>
<h5 id='el-objeto-withholding'>El objeto Withholding</h5>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>number<p class="dt-data-type">string</p></td>
<td>Número completo de la retención. Es un número secuencial que se forma a partir de {código establecimiento}-{código pto. emisión}-{secuencia}</td>
</tr>
<tr>
<td>currency<p class="dt-data-type">string</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>sequence<p class="dt-data-type">integer</p></td>
<td>Número de secuencia.</td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">string</p></td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>recipient<p class="dt-data-type">objeto <a href="#contacto">contacto</a></td>
<td>Información del receptor. Normalmente un proveedor.</td>
</tr>
<tr>
<td>items<p class="dt-data-type">lista de <a href="#withholding-item">items</a></p></td>
<td>Impuestos retenidos.</td>
</tr>
<tr>
<td>uuid<p class="dt-data-type">string</p></td>
<td>La clave de acceso de la retención. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">list de <a href="#property">property objects</a></p></td>
<td>Información adicional adjunta al comprobante.</td>
</tr>
<tr>
<td>electronic_document<p class="dt-data-type">string</p></td>
<td>Documento electrónico, el XML que representa a esta retención ante el SRI.</td>
</tr>
<tr>
<td>electronic_document_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del documento electrónico, el XML.</td>
</tr>
<tr>
<td>printable_version_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del RIDE.</td>
</tr>
</tbody></table>

<h4 id="withholding-item">Item</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>amount<p class="dt-data-type">string</p></td>
<td>Monto retenido.</td>
</tr>
<tr>
<td>taxable_amount<p class="dt-data-type">string</p></td>
<td>Base imponible.</td>
</tr>
<tr>
<td>tax_code<p class="dt-data-type">string</p></td>
<td>Código del tipo de impuesto retenido</td>
</tr>
<tr>
<td>rate_code<p class="dt-data-type">string</p></td>
<td>Código del impuesto específico retenido</td>
</tr>
<tr>
<td>rate<p class="dt-data-type">string</p></td>
<td>Porcentaje del impuesto</td>
</tr>
<tr>
<td>affected_document<p class="dt-data-type">object <a href="#documento-relacionado">related document</a></p></td>
<td>Documento afectado por esta retención</td>
</tr>
</tbody></table>
<h2 id='producto'>Producto</h2>
<p>Un Producto está representado por un objeto <em>Product</em>.</p>
<h4 id='product'>Product</h4>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>id<p class="dt-data-type">string</p></td>
<td>Identificador único del producto en Dátil</td>
</tr>
<tr>
<td>name<p class="dt-data-type">string</p></td>
<td>Nombre del producto</td>
</tr>
<tr>
<td>description<p class="dt-data-type">string</p></td>
<td>Esta información se mostrará en Market.</td>
</tr>
<tr>
<td>created_at<p class="dt-data-type">string</p></td>
<td>Fecha de creación generada por Dátil.</td>
</tr>
<tr>
<td>updated_at<p class="dt-data-type">string</p></td>
<td>Fecha de actualización generada automáticamente por Dátil.</td>
</tr>
<tr>
<td>sku<p class="dt-data-type">string</p></td>
<td>Código del producto (Stock Keeping Unit). Se utiliza principalmente para el control de inventario. Puede utilizarse también para realizar búsquedas con pocos caracteres.</td>
</tr>
<tr>
<td>unit_cost<p class="dt-data-type">string</p></td>
<td>Costo unitario del producto sin impuestos. Este es el valor que normalmente pagas al proveedor al comprar este producto.</td>
</tr>
<tr>
<td>type<p class="dt-data-type">string</p></td>
<td>Tipo de producto. Bien &quot;good&quot; o servicio &quot;service&quot;.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">string</p></td>
<td>Precio unitario de venta sin impuestos.</td>
</tr>
<tr>
<td>unit_of_measurement<p class="dt-data-type"><a href="#unit-of-measurement">unit_of_measurement</a></p></td>
<td>Unida de medida del producto.</td>
</tr>
<tr>
<td>images<p class="dt-data-type">list of <a href="#product-image">product_images</a></p></td>
<td>Listado de imágenes asociadas a este producto.</td>
</tr>
<tr>
<td>category<p class="dt-data-type"><a href="#category">category</a></p></td>
<td>Categoría a la que pertenece el producto.</td>
</tr>
<tr>
<td>applicable_taxes<p class="dt-data-type">list of <a href="#product-tax">product-tax</a></p></td>
<td>Listado de los impuestos que deben aplicarse a este producto al momento de vender.</td>
</tr>
<tr>
<td>purchase_applicable_taxes<p class="dt-data-type">list of <a href="#product-tax">product-tax</a></p></td>
<td>Listado de los impuestos que deben aplicarse a este producto al momento de comprarlo.</td>
</tr>
<tr>
<td>track_inventory<p class="dt-data-type">boolean</p></td>
<td>Verdadero cuando Dátil controla el las existencias de este producto.</td>
</tr>
<tr>
<td>tags<p class="dt-data-type">list of string</p></td>
<td>Las etiquetas te permiten agregar información complementaria al producto y podrás buscar productos con esta información.</td>
</tr>
<tr>
<td>available_on_market<p class="dt-data-type">boolean</p></td>
<td>Verdadero si está disponible en tu Market (<a href="https://datil.co/producto#market">más información de Market</a>)</td>
</tr>
</tbody></table>
<h4 id='product-tax'>Product Tax</h4>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>tax_code<p class="dt-data-type">string</p></td>
<td>Código del grupo al que pertenece el impuesto.</td>
</tr>
<tr>
<td>rate_code <p class="dt-data-type">string</p></td>
<td>Código de la tarifa de impuesto aplicado.</td>
</tr>
<tr>
<td>rate <p class="dt-data-type">string</p></td>
<td>Porcentaje del impuesto aplicado.</td>
</tr>
<tr>
<td>name <p class="dt-data-type">string</p></td>
<td>Nombre descriptivo del impuesto.</td>
</tr>
</tbody></table>
<h4 id='unit-of-measurement'>Unit of measurement</h4>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>abbreviation<p class="dt-data-type">string</p></td>
<td>Abreviatura, tratando en lo posible de utilizar el Sistema Internacional de medidas.</td>
</tr>
<tr>
<td>name<p class="dt-data-type">string</p></td>
<td>Nombre completo de la unidad.</td>
</tr>
</tbody></table>
<h4 id='product-image'>Product Image</h4>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>src<p class="dt-data-type">string</p></td>
<td>URL de la imagen.</td>
</tr>
<tr>
<td>title<p class="dt-data-type">string</p></td>
<td>Título de la imagen.</td>
</tr>
</tbody></table>
<h2 id='categoria'>Categoría</h2>
<p>Una Categoría está representada por un objeto <em>Category</em>.</p>
<h4 id='category'>Category</h4>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>id<p class="dt-data-type">string</p></td>
<td>Identificador único de la categoría en Dátil</td>
</tr>
<tr>
<td>name<p class="dt-data-type">string</p></td>
<td>Nombre de la categoría</td>
</tr>
<tr>
<td>created_at<p class="dt-data-type">string</p></td>
<td>Fecha de creación generada por Dátil.</td>
</tr>
<tr>
<td>updated_at<p class="dt-data-type">string</p></td>
<td>Fecha de actualización generada automáticamente por Dátil.</td>
</tr>
</tbody></table>
<h2 id='objetos-comunes'>Objetos comunes</h2><h3 id='uuid-clave-de-acceso'>UUID (Clave de acceso)</h3>
<p>El sistema se encarga de generar automáticamente la clave de acceso de cada
comprobante y luego retornarla como parte de la respuesta de emisión del mismo.
Pero es posible también proveer la clave de acceso si se requiere tener control
en la generación de esta clave. La siguiente documentación explica como debe
estar estructurada la clave de acceso.</p>

<p>Las claves de acceso estarán compuestas de 49 caracteres numéricos, la herramienta o aplicativo a utilizar por el sujeto pasivo deberá generar de manera automática la clave de acceso, que constituirá un requisito que dará el carácter de único a cada uno de los comprobantes, y la misma servirá para que el SRI indique si el comprobante es autorizado o no; se describe a continuación su conformación:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Formato</th>
<th>Longitud</th>
</tr>
</thead><tbody>
<tr>
<td>Fecha de Emisión</td>
<td>ddmmaaaa</td>
<td>8</td>
</tr>
<tr>
<td>Tipo de Comprobante</td>
<td>Tabla 4</td>
<td>2</td>
</tr>
<tr>
<td>Número de RUC</td>
<td>1234567890001</td>
<td>13</td>
</tr>
<tr>
<td>Tipo de Ambiente</td>
<td>Tabla 5</td>
<td>1</td>
</tr>
<tr>
<td>Serie</td>
<td>001001</td>
<td>6</td>
</tr>
<tr>
<td>Número del Comprobante (secuencial)</td>
<td>000000001</td>
<td>9</td>
</tr>
<tr>
<td>Código Numérico</td>
<td>Numérico</td>
<td>8</td>
</tr>
<tr>
<td>Tipo de Emisión</td>
<td>Tabla 2</td>
<td>1</td>
</tr>
<tr>
<td>Dígito Verificador (módulo 11 )</td>
<td>Numérico</td>
<td>1</td>
</tr>
</tbody></table>

<p><strong>Nota:</strong> Todos los campos deben completarse conforme a la longitud indicada, es decir si en el número secuencial no completa los 9 dígitos, la clave de acceso estará mal conformada y será motivo de rechazo de la autorización en línea.</p>

<p>El dígito verificador será aplicado sobre toda la clave de acceso (48 dígitos) y deberá ser incorporado por el contribuyente a través del método denominado Módulo 11, con un factor de chequeo ponderado (2), este mecanismo de detección de errores, será verificado al momento de la recepción del comprobante. Cuando el resultado del dígito verificador obtenido sea igual a once (11), el digito verificador será el cero (0) y cuando el resultado del dígito verificador obtenido sea igual a diez 10, el digito verificador será el uno (1).</p>

<p>El código numérico constituye un mecanismo para brindar seguridad al emisor en cada comprobante emitido, el algoritmo numérico para conformar este código es potestad absoluta del contribuyente emisor.</p>

<p>Ver <a href="https://es.wikipedia.org/wiki/C%C3%B3digo_de_control">aquí</a> ejemplo de verificación utilizando algoritmo de módulo 11.</p>
<h3 id='result-set'>Result set</h3>
<p>Este objeto siempre se obtiene como respuesta al consultar un listado de recursos</p>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>count<p class="dt-data-type">integer</p></td>
<td>Número total de elementos en la lista</td>
</tr>
<tr>
<td>results<p class="dt-data-type">array</p></td>
<td>Listado de elementos</td>
</tr>
<tr>
<td>next<p class="dt-data-type">string</p></td>
<td>URL para obtener la página siguiente de resultados, es <code>null</code> si no existe una siguiente página de resultados.</td>
</tr>
<tr>
<td>previous<p class="dt-data-type">string</p></td>
<td>URL para obtener la página anterior de resultados, es <code>null</code> si no existe una página anterior de resultados.</td>
</tr>
</tbody></table>
<h3 id='tax'>Tax</h3>
<p>Impuesto aplicado a una transacción o item.</p>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>tax_code<p class="dt-data-type">string</p></td>
<td>Código del grupo al que pertenece el impuesto.</td>
</tr>
<tr>
<td>rate_code <p class="dt-data-type">string</p></td>
<td>Código de la tarifa de impuesto aplicado.</td>
</tr>
<tr>
<td>amount <p class="dt-data-type">string</p></td>
<td>Valor a pagar de impuesto</td>
</tr>
<tr>
<td>taxable_amount<p class="dt-data-type">object</p></td>
<td>Base imponible. Valor a partir del cual el impuesto se calcula.</td>
</tr>
<tr>
<td>rate <p class="dt-data-type">string</p></td>
<td>Porcentaje del impuesto aplicado.</td>
</tr>
</tbody></table>
<h3 id='documento-relacionado'>Documento Relacionado</h3>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>number<p class="dt-data-type">string</p></td>
<td>Código del grupo al que pertenece el impuesto.</td>
</tr>
<tr>
<td>type <p class="dt-data-type">string</p></td>
<td>Tipo del documento relacionado. Ver tabla de <a href="#tipos-de-documentos">Tipos de documentos</a></td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">string</p></td>
<td>Fecha de emisión del documento relacionado en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
</tbody></table>
<h3 id='issuer'>Issuer</h3>
<p>Información del emisor de un comprobante.</p>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>tax_identification<p class="dt-data-type">string</p></td>
<td>Número de RUC de 13 caracteres</td>
</tr>
<tr>
<td>legal_name<p class="dt-data-type">string</p></td>
<td>Razón social</td>
</tr>
<tr>
<td>commercial_name<p class="dt-data-type">string</p></td>
<td>Nombre comercial</td>
</tr>
<tr>
<td>address<p class="dt-data-type">string</p></td>
<td>Dirección del establecimiento registrada en el SRI</td>
</tr>
<tr>
<td>locality<p class="dt-data-type">string</p></td>
<td>Ciudad o pueblo</td>
</tr>
<tr>
<td>administrative_district_level_1 <p class="dt-data-type">string</p></td>
<td>Provincia</td>
</tr>
<tr>
<td>country<p class="dt-data-type">string</p></td>
<td>País</td>
</tr>
<tr>
<td>properties <p class="dt-data-type">list of <a href="#property">property</a> objects</p></td>
<td></td>
</tr>
<tr>
<td>location</td>
<td><a href="#location">location</a></td>
</tr>
</tbody></table>
<h3 id='location'>Location</h3>
<p>Representa un establecimiento del negocio.</p>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>code<p class="dt-data-type">string</p></td>
<td>Código numérico de 3 caracteres que representa al establecimiento. Ejemplo: <code>001</code></td>
</tr>
<tr>
<td>address<p class="dt-data-type">string</p></td>
<td>Dirección registrada en el SRI. Máximo 300 caracteres</td>
</tr>
<tr>
<td>administrative_district_level_1<p class="dt-data-type">string</p></td>
<td>Provincia</td>
</tr>
<tr>
<td>administrative_district_level_2<p class="dt-data-type">string</p></td>
<td>Ciudad</td>
</tr>
<tr>
<td>point_of_sale<p class="dt-data-type">object <a href="#point_of_sale">punto de venta</a></p></td>
<td>Información del punto de venta que emite el documento</td>
</tr>
</tbody></table>
<h3 id='point-of-sale'>Point of sale</h3>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>id<p class="dt-data-type">string</p></td>
<td>ID único del punto de venta</td>
</tr>
<tr>
<td>code<p class="dt-data-type">string</p></td>
<td>Código numérico de 3 caracteres que identifica al punto de emisión, o punto de venta. Ejemplo: &quot;001&quot;</td>
</tr>
</tbody></table>
<h3 id='contacto'>Contacto</h3>
<p>Los contactos están representados por un objeto <em>Contact</em></p>
<h4 id='el-objeto-contact'>El objeto Contact</h4>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>legal_name<p class="dt-data-type">string</p></td>
<td>Razón social del contacto.</td>
</tr>
<tr>
<td>commercial_name<p class="dt-data-type">string</p></td>
<td>Nombre comercial del contacto (aplica para empresas).</td>
</tr>
<tr>
<td>properties <p class="dt-data-type">object</p></td>
<td>diccionario de datos. Representa información complementarios del contacto.</td>
</tr>
<tr>
<td>tax_identification <p class="dt-data-type">string</p></td>
<td>De 5 a máximo 20 caracteres.</td>
</tr>
<tr>
<td>tax_identification_type <p class="dt-data-type">string</p></td>
<td>Ver <a href="#tipo-de-identificación">tabla</a> de tipos de identificación</td>
</tr>
<tr>
<td>email <p class="dt-data-type">string</p></td>
<td>Correo electrónico. Máximo 255 caracteres.</td>
</tr>
<tr>
<td>phone <p class="dt-data-type">string</p></td>
<td>Teléfono.</td>
</tr>
<tr>
<td>address <p class="dt-data-type">string</p></td>
<td>Dirección</td>
</tr>
<tr>
<td>locality <p class="dt-data-type">string</p></td>
<td>Ciudad o pueblo</td>
</tr>
<tr>
<td>sublocality <p class="dt-data-type">string</p></td>
<td>Sector o barrio</td>
</tr>
<tr>
<td>administrative_district_level_1 <p class="dt-data-type">string</p></td>
<td>Provincia</td>
</tr>
</tbody></table>
<h3 id='property'>Property</h3>
<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name <p class="dt-data-type">string</p></td>
<td>Nombre de la propiedad. Esto permite asociar información de cualquier índole a los recursos que soportan esta propiedad.</td>
</tr>
<tr>
<td>description <p class="dt-data-type">string</p></td>
<td>Valor de la propiedad.</td>
</tr>
</tbody></table>
<h3 id='envio-sri'>Envío SRI</h3>
<p>Contiene la información y el estado de la fase de envío al SRI</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>mensajes</td>
<td>listado de objeto <a href="#mensajes-de-respuesta-sri">mensaje SRI</a></td>
<td>Listado de mensajes.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Posibles valores: <code>RECIBIDA</code>, <code>DEVUELTA</code></td>
</tr>
<tr>
<td>fecha</td>
<td>string</td>
<td>Fecha en la que se realizó el envío en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
</tbody></table>
<h3 id='autorizacion-sri'>Autorización SRI</h3>
<p>Contiene la información y el estado de la fase de autorización del comprobante.</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>mensajes</td>
<td>listado de objeto <a href="#mensajes-de-respuesta-sri">mensaje SRI</a></td>
<td>Listado de mensajes.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Posibles valores: <code>AUTORIZADO</code>, <code>NO AUTORIZADO</code></td>
</tr>
<tr>
<td>numero</td>
<td>string</td>
<td>Número de autorización.</td>
</tr>
<tr>
<td>fecha</td>
<td>string</td>
<td>Fecha en la que se otorgó la autorización en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
</tbody></table>
<h3 id='mensajes-de-respuesta-sri'>Mensajes de respuesta SRI</h3>
<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>identificador</td>
<td>string</td>
<td>Número con el que el SRI identifica al mensaje.</td>
</tr>
<tr>
<td>mensaje</td>
<td>string</td>
<td>Descripción del error, información o advertencia.</td>
</tr>
<tr>
<td>tipo</td>
<td>string</td>
<td>Posibles valores: <code>INFORMATIVO</code>, <code>ADVERTENCIA</code>, <code>ERROR</code></td>
</tr>
<tr>
<td>informacion_adicional</td>
<td>string</td>
<td>Información adicional del mensaje.</td>
</tr>
</tbody></table>

<p><h3 id="retencion-de-factura">Retención en factura</h2></p>

<p>Caso específico de Retenciones en la Comercializadores / Distribuidores de derivados del Petróleo y Retención presuntiva de IVA a los Editores, Distribuidores y Voceadores que participan en la comercialización de periódicos y/o revistas.</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>codigo</td>
<td>string</td>
<td>Código del <a href="#tipos-de-impuesto-para-la-retencion-en-la-factura">tipo de impuesto para la retención en la factura</a>.  <strong>Requerido</strong></td>
</tr>
<tr>
<td>codigo_porcentaje</td>
<td>string</td>
<td>Código del <a href="#retencion-de-iva-presuntivo-y-renta">porcentaje del impuesto</a>. <strong>Requerido</strong></td>
</tr>
<tr>
<td>tarifa</td>
<td>float</td>
<td>Porcentaje actual del impuesto. Máximo 3 enteros y 2 decimales.  <strong>Requerido</strong></td>
</tr>
<tr>
<td>valor</td>
<td>float</td>
<td>Valor del impuesto. Máximo 12 enteros y 2 decimales.  <strong>Requerido</strong></td>
</tr>
</tbody></table>
<h1 id='ventas'>Ventas</h1>
<p>Emite y registra comprobantes de ventas. Podrás emitir Facturas,
Notas de Crédito, Guías de Remisión y Notas de Débito; y podrás registrar
Retenciones recibidas después de hacer una venta.</p>
<h2 id='facturas'>Facturas</h2><h4 id='acciones-disponibles-para-facturas-de-venta'>Acciones disponibles para Facturas de venta</h4>
<ul>
<li><p><a href="#emite-una-factura"><code>POST /sales/invoices/issues</code></a><br>
Emite una nueva Factura</p></li>
<li><p><a href="#consulta-una-factura"><code>GET /sales/invoices/:id</code></a><br>
Obtener información de una Factura</p></li>
<li><p><a href="#lista-facturas"><code>GET /sales/invoices</code></a><br>
Obtener un listado de Facturas</p></li>
<li><p><a href="#re-emite-un-factura"><code>POST /sales/invoices/:id/reissues</code></a><br>
Re-emite un Factura existente</p></li>
</ul>
<h2 id='emite-una-factura'>Emite una Factura</h2><h3 id='operacion'>Operación</h3>
<p><code>POST /sales/invoices/issues</code></p>
<h3 id='requerimiento'>Requerimiento</h3><pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/sales/invoices/issues <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "live": false,
  "properties": [
    {
      "description": "420420",
      "name": "Contract Number"
    }
  ],
  "payments": [
    {
      "properties": [
        {
          "description": "2223XXXX23",
          "name": "account_number"
        },
        {
          "description": "Banco Huancavilva",
          "name": "bank"
        }
      ],
      "amount": "114.00",
      "method": "efectivo"
    }
  ],
  "supplier": {
    "location": {
      "point_of_sale": {
        "code": "002"
      },
      "code": "001"
    }
  },
  "sequence": 1000,
  "taxes": [
    {
      "amount": "14.00",
      "tax_code": "2",
      "rate_code": "3",
      "tax_rate": "14.0",
      "taxable_amount": "100.00"
    }
  ],
  "issue_date": "2017-11-01T09:00:00-05:00",
  "customer": {
    "properties": [],
    "locality": "Guayaquil",
    "address": "Carrera 10 Calle 1",
    "email": "compras@datil.co",
    "legal_name": "Juan A. Pérez",
    "phone": "57122222222222",
    "tax_identification_type": "05",
    "sublocality": "Centro",
    "tax_identification": "0924447956",
    "country": "EC",
    "administrative_district_level_1": "Guayas"
  },
  "totals": {
    "total_tax_amount": "14.00",
    "subtotal_amount": "100.00",
    "total_discount_amount": "100.00",
    "total_amount": "114.00"
  },
  "currency": "USD",
  "items": [
    {
      "description": "Apple",
      "properties": [
        {
          "description": "red",
          "name": "color"
        }
      ],
      "unit_price": "2.00",
      "taxes": [
        {
          "amount": "14.00",
          "tax_code": "2",
          "rate_code": "3",
          "tax_rate": "14.00",
          "taxable_amount": "100.00"
        }
      ],
      "subtotal_amount": "100.00",
      "unit_code": "units",
      "unit_discount": "1.00",
      "quantity": "100"
    }
  ]
}'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="p">,</span> <span class="n">json</span>

<span class="n">invoice</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"live"</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"description"</span><span class="p">:</span> <span class="s">"420420"</span><span class="p">,</span>
            <span class="s">"name"</span><span class="p">:</span> <span class="s">"Contract Number"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"payments"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s">"description"</span><span class="p">:</span> <span class="s">"2223XXXX23"</span><span class="p">,</span>
                    <span class="s">"name"</span><span class="p">:</span> <span class="s">"account_number"</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s">"description"</span><span class="p">:</span> <span class="s">"Banco Huancavilva"</span><span class="p">,</span>
                    <span class="s">"name"</span><span class="p">:</span> <span class="s">"bank"</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">"amount"</span><span class="p">:</span> <span class="s">"114.00"</span><span class="p">,</span>
            <span class="s">"method"</span><span class="p">:</span> <span class="s">"efectivo"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"supplier"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"location"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"point_of_sale"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"code"</span><span class="p">:</span> <span class="s">"002"</span>
            <span class="p">},</span>
            <span class="s">"code"</span><span class="p">:</span> <span class="s">"001"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s">"sequence"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s">"taxes"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"amount"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
            <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
            <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span>
            <span class="s">"tax_rate"</span><span class="p">:</span> <span class="s">"14.0"</span><span class="p">,</span>
            <span class="s">"taxable_amount"</span><span class="p">:</span> <span class="s">"100.00"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"issue_date"</span><span class="p">:</span> <span class="s">"2017-11-01T09:00:00-05:00"</span><span class="p">,</span>
    <span class="s">"customer"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>

        <span class="p">],</span>
        <span class="s">"locality"</span><span class="p">:</span> <span class="s">"Guayaquil"</span><span class="p">,</span>
        <span class="s">"address"</span><span class="p">:</span> <span class="s">"Carrera 10 Calle 1"</span><span class="p">,</span>
        <span class="s">"email"</span><span class="p">:</span> <span class="s">"compras@datil.co"</span><span class="p">,</span>
        <span class="s">"legal_name"</span><span class="p">:</span> <span class="s">"Juan A. Pérez"</span><span class="p">,</span>
        <span class="s">"phone"</span><span class="p">:</span> <span class="s">"57122222222222"</span><span class="p">,</span>
        <span class="s">"tax_identification_type"</span><span class="p">:</span> <span class="s">"05"</span><span class="p">,</span>
        <span class="s">"sublocality"</span><span class="p">:</span> <span class="s">"Centro"</span><span class="p">,</span>
        <span class="s">"tax_identification"</span><span class="p">:</span> <span class="s">"0924447956"</span><span class="p">,</span>
        <span class="s">"country"</span><span class="p">:</span> <span class="s">"EC"</span><span class="p">,</span>
        <span class="s">"administrative_district_level_1"</span><span class="p">:</span> <span class="s">"Guayas"</span>
    <span class="p">},</span>
    <span class="s">"totals"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"total_tax_amount"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
        <span class="s">"subtotal_amount"</span><span class="p">:</span> <span class="s">"100.00"</span><span class="p">,</span>
        <span class="s">"total_discount_amount"</span><span class="p">:</span> <span class="s">"100.00"</span><span class="p">,</span>
        <span class="s">"total_amount"</span><span class="p">:</span> <span class="s">"114.00"</span>
    <span class="p">},</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span><span class="p">,</span>
    <span class="s">"items"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"description"</span><span class="p">:</span> <span class="s">"Apple"</span><span class="p">,</span>
            <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s">"description"</span><span class="p">:</span> <span class="s">"red"</span><span class="p">,</span>
                    <span class="s">"name"</span><span class="p">:</span> <span class="s">"color"</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">"unit_price"</span><span class="p">:</span> <span class="s">"2.00"</span><span class="p">,</span>
            <span class="s">"taxes"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s">"amount"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
                    <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
                    <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span>
                    <span class="s">"tax_rate"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
                    <span class="s">"taxable_amount"</span><span class="p">:</span> <span class="s">"100.00"</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">"subtotal_amount"</span><span class="p">:</span> <span class="s">"100.00"</span><span class="p">,</span>
            <span class="s">"unit_code"</span><span class="p">:</span> <span class="s">"units"</span><span class="p">,</span>
            <span class="s">"unit_discount"</span><span class="p">:</span> <span class="s">"1.00"</span><span class="p">,</span>
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"100"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;clave-certificado-firma&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://api.datil.co/sales/invoices/issues"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">invoice</span><span class="p">))</span>
</code></pre>
<p>Para la emisión de una factura se debe enviar la información completa de la
venta. Las facturas emitidas con un API key de pruebas, serán enviadas al
ambiente de pruebas del SRI.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>supplier<p class="dt-data-param-required">requerido</p></td>
<td>Información del <a href="#issuer">emisor</a>. En este campo sólo es necesario proveer &quot;location&quot; con los campos &quot;code&quot; y &quot;point_of_sale&quot;. Para el objeto &quot;point_of_sale&quot; es necesario sólo especificar &quot;code&quot;</td>
</tr>
<tr>
<td>sequence</td>
<td>Número entero positivo mayor a cero. Si no envías esta información se utilizará el siguiente número de factura disponible.</td>
</tr>
<tr>
<td>currency<p class="dt-data-param-required">requerido</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>issue_date</td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>. Si no es provista, se utilizará la fecha en la que se envía la factura.</td>
</tr>
<tr>
<td>totals<p class="dt-data-param-required">requerido</p></td>
<td>Totales de la factura. Ver <a href="#invoice-totals">objeto totales</a></td>
</tr>
<tr>
<td>customer<p class="dt-data-param-required">requerido</p></td>
<td>Información del <a href="#contacto">comprador</a>.</td>
</tr>
<tr>
<td>items<p class="dt-data-param-required">requerido</p></td>
<td>Bienes o servicios vendidos. Lista de <a href="#invoice-item">items</a></td>
</tr>
<tr>
<td>uuid</td>
<td>La clave de acceso de la factura. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties</td>
<td>Información adicional adjunta al comprobante. Listado de objetos tipo <a href="#property">property</a></td>
</tr>
<tr>
<td>payments</td>
<td>Pagos realizados a la factura. Listado de objetos tipo <a href="#payment">payment</a></td>
</tr>
<tr>
<td>payment_methods</td>
<td>Listado de formas de pago aplicables a la factura. Si alguno de los métodos de pago tienen un &quot;due_date&quot; Datil entenderá esto como una factura a crédito. Listado de objectos tipo <a href="#payment-method">payment_method</a></td>
</tr>
</tbody></table>
<h3 id='respuesta'>Respuesta</h3>
<p>Retorna un objeto <strong><a href="#el-objeto-invoice">invoice</a></strong> que incluye un nuevo parámetro <code>id</code>,
el cual identifica de manera única a la factura. El campo <code>clave_acceso</code> generado
también se incluirá como parte de la respuesta.</p>
<h2 id='consulta-una-factura'>Consulta una Factura</h2>
<p>Consulta una factura para obtener toda la información del comprobante,
incluyendo el estado de autorización del mismo.
El atributo <code>status</code> de la respuesta obtenida al invocar esta operación, indica
el estado actual del comprobante.</p>

<p>Si es necesario conocer en detalle el estado del <a href="#proceso-de-emisión">proceso de emisión</a>,
se debe examinar el atributos <code>authorization</code> de la factura.</p>
<h3 id='operacion-2'>Operación</h3>
<p><code>GET /sales/invoices/:invoice-id</code></p>
<h3 id='requerimiento-2'>Requerimiento</h3><pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/sales/invoices/&lt;invoice-id&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;clave-del-api&gt;"</span> <span class="se">\</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://api.datil.co/sales/invoices/&lt;id-factura&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre>
<p>Reemplaza en la ruta <code>&lt;invoice-ID&gt;</code> por el <code>id</code> de la factura que necesitas
consultar.</p>
<h3 id='respuesta-2'>Respuesta</h3>
<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6463427e69b546afb77a75973cc74ce7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.64"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-002-000438970"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2308201701099271255400110010020004389701994000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23T10:09:15-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 123"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"José Pérez"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0990289327"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0914617584"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.64"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34.00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">438970</span><span class="p">,</span><span class="w">
  </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2308201701099271255400110010020004389701994000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plan Pro"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"unit_discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.357000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.64"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Servicio"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dátil Facturación Electrónica"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Incluye"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facturas, Retenciones, Notas de Crédito/Débito, Guías de Remisión"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='re-emite-una-factura'>Re-emite una Factura</h2><h3 id='operacion-3'>Operación</h3>
<p><code>POST /sales/invoices/:id/reissues</code></p>
<h3 id='requerimiento-3'>Requerimiento</h3>
<p>Esta operación debe ser utilizada para corregir comprobantes NO AUTORIZADOS.</p>

<p>En la URL de esta opción se debe incluir el <code>id</code> de la factura recibida al
momento de emitirla.</p>

<p>El cuerpo del requerimiento es un objeto <a href="#emite-una-factura">factura</a> con los
datos corregidos para que pueda ser procesado y autorizado.</p>
<h3 id='respuesta-3'>Respuesta</h3>
<p>Retornará un error si el comprobante se encuentra autorizado.</p>
<h2 id='lista-facturas'>Lista Facturas</h2><pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/sales/invoices?customer_tax_identification<span class="o">=</span>0900800712001 <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"Accept: application/json"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span><span class="p">,</span>
  <span class="s">'accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/sales/invoices?customer_tax_identification=0900800712001"</span>
<span class="n">invoices</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Obtén el listado completo de Facturas emitidas, o filtra los resultados
por cualquiera de estos parámetros.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>customer_tax_identification<p class="dt-data-type">string</p></td>
<td>Filtra las facturas por comprador.</td>
</tr>
<tr>
<td>issue_from<p class="dt-data-type">string</p></td>
<td>Lista facturas emitidas hasta esta fecha.</td>
</tr>
<tr>
<td>issue_to<p class="dt-data-type">string</p></td>
<td>Lista facturas a partir de esta fecha de emisión.</td>
</tr>
<tr>
<td>sequence_from<p class="dt-data-type">string</p></td>
<td>Lista facturas a partir de esta secuencia.</td>
</tr>
<tr>
<td>sequence_to<p class="dt-data-type">string</p></td>
<td>Lista facturas hasta esta secuencia.</td>
</tr>
<tr>
<td>supplier_locations_codes<p class="dt-data-type">array</p></td>
<td>Listado de códigos de establecimiento separados por coma, ej: 001,004,005</td>
</tr>
<tr>
<td>supplier_locations_points_of_sale<p class="dt-data-type">array</p></td>
<td>Listado de códigos de punto de emisión separados por coma, ej: 001,004,005</td>
</tr>
<tr>
<td>select_keys<p class="dt-data-type">string</p></td>
<td>Listado de nombres de atributos de la factura separados por coma que se quisieran obtener en la respuesta. Si no se especifica la respuesta incluye el objeto completo. Ej: number,issue_date,items</td>
</tr>
<tr>
<td>page_size<p class="dt-data-type">integer</p></td>
<td>Define la cantidad de items por página. Por defecto retorna 30 items por página</td>
</tr>
<tr>
<td>order_by <p class="dt-data-type">string</p></td>
<td>Listado de nombres de atributos de la factura por los que quisieras ordenar el listado, por ejemplo: &quot;sequence&quot;. Para ordenar de forma descendente utiliza un guión &quot;-&quot; como prefijo al nombre del atributo, así: &quot;-sequence&quot;</td>
</tr>
<tr>
<td>environment<p class="dt-data-type">integer</p></td>
<td>Lista facturas dependiento del ambiente</td>
</tr>
</tbody></table>
<h4 id='respuesta-4'>Respuesta</h4>
<p>Retorna un objeto <a href="#result-set">result set</a> con el listado de Facturas que
coincidan con los parámetros de filtrado enviados.</p>

<blockquote>
<p>Listado de facturas</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">584</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Benalcázar Teresa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-5555"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1910221134001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Benalcázar Teresa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tere@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T13:58:25.324730-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099271255999999999010001483751993713710"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T18:58:25.324730+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"148375"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-001-000148375"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tip_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"additional_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T18:58:49Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099271255999999999010001483751993713710"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Periodo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Febrero 2018"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plan Gratuito"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6047dfaa-d657-4185-b113-0f883ec455a1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FEF-001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5432039</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992754321001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-bcec-4e83-b9e9-d4ae12b4d777"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d15f357-02dc-4911-841d-e69f09cb213c"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"outstanding_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"printable_version_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/aaaaaaaa0000999111ccc333777aa53/pdf?download"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa0000999111ccc333777aa53"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"electronic_document_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/aaaaaaaa0000999111ccc333777aa53/xml?download"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adriana Benítez"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701927920001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adriana Benítez"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adriana@hyper.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T17:17:31.257164-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099275432100120010020000024971994713525"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T22:17:31.257164+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dbid"</span><span class="p">:</span><span class="w"> </span><span class="mi">999876</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2497"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-002-000002497"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tip_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"additional_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T22:17:54Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099275432100120010020000024971994713517"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Periodo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anual"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Certificado de Firma Electrónica"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.250000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e77da89-4b63-40c6-b9a5-268cb4a547f9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CFE-001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23717155</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992754321001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-b6ec-4e83-b9e9-d4ae12b4d967"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">148</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d15f357-02dc-4118-841d-e69f09cb213c"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"outstanding_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"printable_version_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/088140bbd883556dabf82c38f5acf8ba/pdf?download"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"088140bbd883556dabf82c38f5acf8ba"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"electronic_document_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/088140bbd883556dabf82c38f5acf8ba/xml?download"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/api/v2/latest/sales/invoices/?page=2&amp;issue_from=2018-02-01&amp;page_size=2&amp;issue_to=2018-02-10"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='registra-pagos'>Registra Pagos</h2><h3 id='operacion-4'>Operación</h3>
<p><code>POST /sales/invoices/:id/payments</code></p>
<h3 id='requerimiento-4'>Requerimiento</h3><pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/sales/invoices/6463427e69b546afb77a75973cc74ce7/payments <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
      "payments": [
        {
          "amount": 114.0,
          "method": "cash",
          "date": "2017-05-31T13:50:07-05:00",
          "properties": [
            {
              "name": "account_number",
              "description": "2223XXXX23"
            },
            {
              "name": "bank",
              "description": "Banco Huancavilva"
            }
          }]
        }
      ],
      "send_payment_confirmation": true
    }'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="p">,</span> <span class="n">json</span>

<span class="n">payments</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"payments"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="s">"114.0"</span><span class="p">,</span>
    <span class="s">"method"</span><span class="p">:</span> <span class="s">"cash"</span><span class="p">,</span>
    <span class="s">"date"</span><span class="p">:</span> <span class="s">"2017-05-31T13:50:07-05:00"</span><span class="p">,</span>
    <span class="s">"properties"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s">"name"</span><span class="p">:</span> <span class="s">"account_number"</span><span class="p">,</span>
        <span class="s">"description"</span><span class="p">:</span> <span class="s">"2223XXXX23"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s">"name"</span><span class="p">:</span> <span class="s">"bank"</span><span class="p">,</span>
        <span class="s">"description"</span><span class="p">:</span> <span class="s">"Banco Huancavilva"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}],</span>
  <span class="s">"send_payment_confirmation"</span><span class="p">:</span> <span class="bp">True</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://api.datil.co/sales/invoices/6463427e69b546afb77a75973cc74ce7/payments"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payments</span><span class="p">))</span>
</code></pre>
<p>Puedes registrar uno o más pagos.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>payments<p class="dt-data-param-required">requerido</p></td>
<td>Listado de <a href="#payment">pagos</a> a registrar</td>
</tr>
<tr>
<td>send_payment_confirmation</td>
<td>Envia un correo de recibo de pago al cliente.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>method<p class="dt-data-param-required">requerido</p></td>
<td>Código que representa al método.</td>
</tr>
<tr>
<td>amount<p class="dt-data-param-required">requerido</p></td>
<td>Monto a pagar.</td>
</tr>
<tr>
<td>date</td>
<td>Fecha en la que se realizó el pago en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>. Si no es provista, se utilizará la fecha actual.</td>
</tr>
<tr>
<td>properties</td>
<td>Listado de propiedades adicionales</td>
</tr>
</tbody></table>
<h2 id='notas-de-credito'>Notas de crédito</h2><h4 id='acciones-disponibles-para-nota-de-credito-en-venta'>Acciones disponibles para Nota de crédito en venta</h4>
<ul>
<li><p><a href="#emite-una-nota-de-crédito"><code>POST /sales/credit-notes/issues</code></a><br>
Emite una nueva Nota de crédito</p></li>
<li><p><a href="#consulta-una-nota-de-crédito"><code>GET /sales/credit-notes/:id</code></a><br>
Obtener información de una Nota de crédito</p></li>
<li><p><a href="#lista-notas-de-crédito"><code>GET /sales/credit-notes</code></a><br>
Obtener un listado de Notas de crédito</p></li>
<li><p><a href="#re-emite-un-nota-de-crédito"><code>POST /sales/credit-notes/:id/reissues</code></a><br>
Re-emite un Nota de crédito existente</p></li>
</ul>
<h2 id='emite-una-nota-de-credito'>Emite una Nota de crédito</h2><h3 id='operacion'>Operación</h3>
<p><code>POST /sales/credit-notes/issues</code></p>
<h3 id='requerimiento'>Requerimiento</h3><pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/sales/credit-notes/issues <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "live": false,
  "properties": [
    {
      "description": "420420",
      "name": "Contract Number"
    }
  ],
  "supplier": {
    "location": {
      "point_of_sale": {
        "code": "002"
      },
      "code": "001"
    }
  },
  "sequence": 1000,
  "taxes": [
    {
      "amount": "14.00",
      "tax_code": "2",
      "rate_code": "3",
      "tax_rate": "14.0",
      "taxable_amount": "100.00"
    }
  ],
  "credit_reason": "Pedido equivocado",
  "credited_document": {
    "number": "001-007-002357641",
    "type": "01",
    "issue_date": "2017-10-26T01:10:06-05:00"
  },
  "issue_date": "2017-11-01T09:00:00-05:00",
  "customer": {
    "properties": [],
    "locality": "Guayaquil",
    "address": "Carrera 10 Calle 1",
    "email": "compras@datil.co",
    "legal_name": "Juan A. Pérez",
    "phone": "57122222222222",
    "tax_identification_type": "05",
    "sublocality": "Centro",
    "tax_identification": "0924447956",
    "country": "EC",
    "administrative_district_level_1": "Guayas"
  },
  "totals": {
    "total_tax_amount": "14.00",
    "subtotal_amount": "100.00",
    "total_discount_amount": "100.00",
    "total_amount": "114.00"
  },
  "currency": "USD",
  "items": [
    {
      "description": "Apple",
      "properties": [
        {
          "description": "red",
          "name": "color"
        }
      ],
      "unit_price": "2.00",
      "taxes": [
        {
          "amount": "14.00",
          "tax_code": "2",
          "rate_code": "3",
          "tax_rate": "14.00",
          "taxable_amount": "100.00"
        }
      ],
      "subtotal_amount": "100.00",
      "unit_code": "units",
      "unit_discount": "1.00",
      "quantity": "100"
    }
  ]
}'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="p">,</span> <span class="n">json</span>

<span class="n">credit_note</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"live"</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"description"</span><span class="p">:</span> <span class="s">"420420"</span><span class="p">,</span>
            <span class="s">"name"</span><span class="p">:</span> <span class="s">"Contract Number"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"supplier"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"location"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"point_of_sale"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"code"</span><span class="p">:</span> <span class="s">"002"</span>
            <span class="p">},</span>
            <span class="s">"code"</span><span class="p">:</span> <span class="s">"001"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s">"sequence"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s">"taxes"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"amount"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
            <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
            <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span>
            <span class="s">"tax_rate"</span><span class="p">:</span> <span class="s">"14.0"</span><span class="p">,</span>
            <span class="s">"taxable_amount"</span><span class="p">:</span> <span class="s">"100.00"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"issue_date"</span><span class="p">:</span> <span class="s">"2017-11-01T09:00:00-05:00"</span><span class="p">,</span>
    <span class="s">"credit_reason"</span><span class="p">:</span> <span class="s">"Pedido equivocado"</span><span class="p">,</span>
    <span class="s">"credited_document"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"number"</span><span class="p">:</span> <span class="s">"001-007-002357641"</span><span class="p">,</span>
        <span class="s">"type"</span><span class="p">:</span> <span class="s">"01"</span><span class="p">,</span>
        <span class="s">"issue_date"</span><span class="p">:</span> <span class="s">"2017-10-26T01:10:06-05:00"</span>
    <span class="p">},</span>
    <span class="s">"customer"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>

        <span class="p">],</span>
        <span class="s">"locality"</span><span class="p">:</span> <span class="s">"Guayaquil"</span><span class="p">,</span>
        <span class="s">"address"</span><span class="p">:</span> <span class="s">"Carrera 10 Calle 1"</span><span class="p">,</span>
        <span class="s">"email"</span><span class="p">:</span> <span class="s">"compras@datil.co"</span><span class="p">,</span>
        <span class="s">"legal_name"</span><span class="p">:</span> <span class="s">"Juan A. Pérez"</span><span class="p">,</span>
        <span class="s">"phone"</span><span class="p">:</span> <span class="s">"57122222222222"</span><span class="p">,</span>
        <span class="s">"tax_identification_type"</span><span class="p">:</span> <span class="s">"05"</span><span class="p">,</span>
        <span class="s">"sublocality"</span><span class="p">:</span> <span class="s">"Centro"</span><span class="p">,</span>
        <span class="s">"tax_identification"</span><span class="p">:</span> <span class="s">"0924447956"</span><span class="p">,</span>
        <span class="s">"country"</span><span class="p">:</span> <span class="s">"EC"</span><span class="p">,</span>
        <span class="s">"administrative_district_level_1"</span><span class="p">:</span> <span class="s">"Guayas"</span>
    <span class="p">},</span>
    <span class="s">"totals"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"total_tax_amount"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
        <span class="s">"subtotal_amount"</span><span class="p">:</span> <span class="s">"100.00"</span><span class="p">,</span>
        <span class="s">"total_discount_amount"</span><span class="p">:</span> <span class="s">"100.00"</span><span class="p">,</span>
        <span class="s">"total_amount"</span><span class="p">:</span> <span class="s">"114.00"</span>
    <span class="p">},</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span><span class="p">,</span>
    <span class="s">"items"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"description"</span><span class="p">:</span> <span class="s">"Apple"</span><span class="p">,</span>
            <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s">"description"</span><span class="p">:</span> <span class="s">"red"</span><span class="p">,</span>
                    <span class="s">"name"</span><span class="p">:</span> <span class="s">"color"</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">"unit_price"</span><span class="p">:</span> <span class="s">"2.00"</span><span class="p">,</span>
            <span class="s">"taxes"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s">"amount"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
                    <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
                    <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span>
                    <span class="s">"tax_rate"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
                    <span class="s">"taxable_amount"</span><span class="p">:</span> <span class="s">"100.00"</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">"subtotal_amount"</span><span class="p">:</span> <span class="s">"100.00"</span><span class="p">,</span>
            <span class="s">"unit_code"</span><span class="p">:</span> <span class="s">"units"</span><span class="p">,</span>
            <span class="s">"unit_discount"</span><span class="p">:</span> <span class="s">"1.00"</span><span class="p">,</span>
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"100"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;clave-certificado-firma&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://api.datil.co/sales/credit-notes/issues"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">credit</span><span class="o">-</span><span class="n">note</span><span class="p">))</span>
</code></pre>
<p>Para la emisión de una nota de crédito se debe enviar la información completa de la
venta. Las notas de crédito emitidas con un API key de pruebas, serán enviadas al
ambiente de pruebas del SRI.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>supplier<p class="dt-data-param-required">requerido</p></td>
<td>Información del <a href="#issuer">emisor</a> .En este campo sólo es necesario proveer &quot;location&quot; con los campos &quot;code&quot; y &quot;point_of_sale&quot;. Para el objeto &quot;point_of_sale&quot; es necesario sólo especificar &quot;code&quot;</td>
</tr>
<tr>
<td>sequence</td>
<td>Número entero positivo mayor a cero. Si no envías esta información se utilizará el siguiente número de nota de crédito disponible.</td>
</tr>
<tr>
<td>credit_reason<p class="dt-data-param-required">requerido</p></td>
<td>Razón por la cual se emite la nota de crédito.</td>
</tr>
<tr>
<td>credited_document<p class="dt-data-param-required">requerido</p></td>
<td>Documento al que afecta esta nota de crédito. Ver <a href="#documento-relacionado">documento relacionado</a></td>
</tr>
<tr>
<td>currency<p class="dt-data-param-required">requerido</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>issue_date</td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>. Si no es provista, se utilizará la fecha en la que se envía la nota de crédito.</td>
</tr>
<tr>
<td>totals<p class="dt-data-param-required">requerido</p></td>
<td>Totales de la nota de crédito. Ver <a href="#credit-note-totals">objeto totales</a></td>
</tr>
<tr>
<td>customer<p class="dt-data-param-required">requerido</p></td>
<td>Información del <a href="#contacto">comprador</a>.</td>
</tr>
<tr>
<td>items<p class="dt-data-param-required">requerido</p></td>
<td>Bienes o servicios vendidos. Lista de <a href="#credit-note-item">items</a></td>
</tr>
<tr>
<td>uuid</td>
<td>La clave de acceso de la nota de crédito. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties</td>
<td>Información adicional adjunta al comprobante. Listado de objetos tipo <a href="#property">property</a></td>
</tr>
</tbody></table>
<h3 id='respuesta'>Respuesta</h3>
<p>Retorna un objeto <strong><a href="#el-objeto-credit-note">credit-note</a></strong> que incluye un nuevo parámetro <code>id</code>,
el cual identifica de manera única a la nota de crédito. El campo <code>clave_acceso</code> generado
también se incluirá como parte de la respuesta.</p>
<h2 id='consulta-una-nota-de-credito'>Consulta una Nota de crédito</h2>
<p>Consulta una nota de crédito para obtener toda la información del comprobante,
incluyendo el estado de autorización del mismo.
El atributo <code>status</code> de la respuesta obtenida al invocar esta operación, indica
el estado actual del comprobante.</p>

<p>Si es necesario conocer en detalle el estado del
<a href="#proceso-de-emisión">proceso de emisión</a>, se debe examinar el atributos
<code>authorization</code> de la nota de crédito.</p>
<h3 id='operacion-2'>Operación</h3>
<p><code>GET /sales/credit-notes/:credit-note-id</code></p>
<h3 id='requerimiento-2'>Requerimiento</h3><pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/sales/credit-notes/&lt;credit-note-id&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;clave-del-api&gt;"</span> <span class="se">\</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://api.datil.co/sales/credit-notes/&lt;id-nota-crédito&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre>
<p>Reemplaza en la ruta <code>&lt;credit-note-ID&gt;</code> por el <code>id</code> de la nota de crédito que
necesitas consultar.</p>
<h3 id='respuesta-2'>Respuesta</h3>
<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6463427e69b546afb77a75973cc74ce7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.64"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-002-000438970"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2308201701099271255400110010020004389701994000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23T10:09:15-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"credit_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pedido equivocado"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"credited_document"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-007-002357641"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-10-26T01:10:06-05:00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-10T18:09:00-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 123"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"José Pérez"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0990289327"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0914617584"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.64"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34.00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">438970</span><span class="p">,</span><span class="w">
  </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2308201701099271255400110010020004389701994000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plan Pro"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"unit_discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.357000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.64"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Servicio"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dátil Facturación Electrónica"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Incluye"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Notas de crédito, Retenciones, Notas de crédito/Débito, Guías de Remisión"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='re-emite-una-nota-de-credito'>Re-emite una Nota de crédito</h2><h3 id='operacion-3'>Operación</h3>
<p><code>POST /sales/credit-notes/:id/reissues</code></p>
<h3 id='requerimiento-3'>Requerimiento</h3>
<p>Esta operación debe ser utilizada para corregir comprobantes NO AUTORIZADOS.</p>

<p>En la URL de esta opción se debe incluir el <code>id</code> de la nota de crédito recibida al
momento de emitirla.</p>

<p>El cuerpo del requerimiento es un objeto <a href="#emite-una-nota%20de%20crédito">nota de crédito</a> con los
datos corregidos para que pueda ser procesado y autorizado.</p>
<h3 id='respuesta-3'>Respuesta</h3>
<p>Retornará un error si el comprobante se encuentra autorizado.</p>
<h2 id='lista-notas-de-credito'>Lista Notas de crédito</h2><pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/sales/credit-notes?customer_tax_identification<span class="o">=</span>0900800712001 <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"Accept: application/json"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span><span class="p">,</span>
  <span class="s">'accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/sales/credit-notes?customer_tax_identification=0900800712001"</span>
<span class="n">credit</span><span class="o">-</span><span class="n">notes</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Obtén el listado completo de Notas de crédito emitidas, o filtra los resultados
por cualquiera de estos parámetros.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>customer_tax_identification<p class="dt-data-type">string</p></td>
<td>Filtra las notas de crédito por comprador.</td>
</tr>
<tr>
<td>issue_from<p class="dt-data-type">string</p></td>
<td>Lista notas de crédito emitidas hasta esta fecha.</td>
</tr>
<tr>
<td>issue_to<p class="dt-data-type">string</p></td>
<td>Lista notas de crédito a partir de esta fecha de emisión.</td>
</tr>
<tr>
<td>sequence_from<p class="dt-data-type">string</p></td>
<td>Lista notas de crédito a partir de esta secuencia.</td>
</tr>
<tr>
<td>sequence_to<p class="dt-data-type">string</p></td>
<td>Lista notas de crédito hasta esta secuencia.</td>
</tr>
<tr>
<td>supplier_points_of_sale<p class="dt-data-type">array</p></td>
<td>Listado de códigos de punto de emisión separados por coma, ej: 001,004,005</td>
</tr>
<tr>
<td>select_keys<p class="dt-data-type">array</p></td>
<td>Listado de nombres de atributos de la nota de crédito separados por coma que se quisieran obtener en la respuesta. Si no se especifica la respuesta incluye el objeto completo. Ej: number,issue_date,items</td>
</tr>
<tr>
<td>page_size<p class="dt-data-type">integer</p></td>
<td>Define la cantidad de items por página. Por defecto retorna 30 items por página</td>
</tr>
</tbody></table>
<h4 id='respuesta-4'>Respuesta</h4>
<p>Retorna un objeto <a href="#result-set">result set</a> con el listado de Notas de crédito que
coincidan con los parámetros de filtrado enviados.</p>

<blockquote>
<p>Listado de notas de crédito</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">584</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Benalcázar Teresa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-5555"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1910221134001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Benalcázar Teresa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tere@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T13:58:25.324730-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099271255999999999010001483751993713710"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T18:58:25.324730+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"148375"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-001-000148375"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tip_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"additional_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T18:58:49Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099271255999999999010001483751993713710"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Periodo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Febrero 2018"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plan Gratuito"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6047dfaa-d657-4185-b113-0f883ec455a1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FEF-001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5432039</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992754321001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-bcec-4e83-b9e9-d4ae12b4d777"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d15f357-02dc-4911-841d-e69f09cb213c"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"outstanding_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"printable_version_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/aaaaaaaa0000999111ccc333777aa53/pdf?download"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa0000999111ccc333777aa53"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"electronic_document_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/aaaaaaaa0000999111ccc333777aa53/xml?download"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adriana Benítez"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701927920001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adriana Benítez"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adriana@hyper.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T17:17:31.257164-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099275432100120010020000024971994713525"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T22:17:31.257164+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dbid"</span><span class="p">:</span><span class="w"> </span><span class="mi">999876</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2497"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-002-000002497"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tip_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"additional_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T22:17:54Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099275432100120010020000024971994713517"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Periodo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anual"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Certificado de Firma Electrónica"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.250000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e77da89-4b63-40c6-b9a5-268cb4a547f9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CFE-001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23717155</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992754321001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-b6ec-4e83-b9e9-d4ae12b4d967"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">148</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d15f357-02dc-4118-841d-e69f09cb213c"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"outstanding_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"printable_version_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/088140bbd883556dabf82c38f5acf8ba/pdf?download"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"088140bbd883556dabf82c38f5acf8ba"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"electronic_document_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/088140bbd883556dabf82c38f5acf8ba/xml?download"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/api/v2/latest/sales/credit-notes/?page=2&amp;issue_from=2018-02-01&amp;page_size=2&amp;issue_to=2018-02-10"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='compras'>Compras</h1>
<p>Emite y registra comprobantes de las compras que realiza un negocio.
Podrás emitir Retenciones, recuerda que un negocio obligado a llevar
contabilidad está obligado a retener impuestos. Además podrás registrar
Facturas, Notas de Crédito, Guías de Remisión y Notas de Débito que un negocio
recibe de sus proveedores.</p>
<h2 id="facturas-compra">Facturas</h2>
<h4 id='acciones-disponibles-para-facturas-de-compra'>Acciones disponibles para Facturas de compra</h4>
<ul>
<li><a href="#lista-facturas"><code>GET /purchases/invoices</code></a><br>
Obtener un listado de Facturas de compra</li>
</ul>

<h2 id="lista-facturas-compra">Lista Facturas</h2>
<pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/purchases/invoices?supplier_tax_identification<span class="o">=</span>0900800712001 <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"Accept: application/json"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span><span class="p">,</span>
  <span class="s">'accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/purchases/invoices?supplier_tax_identification=0900800712001"</span>
<span class="n">invoices</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Obtén el listado completo de Facturas recibidas, o filtra los resultados
por cualquiera de estos parámetros.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>supplier_tax_identification<p class="dt-data-type">string</p></td>
<td>Filtra las facturas por proveedor (emisor).</td>
</tr>
<tr>
<td>issue_from<p class="dt-data-type">string</p></td>
<td>Lista facturas recibidas hasta esta fecha.</td>
</tr>
<tr>
<td>issue_to<p class="dt-data-type">string</p></td>
<td>Lista facturas a partir de esta fecha de emisión.</td>
</tr>
<tr>
<td>sequence_from<p class="dt-data-type">string</p></td>
<td>Lista facturas a partir de esta secuencia.</td>
</tr>
<tr>
<td>sequence_to<p class="dt-data-type">string</p></td>
<td>Lista facturas hasta esta secuencia.</td>
</tr>
<tr>
<td>supplier_points_of_sale<p class="dt-data-type">array</p></td>
<td>Listado de códigos de punto de emisión separados por coma, ej: 001,004,005</td>
</tr>
<tr>
<td>select_keys<p class="dt-data-type">array</p></td>
<td>Listado de nombres de atributos de la factura separados por coma que se quisieran obtener en la respuesta. Si no se especifica la respuesta incluye el objeto completo. Ej: number,issue_date,items</td>
</tr>
<tr>
<td>page_size<p class="dt-data-type">integer</p></td>
<td>Define la cantidad de items por página. Por defecto retorna 30 items por página</td>
</tr>
<tr>
<td>environment<p class="dt-data-type">integer</p></td>
<td>Lista facturas dependiento del ambiente</td>
</tr>
</tbody></table>
<h4 id='respuesta'>Respuesta</h4>
<p>Retorna un objeto <a href="#result-set">result set</a> con el listado de Facturas que
coincidan con los parámetros de filtrado enviados.</p>

<blockquote>
<p>Listado de facturas</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">584</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"business"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Benalcázar Teresa"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-5555"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1910221134001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Benalcázar Teresa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tere@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T13:58:25.324730-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099271255999999999010001483751993713710"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T18:58:25.324730+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"148375"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-001-000148375"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tip_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"additional_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T18:58:49Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099271255999999999010001483751993713710"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Periodo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Febrero 2018"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plan Gratuito"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6047dfaa-d657-4185-b113-0f883ec455a1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FEF-001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5432039</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"business"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992754321001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-bcec-4e83-b9e9-d4ae12b4d777"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d15f357-02dc-4911-841d-e69f09cb213c"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"outstanding_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"printable_version_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/aaaaaaaa0000999111ccc333777aa53/pdf?download"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa0000999111ccc333777aa53"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"electronic_document_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/aaaaaaaa0000999111ccc333777aa53/xml?download"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"business"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adriana Benítez"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701927920001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adriana Benítez"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adriana@hyper.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T17:17:31.257164-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099275432100120010020000024971994713525"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T22:17:31.257164+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dbid"</span><span class="p">:</span><span class="w"> </span><span class="mi">999876</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2497"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-002-000002497"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tip_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"additional_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T22:17:54Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099275432100120010020000024971994713517"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Periodo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anual"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Certificado de Firma Electrónica"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.250000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e77da89-4b63-40c6-b9a5-268cb4a547f9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CFE-001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">23717155</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"business"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992754321001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-b6ec-4e83-b9e9-d4ae12b4d967"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">148</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d15f357-02dc-4118-841d-e69f09cb213c"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"outstanding_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"printable_version_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/088140bbd883556dabf82c38f5acf8ba/pdf?download"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"088140bbd883556dabf82c38f5acf8ba"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"electronic_document_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/088140bbd883556dabf82c38f5acf8ba/xml?download"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/api/v2/latest/purchases/invoices/?page=2&amp;issue_from=2018-02-01&amp;page_size=2&amp;issue_to=2018-02-10"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id="notas-credito-compra">Notas de crédito</h2>
<h4 id='acciones-disponibles-para-nota-de-credito-en-compra'>Acciones disponibles para Nota de Crédito en compra</h4>
<ul>
<li><a href="#lista-notas-de-credito-compra"><code>GET /purchases/credit-notes</code></a><br>
Obtener un listado de Notas de Crédito</li>
</ul>

<h2 id="lista-notas-credito-compra">Lista Notas de crédito</h2>
<pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/purchases/credit-notes?supplier_tax_identification<span class="o">=</span>0900800712001 <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"Accept: application/json"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span><span class="p">,</span>
  <span class="s">'accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/purchases/credit-notes?supplier_tax_identification=0900800712001"</span>
<span class="n">credit</span><span class="o">-</span><span class="n">notes</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Obtén el listado completo de Notas de crédito recibidas, o filtra los resultados
por cualquiera de estos parámetros.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>supplier_tax_identification<p class="dt-data-type">string</p></td>
<td>Filtra las notas de crédito por comprador.</td>
</tr>
<tr>
<td>issue_from<p class="dt-data-type">string</p></td>
<td>Lista notas de crédito emitidas hasta esta fecha.</td>
</tr>
<tr>
<td>issue_to<p class="dt-data-type">string</p></td>
<td>Lista notas de crédito a partir de esta fecha de emisión.</td>
</tr>
<tr>
<td>sequence_from<p class="dt-data-type">string</p></td>
<td>Lista notas de crédito a partir de esta secuencia.</td>
</tr>
<tr>
<td>sequence_to<p class="dt-data-type">string</p></td>
<td>Lista notas de crédito hasta esta secuencia.</td>
</tr>
<tr>
<td>supplier_points_of_sale<p class="dt-data-type">array</p></td>
<td>Listado de códigos de punto de emisión separados por coma, ej: 001,004,005</td>
</tr>
<tr>
<td>select_keys<p class="dt-data-type">array</p></td>
<td>Listado de nombres de atributos de la nota de crédito separados por coma que se quisieran obtener en la respuesta. Si no se especifica la respuesta incluye el objeto completo. Ej: number,issue_date,items</td>
</tr>
<tr>
<td>page_size<p class="dt-data-type">integer</p></td>
<td>Define la cantidad de items por página. Por defecto retorna 30 items por página</td>
</tr>
</tbody></table>
<h4 id='respuesta'>Respuesta</h4>
<p>Retorna un objeto <a href="#result-set">result set</a> con el listado de Notas de crédito que
coincidan con los parámetros de filtrado enviados.</p>

<blockquote>
<p>Listado de notas de crédito</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">584</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-5555"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Dátiles"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701927920001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Urdesa"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T13:58:25.324730-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099271255999999999010001483751993713710"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T18:58:25.324730+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"148375"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-001-000148375"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tip_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"additional_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T18:58:49Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099271255999999999010001483751993713710"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Periodo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Febrero 2018"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asesoría"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6047dfaa-d657-4185-b113-0f883ec455a1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TNT-001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"112.00"</span><span class="p">,</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Benalcázar Teresa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-5555"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1910221134001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tere@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Benalcázar Teresa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pichincha"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-bcec-4e83-b9e9-d4ae12b4d777"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quito"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quito"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pichincha"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d15f357-02dc-4911-841d-e69f09cb213c"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"printable_version_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/aaaaaaaa0000999111ccc333777aa53/pdf?download"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa0000999111ccc333777aa53"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"electronic_document_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/aaaaaaaa0000999111ccc333777aa53/xml?download"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-5555"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Dátiles"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1701927920001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Urdesa"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T17:17:31.257164-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099275432100120010020000024971994713525"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T22:17:31.257164+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2497"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-002-000002497"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"due_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.75"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tip_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"additional_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31.25"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"live"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-01T22:17:54Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0102201801099275432100120010020000024971994713517"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Periodo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anual"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dinamita"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6047dfaa-d657-4185-b113-0f883ec455a1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TNT-001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="s2">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56.00"</span><span class="p">,</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acmere S.A."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme Inc."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-5555"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0923948576001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tere@email.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-bcec-4e83-b9e9-d4ae12b4d777"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Samborondón"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Samborondón"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayas"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5d15f357-02dc-4911-841d-e69f09cb213c"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"printable_version_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/088140bbd883556dabf82c38f5acf8ba/pdf?download"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"088140bbd883556dabf82c38f5acf8ba"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"electronic_document_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/ver/088140bbd883556dabf82c38f5acf8ba/xml?download"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/api/v2/latest/purchases/credit-notes/?page=2&amp;issue_from=2018-02-01&amp;page_size=2&amp;issue_to=2018-02-10"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id="retenciones-compra">Retenciones</h2>
<h4 id='acciones-disponibles-para-retenciones-en-compra'>Acciones disponibles para Retenciones en compra</h4>
<ul>
<li><p><a href="#emite-una-retención"><code>POST /purchases/withholdings/issues</code></a><br>
Emite una nueva Retención</p></li>
<li><p><a href="#consulta-una-retención"><code>GET /purchases/withholdings/:id</code></a><br>
Obtener información de una Retención</p></li>
<li><p><a href="#lista-retenciones"><code>GET /purchases/withholdings</code></a><br>
Obtener un listado de Retenciones</p></li>
<li><p><a href="#re-emite-un-retención"><code>POST /purchases/withholdings/:id/reissues</code></a><br>
Re-emite un Retención existente</p></li>
</ul>
<h2 id='emite-una-retencion'>Emite una retención</h2><h3 id='operacion'>Operación</h3>
<p><code>POST /purchases/withholdings/issues</code></p>
<h3 id='requerimiento'>Requerimiento</h3><pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/purchases/withholdings/issues <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "live": true,
  "currency": "USD",
  "fiscal_period": {
    "month": 1,
    "year": 2018
  },
  "recipient": {
    "address": "Av. Principal 234",
    "legal_name": "Acme S.A.",
    "commercial_name": "Acme S.A.",
    "tax_identification": "0910872345001",
    "tax_identification_type": "04",
    "email": "email@datil.co"
  },
  "issue_date": "2018-01-04T00:00:00-05:00",
  "items": [{
    "amount": "42.26",
    "tax_code": "1",
    "rate": "0",
    "rate_code": "312",
    "taxable_amount": "4226.40",
    "affected_document": {
      "number": "001-002-123412349",
      "issue_date": "2017-12-31",
      "type": "01"
    }
  }],
  "properties": [],
  "sequence": 9397,
  "issuer": {
    "location": {
      "code": "001",
      "point_of_sale": {
        "code": "002"
      }
    }
  }
}'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="p">,</span> <span class="n">json</span>

<span class="n">withholding</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'live'</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
  <span class="s">'fiscal_period'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'month'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s">'year'</span><span class="p">:</span> <span class="mi">2018</span>
  <span class="p">},</span>
  <span class="s">'recipient'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'address'</span><span class="p">:</span> <span class="s">'Av. Principal 234'</span><span class="p">,</span>
    <span class="s">'legal_name'</span><span class="p">:</span> <span class="s">'Acme S.A.'</span><span class="p">,</span>
    <span class="s">'commercial_name'</span><span class="p">:</span> <span class="s">'Acme S.A.'</span><span class="p">,</span>
    <span class="s">'tax_identification'</span><span class="p">:</span> <span class="s">'0910872345001'</span><span class="p">,</span>
    <span class="s">'tax_identification_type'</span><span class="p">:</span> <span class="s">'04'</span><span class="p">,</span>
    <span class="s">'email'</span><span class="p">:</span> <span class="s">'email@datil.co'</span>
  <span class="p">},</span>
  <span class="s">'issue_date'</span><span class="p">:</span> <span class="s">'2018-01-04T00:00:00-05:00'</span><span class="p">,</span>
  <span class="s">'items'</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s">'amount'</span><span class="p">:</span> <span class="s">'42.26'</span><span class="p">,</span>
    <span class="s">'tax_code'</span><span class="p">:</span> <span class="s">'1'</span><span class="p">,</span>
    <span class="s">'rate'</span><span class="p">:</span> <span class="s">'0'</span><span class="p">,</span>
    <span class="s">'rate_code'</span><span class="p">:</span> <span class="s">'312'</span><span class="p">,</span>
    <span class="s">'taxable_amount'</span><span class="p">:</span> <span class="s">'4226.40'</span><span class="p">,</span>
    <span class="s">'affected_document'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'number'</span><span class="p">:</span> <span class="s">'001-002-123412349'</span><span class="p">,</span>
      <span class="s">'issue_date'</span><span class="p">:</span> <span class="s">'2017-12-31'</span><span class="p">,</span>
      <span class="s">'type'</span><span class="p">:</span> <span class="s">'01'</span>
    <span class="p">}</span>
  <span class="p">}],</span>
  <span class="s">'properties'</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s">'sequence'</span><span class="p">:</span> <span class="mi">9397</span><span class="p">,</span>
  <span class="s">'issuer'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'location'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'code'</span><span class="p">:</span> <span class="s">'001'</span><span class="p">,</span>
      <span class="s">'point_of_sale'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'code'</span><span class="p">:</span> <span class="s">'002'</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;clave-certificado-firma&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://api.datil.co/purchases/withholdings/issues"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">withholding</span><span class="p">))</span>
</code></pre>
<p>Para la emisión de una retención se debe enviar la información completa de la
venta. Las retenciones emitidas con un API key de pruebas, serán enviadas al
ambiente de pruebas del SRI.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>issuer<p class="dt-data-param-required">requerido</p></td>
<td>En este campo sólo es necesario proveer &quot;location&quot; con los campos &quot;code&quot; y &quot;point_of_sale&quot;. Para el objeto &quot;point_of_sale&quot; es necesario sólo especificar &quot;code&quot;</td>
</tr>
<tr>
<td>sequence</td>
<td>Número entero positivo mayor a cero. Si no envías esta información se utilizará el siguiente número de retención disponible.</td>
</tr>
<tr>
<td>currency<p class="dt-data-param-required">requerido</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>issue_date</td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>. Si no es provista, se utilizará la fecha en la que se envía la retención.</td>
</tr>
<tr>
<td>recipient<p class="dt-data-param-required">requerido</p></td>
<td>Información del <a href="#contacto">receptor</a>.</td>
</tr>
<tr>
<td>items<p class="dt-data-param-required">requerido</p></td>
<td>Bienes o servicios vendidos. Lista de <a href="#withholding-item">items</a></td>
</tr>
<tr>
<td>uuid</td>
<td>La clave de acceso de la retención. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties</td>
<td>Información adicional adjunta al comprobante. Listado de objetos tipo <a href="#property">property</a></td>
</tr>
</tbody></table>
<h3 id='respuesta'>Respuesta</h3>
<p>Retorna un objeto <strong><a href="#el-objeto-withholding">withholding</a></strong> que incluye un nuevo parámetro <code>id</code>,
el cual identifica de manera única a la retención. El campo <code>clave_acceso</code> generado
también se incluirá como parte de la respuesta.</p>
<h2 id='consulta-una-retencion'>Consulta una retención</h2>
<p>Consulta una retención para obtener toda la información del comprobante,
incluyendo el estado de autorización del mismo.
El atributo <code>status</code> de la respuesta obtenida al invocar esta operación, indica
el estado actual del comprobante.</p>

<p>Si es necesario conocer en detalle el estado del <a href="#proceso-de-emisión">proceso de emisión</a>,
se debe examinar el atributos <code>authorization</code> de la retención.</p>
<h3 id='operacion-2'>Operación</h3>
<p><code>GET /purchases/withholdings/:withholding-id</code></p>
<h3 id='requerimiento-2'>Requerimiento</h3><pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/withholdings/&lt;withholding-id&gt; <span class="se">\</span>
-H <span class="s2">"Accept: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;clave-del-api&gt;"</span> <span class="se">\</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://api.datil.co/purchases/withholdings/&lt;id-retención&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre>
<p>Reemplaza en la ruta <code>&lt;withholding-ID&gt;</code> por el <code>id</code> de la retención que necesitas consultar.</p>
<h3 id='respuesta-2'>Respuesta</h3>
<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"live"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fiscal_period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"month"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"year"</span><span class="p">:</span><span class="w"> </span><span class="mi">2018</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme S.A."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme S.A."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0910872345001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@datil.co"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-04T00:00:00-05:00"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42.26"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4226.40"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"affected_document"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-002-123412349"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">9397</span><span class="p">,</span><span class="w">
  </span><span class="s2">"issuer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='re-emite-una-retencion'>Re-emite una retención</h2><h3 id='operacion-3'>Operación</h3>
<p><code>POST /purchases/withholdings/:id/reissues</code></p>
<h3 id='requerimiento-3'>Requerimiento</h3>
<p>Esta operación debe ser utilizada para corregir comprobantes NO AUTORIZADOS.</p>

<p>En la URL de esta opción se debe incluir el <code>id</code> de la retención recibida al
momento de emitirla.</p>

<p>El cuerpo del requerimiento es un objeto <a href="#emite-una-retención">retención</a> con los
datos corregidos para que pueda ser procesado y autorizado.</p>
<h3 id='respuesta-3'>Respuesta</h3>
<p>Retornará un error si el comprobante se encuentra autorizado.</p>
<h2 id='lista-retenciones'>Lista Retenciones</h2><pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/purchases/withholdings?customer_tax_identification<span class="o">=</span>0900800712001 <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"Accept: application/json"</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span><span class="p">,</span>
  <span class="s">'accept'</span><span class="p">:</span> <span class="s">'application/json'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/purchases/withholdings?customer_tax_identification=0900800712001"</span>
<span class="n">withholdings</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Obtén el listado completo de Retenciones emitidas, o filtra los resultados
por cualquiera de estos parámetros.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>customer_tax_identification<p class="dt-data-type">string</p></td>
<td>Filtra las retenciones por comprador.</td>
</tr>
<tr>
<td>issue_from<p class="dt-data-type">string</p></td>
<td>Lista retenciones emitidas hasta esta fecha.</td>
</tr>
<tr>
<td>issue_to<p class="dt-data-type">string</p></td>
<td>Lista retenciones a partir de esta fecha de emisión.</td>
</tr>
<tr>
<td>sequence_from<p class="dt-data-type">string</p></td>
<td>Lista retenciones a partir de esta secuencia.</td>
</tr>
<tr>
<td>sequence_to<p class="dt-data-type">string</p></td>
<td>Lista retenciones hasta esta secuencia.</td>
</tr>
<tr>
<td>issuer_points_of_sale<p class="dt-data-type">array</p></td>
<td>Listado de códigos de punto de emisión separados por coma, ej: 001,004,005</td>
</tr>
<tr>
<td>select_keys<p class="dt-data-type">array</p></td>
<td>Listado de nombres de atributos de la retención separados por coma que se quisieran obtener en la respuesta. Si no se especifica la respuesta incluye el objeto completo. Ej: number,issue_date,items</td>
</tr>
<tr>
<td>page_size<p class="dt-data-type">integer</p></td>
<td>Define la cantidad de items por página. Por defecto retorna 30 items por página</td>
</tr>
</tbody></table>
<h4 id='respuesta-4'>Respuesta</h4>
<p>Retorna un objeto <a href="#result-set">result set</a> con el listado de Retenciones que
coincidan con los parámetros de filtrado enviados.</p>

<blockquote>
<p>Listado de retenciones</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"live"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fiscal_period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"month"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"year"</span><span class="p">:</span><span class="w"> </span><span class="mi">2018</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"recipient"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Principal 234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"legal_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme S.A."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme S.A."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0910872345001"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@datil.co"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-04T00:00:00-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42.26"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4226.40"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"affected_document"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-002-123412349"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">9397</span><span class="p">,</span><span class="w">
      </span><span class="s2">"issuer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://app.datil.co/api/v2/latest/purchases/withholdings/?page=2&amp;issue_from=2018-02-01&amp;page_size=2&amp;issue_to=2018-02-10page_size=1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='catalogo'>Catálogo</h1><h2 id='productos'>Productos</h2>
<p>El catálogo de productos te permite registrar todo los bienes o servicios que
vendes y compras. Así podrás crear facturas, vender a través de Market y
controlar el inventario de los productos.</p>
<h4 id='acciones-disponibles-para-productos'>Acciones disponibles para Productos</h4>
<ul>
<li><p><a href="#consulta-un-producto"><code>GET /catalog/products/:id</code></a><br>
Obtener información de un Producto</p></li>
<li><p><a href="#lista-productos"><code>GET /catalog/products</code></a><br>
Obtener un listado de Productos</p></li>
<li><p><a href="#crea-un-producto"><code>POST /catalog/products</code></a><br>
Crear un nuevo Producto</p></li>
<li><p><a href="#actualiza-un-producto"><code>PUT /catalog/products/:id</code></a><br>
Actualizar un Producto existente</p></li>
<li><p><a href="#elimina-un-producto"><code>DELETE /catalog/products/:id</code></a><br>
Elimina un Producto de tu catálogo</p></li>
</ul>
<h2 id='lista-productos'>Lista Productos</h2>
<blockquote>
<p>Requerimiento de ejemplo</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/catalog/products?ids<span class="o">=</span>e640584d-b1c3-487e-8c0c-acc931332a30,03a233139cca-c0c8-e784-3c1b-d485046e <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">product_ids</span> <span class="o">=</span> <span class="p">[</span><span class="s">"e640584d-b1c3-487e-8c0c-acc931332a30"</span><span class="p">,</span>
               <span class="s">"03a233139cca-c0c8-e784-3c1b-d485046e"</span><span class="p">]</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/products?ids="</span> <span class="o">+</span> <span class="s">','</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">product_ids</span><span class="p">)</span>
<span class="n">products</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Obtén el listado completo de Productos del catálogo, o filtra los resultados
por cualquiera de estos parámetros.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>ids<p class="dt-data-type">array</p></td>
<td>Listado de IDs de los productos que quieres obtener.</td>
</tr>
<tr>
<td>category_id<p class="dt-data-type">string</p></td>
<td>Lista todos los productos que pertenecen a esta categoría.</td>
</tr>
<tr>
<td>sku<p class="dt-data-type">string</p></td>
<td>Lista todos los productos cuyo SKU contenga este texto.</td>
</tr>
<tr>
<td>name<p class="dt-data-type">string</p></td>
<td>Lista todos los productos cuyo nombre contenga este texto.</td>
</tr>
<tr>
<td>track_inventory<p class="dt-data-type">boolean</p></td>
<td>Lista todos los productos que sean o no inventariables.</td>
</tr>
<tr>
<td>page_size<p class="dt-data-type">integer</p></td>
<td>Define la cantidad de items por página. Por defecto retorna 30 items por página</td>
</tr>
</tbody></table>
<h3 id='respuesta'>Respuesta</h3>
<p>Retorna un objeto <a href="#result-set">result set</a> con el listado de Productos que coincidan
con los filtros enviados.</p>

<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e01ba80-4e37-4cac-9df5-2996b7e39973"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso UM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BOL-U123"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso de mano ideal para salidas casuales."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45.000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576aac8e-0f59-4b15-a89c-7bd3afc5ffbc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolsos y Carteras"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IVA 12%"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"und"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unidad"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bolso-um"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"bolso"</span><span class="p">,</span><span class="w"> </span><span class="s2">"casual"</span><span class="p">],</span><span class="w">
      </span><span class="s2">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:10:32.189Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:11:04.854Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37993e7b6992-5fd9-cac4-73e4-08ab10e9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso UX"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BOL-U432"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso de mano ideal para fiestas formales."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"95.000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70.000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576aac8e-0f59-4b15-a89c-7bd3afc5ffbc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolsos y Carteras"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IVA 12%"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="s2">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"und"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unidad"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bolso-um"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"bolso"</span><span class="p">,</span><span class="w"> </span><span class="s2">"casual"</span><span class="p">],</span><span class="w">
      </span><span class="s2">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:10:32.189Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:11:04.854Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='consulta-un-producto'>Consulta un Producto</h2>
<blockquote>
<p>Requerimiento de ejemplo</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/catalog/products/e640584d-b1c3-487e-8c0c-acc931332a30 <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="s">"e640584d-b1c3-487e-8c0c-acc931332a30"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/products/"</span> <span class="o">+</span> <span class="n">product_id</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Consulta los detalles de un producto. Envía el ID del producto para obtener su
información</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>id<p class="dt-data-type">requerido</p></td>
<td>El identificador único del producto.</td>
</tr>
</tbody></table>
<h3 id='respuesta-2'>Respuesta</h3>
<p>Retorna un objeto <a href="#product">Product</a> si el identificador es válido, caso contrario
retorna un error.</p>

<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e01ba80-4e37-4cac-9df5-2996b7e39973"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso UM"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BOL-U123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso de mano ideal para salidas casuales."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45.000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576aac8e-0f59-4b15-a89c-7bd3afc5ffbc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolsos y Carteras"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IVA 14%"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"und"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unidad"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bolso-um"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"bolso"</span><span class="p">,</span><span class="w"> </span><span class="s2">"casual"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:10:32.189Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:11:04.854Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='crea-un-producto'>Crea un Producto</h2>
<blockquote>
<p>Requerimiento de ejemplo</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/catalog/products <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "name": "Pledge Limpiador de madera",
  "description": "Limpiador de todo tipo de maderas. Deja tus muebles brillantes sin esfuerzo.",
  "images": [{
    "data": "iVBORw0KGgoAAAANSUhEUgAAAMwAAABQCAYAAABVhprKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERR...==",
    "name": "pedge-fresh.jpg"
  }],
  "category": {
    "name": "Limpieza"
  },
  "unit_price": "5.000000",
  "applicable_taxes": [{
    "tax_code": "2",
    "rate_code": "2"
  }],
  "purchase_applicable_taxes": [],
  "track_inventory": false,
  "type": "good",
  "sku": "PLM-CR123",
  "tags": ["madera"],
  "available_online": false,
  "unit_cost": "4.200000"
}'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Pledge Limpiador de madera"</span><span class="p">,</span>
  <span class="s">"description"</span><span class="p">:</span> <span class="s">"Limpiador de todo tipo de maderas. Deja tus muebles brillantes sin esfuerzo."</span><span class="p">,</span>
  <span class="s">"images"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="s">"iVBORw0KGgoAAAANSUhEUgAAAMwAAABQCAYAAABVhprKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERR...=="</span><span class="p">,</span>
    <span class="s">"name"</span><span class="p">:</span> <span class="s">"fresh.jpg"</span>
  <span class="p">}],</span>
  <span class="s">"category"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"name"</span><span class="p">:</span> <span class="s">"Limpieza"</span>
  <span class="p">},</span>
  <span class="s">"unit_price"</span><span class="p">:</span> <span class="s">"5.000000"</span><span class="p">,</span>
  <span class="s">"applicable_taxes"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
    <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"2"</span>
  <span class="p">}],</span>
  <span class="s">"purchase_applicable_taxes"</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s">"track_inventory"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"good"</span><span class="p">,</span>
  <span class="s">"sku"</span><span class="p">:</span> <span class="s">"PLM-CR123"</span><span class="p">,</span>
  <span class="s">"tags"</span><span class="p">:</span> <span class="p">[</span><span class="s">"madera"</span><span class="p">],</span>
  <span class="s">"available_online"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"unit_cost"</span><span class="p">:</span> <span class="s">"4.200000"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="n">api_key</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/products"</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Crea un nuevo producto en el catálogo con la información enviada. El SKU debe
ser único, si ya existe un producto con el mismo SKU responde con un error.</p>

<h6 id="create-prod-params"></h6>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del producto</td>
</tr>
<tr>
<td>description<p class="dt-data-type">requerido</p></td>
<td>Esta información se mostrará en Market.</td>
</tr>
<tr>
<td>sku</td>
<td>Código del producto (Stock Keeping Unit). Se utiliza principalmente para el control de inventario. Puede utilizarse también para realizar búsquedas con pocos caracteres.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">requerido</p></td>
<td>Precio unitario de venta sin impuestos.</td>
</tr>
<tr>
<td>unit_cost<p class="dt-data-type">requerido sólo si será inventariable</p></td>
<td>Costo unitario del producto sin impuestos. Este es el valor que normalmente pagas al proveedor al comprar este producto.</td>
</tr>
<tr>
<td>type<p class="dt-data-type">requerido</p></td>
<td>Cataloga el producto como un bien &quot;good&quot; o un servicio &quot;service&quot;.</td>
</tr>
<tr>
<td>unit_of_measurement</td>
<td>Unida de medida del producto.</td>
</tr>
<tr>
<td>images</td>
<td>Listado de <a href="#req-prod-img">imágenes</a> que necesitas agregar a este producto.</td>
</tr>
<tr>
<td>category</td>
<td><a href="#req-prod-cat">Categoría</a> a la que pertenece el producto. Si la categoría no existe se crea automáticamente.</td>
</tr>
<tr>
<td>applicable_taxes<p class="dt-data-type">requerido</p></td>
<td>Listado de los <a href="#req-prod-tax">product taxes</a> que deben aplicarse a este producto al momento de vender.</td>
</tr>
<tr>
<td>purchase_applicable_taxes</td>
<td>Listado de los <a href="#req-prod-tax">product taxes</a> que deben aplicarse a este producto al momento de comprarlo.</td>
</tr>
<tr>
<td>track_inventory</td>
<td>Verdadero para que Dátil controle las existencias de este producto.</td>
</tr>
<tr>
<td>tags</td>
<td>Las etiquetas te permiten agregar información complementaria al producto y podrás buscar productos con esta información.</td>
</tr>
<tr>
<td>available_on_market</td>
<td>Verdadero si necesitas que está disponible en tu Market (<a href="https://datil.co/producto#market">más información de Market</a>)</td>
</tr>
</tbody></table>

<h4 id="req-prod-img">Product Image</h4>

<p>Para agregar una imagen al producto envía la siguiente información para cada
imagen.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del archivo incluyendo la extensión</td>
</tr>
<tr>
<td>data<p class="dt-data-type">requerido</p></td>
<td>Contenido del archivo de la imagen codificado en base64</td>
</tr>
</tbody></table>

<h4 id="req-prod-cat">Category</h4>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre de la categoría.</td>
</tr>
</tbody></table>

<h4 id="req-prod-tax">Product Tax</h4>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>tax_code<p class="dt-data-type">requerido</p></td>
<td>Código del tipo de impuesto</td>
</tr>
<tr>
<td>rate_code<p class="dt-data-type">requerido</p></td>
<td>Código del impuesto específico aplicable. Por ejemplo el código del IVA 12% es el <code>tax_code</code> 2 y <code>rate_code</code> 2</td>
</tr>
</tbody></table>
<h3 id='respuesta-3'>Respuesta</h3>
<p>Retorna el nuevo objeto <a href="#product">Product</a> si la información es válida, caso contrario
retorna un error.</p>

<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cde3602-979f-407b-ae6f-70f7d65a3a97"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_price"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.877Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"src"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://datil-py-staging.s3.amazonaws.com/media/products_images/RGM6VUfresh.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pledge Limpiador de madera"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6b1959dc-6a0c-4c73-96bd-28d307ab81cc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limpieza"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12%"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PLM-CR123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"madera"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"business_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"924a7999-bbba-43d5-984b-9178d9148202"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unsubsidized_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"supplier_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DN42ApefQHuub3D31lo6lw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pledge Limpiador de madera"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"did"</span><span class="p">:</span><span class="w"> </span><span class="mi">447</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.877Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.200000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='actualiza-un-producto'>Actualiza un Producto</h2>
<blockquote>
<p>Requerimiento de ejemplo</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/catalog/products/e640584d-b1c3-487e-8c0c-acc931332a30 <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "name": "Pledge Limpiador de madera",
  "description": "Limpiador de todo tipo de maderas. Deja tus muebles brillantes con pocas pasadas.",
  "unit_price": "5.500000"
}'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Pledge Limpiador de madera"</span><span class="p">,</span>
  <span class="s">"description"</span><span class="p">:</span> <span class="s">"Limpiador de todo tipo de maderas. Deja tus muebles brillantes sin esfuerzo."</span><span class="p">,</span>
  <span class="s">"unit_price"</span><span class="p">:</span> <span class="s">"5.500000"</span><span class="p">,</span>
  <span class="s">"applicable_taxes"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
    <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"2"</span>
  <span class="p">}],</span>
  <span class="s">"purchase_applicable_taxes"</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s">"track_inventory"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"good"</span><span class="p">,</span>
  <span class="s">"sku"</span><span class="p">:</span> <span class="s">"PLM-CR123"</span><span class="p">,</span>
  <span class="s">"tags"</span><span class="p">:</span> <span class="p">[</span><span class="s">"madera"</span><span class="p">],</span>
  <span class="s">"available_online"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"unit_cost"</span><span class="p">:</span> <span class="s">"4.200000"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="n">api_key</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/products"</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Actualiza la información de un Producto ya existente. Puedes enviar uno o más
atributos del producto que necesitas actualizar. Revisa el listado de
<a href="#create-prod-params">parámetros</a></p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del producto</td>
</tr>
<tr>
<td>description<p class="dt-data-type">requerido</p></td>
<td>Esta información se mostrará en Market.</td>
</tr>
<tr>
<td>sku</td>
<td>Código del producto (Stock Keeping Unit). Se utiliza principalmente para el control de inventario. Puede utilizarse también para realizar búsquedas con pocos caracteres.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">requerido</p></td>
<td>Precio unitario de venta sin impuestos.</td>
</tr>
<tr>
<td>unit_cost<p class="dt-data-type">requerido sólo si será inventariable</p></td>
<td>Costo unitario del producto sin impuestos. Este es el valor que normalmente pagas al proveedor al comprar este producto.</td>
</tr>
<tr>
<td>unit_of_measurement</td>
<td>Unida de medida del producto.</td>
</tr>
<tr>
<td>images</td>
<td>Listado de <a href="#req-prod-img">imágenes</a> que necesitas agregar a este producto.</td>
</tr>
<tr>
<td>category</td>
<td><a href="#req-prod-cat">Categoría</a> a la que pertenece el producto. Si la categoría no existe se crea automáticamente.</td>
</tr>
<tr>
<td>applicable_taxes<p class="dt-data-type">requerido</p></td>
<td>Listado de los <a href="#req-prod-tax">product taxes</a> que deben aplicarse a este producto al momento de vender.</td>
</tr>
<tr>
<td>purchase_applicable_taxes</td>
<td>Listado de los <a href="#req-prod-tax">product taxes</a> que deben aplicarse a este producto al momento de comprarlo.</td>
</tr>
<tr>
<td>track_inventory</td>
<td>Verdadero para que Dátil controle las existencias de este producto.</td>
</tr>
<tr>
<td>tags</td>
<td>Las etiquetas te permiten agregar información complementaria al producto y podrás buscar productos con esta información.</td>
</tr>
<tr>
<td>available_on_market</td>
<td>Verdadero si necesitas que está disponible en tu Market (<a href="https://datil.co/producto#market">más información de Market</a>)</td>
</tr>
</tbody></table>

<h4 id="req-prod-img">Product Image</h4>

<p>Para agregar una imagen al producto envía la siguiente información para cada
imagen.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del archivo incluyendo la extensión</td>
</tr>
<tr>
<td>data<p class="dt-data-type">requerido</p></td>
<td>Contenido del archivo de la imagen codificado en base64</td>
</tr>
</tbody></table>

<h4 id="req-prod-cat">Category</h4>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre de la categoría.</td>
</tr>
</tbody></table>

<h4 id="req-prod-tax">Product Tax</h4>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>tax_code<p class="dt-data-type">requerido</p></td>
<td>Código del tipo de impuesto</td>
</tr>
<tr>
<td>rate_code<p class="dt-data-type">requerido</p></td>
<td>Código del impuesto específico aplicable. Por ejemplo el código del IVA 12% es el <code>tax_code</code> 2 y <code>rate_code</code> 2</td>
</tr>
</tbody></table>
<h3 id='respuesta-4'>Respuesta</h3>
<p>Retorna el nuevo objeto <a href="#product">Product</a> si la información es válida, caso contrario
retorna un error.</p>

<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cde3602-979f-407b-ae6f-70f7d65a3a97"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fixed_price"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.877Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"src"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://datil-py-staging.s3.amazonaws.com/media/products_images/RGM6VUfresh.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pledge Limpiador de madera"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6b1959dc-6a0c-4c73-96bd-28d307ab81cc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limpieza"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12%"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PLM-CR123"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"madera"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"business_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"924a7999-bbba-43d5-984b-9178d9148202"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unsubsidized_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"supplier_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DN42ApefQHuub3D31lo6lw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pledge Limpiador de madera"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"did"</span><span class="p">:</span><span class="w"> </span><span class="mi">447</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.877Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.200000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='categorias'>Categorías</h2>
<p>El catálogo de categorías te permite registrar todo los bienes o servicios que
vendes y compras. Así podrás crear facturas, vender a través de Market y
controlar el inventario de los categorías.</p>
<h4 id='acciones-disponibles-para-categorias'>Acciones disponibles para Categorías</h4>
<ul>
<li><p><a href="#consulta-una-categor-a"><code>GET /catalog/categories/:id</code></a><br>
Obtener información de una Categoría</p></li>
<li><p><a href="#lista-categorias"><code>GET /catalog/categories</code></a><br>
Obtener un listado de Categorías</p></li>
<li><p><a href="#crea-una-categor-a"><code>POST /catalog/categories</code></a><br>
Crear un nuevo Producto</p></li>
<li><p><a href="#actualiza-una-categor-a"><code>PUT /catalog/categories/:id</code></a><br>
Actualizar una Categoría existente</p></li>
<li><p><a href="#elimina-una-categor-a"><code>DELETE /catalog/categories/:id</code></a><br>
Elimina una Categoría de tu catálogo</p></li>
</ul>
<h2 id='lista-categorias'>Lista Categorías</h2>
<blockquote>
<p>Requerimiento de ejemplo</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/catalog/categories?ids<span class="o">=</span>e640584d-b1c3-487e-8c0c-acc931332a30,03a233139cca-c0c8-e784-3c1b-d485046e <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">product_ids</span> <span class="o">=</span> <span class="p">[</span><span class="s">"e640584d-b1c3-487e-8c0c-acc931332a30"</span><span class="p">,</span>
               <span class="s">"03a233139cca-c0c8-e784-3c1b-d485046e"</span><span class="p">]</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/categories?ids="</span> <span class="o">+</span> <span class="s">','</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">product_ids</span><span class="p">)</span>
<span class="n">categories</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Obtén el listado completo de Categorías del catálogo, o filtra los resultados
por cualquiera de estos parámetros.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>ids<p class="dt-data-type">array</p></td>
<td>Listado de IDs de los categorías que quieres obtener.</td>
</tr>
<tr>
<td>name<p class="dt-data-type">string</p></td>
<td>Lista todas las categorías cuyo nombre contenga este texto.</td>
</tr>
<tr>
<td>parent_id<p class="dt-data-type">string</p></td>
<td>Lista las cateogorías que pertenezcan a esta categoría padre.</td>
</tr>
<tr>
<td>page_size<p class="dt-data-type">integer</p></td>
<td>Define la cantidad de items por página. Por defecto retorna 30 items por página</td>
</tr>
</tbody></table>
<h3 id='respuesta'>Respuesta</h3>
<p>Retorna un objeto <a href="#result-set">result set</a> con el listado de Categorías que coincidan
con los filtros enviados.</p>

<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IPHONE 6"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T01:02:24.777Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T01:11:20.655Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"business_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-b6ec-4e83-b9e9-d4ae12b4d967"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"389b528d-0b16-408d-8822-e3e8e2b3391f"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Planes Vigentes 2017"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-23T17:26:32.252Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-23T17:27:52.137Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"business_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-b6ec-4e83-b9e9-d4ae12b4d967"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"item_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81f3f42a-286c-42fe-a6b2-4301a28fab0a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='consulta-una-categoria'>Consulta una Categoría</h2>
<blockquote>
<p>Requerimiento de ejemplo</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/catalog/categories/e640584d-b1c3-487e-8c0c-acc931332a30 <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="s">"e640584d-b1c3-487e-8c0c-acc931332a30"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/categories/"</span> <span class="o">+</span> <span class="n">product_id</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Consulta los detalles de un categoría. Envía el ID del categoría para obtener su
información</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>id<p class="dt-data-type">requerido</p></td>
<td>El identificador único del categoría.</td>
</tr>
</tbody></table>
<h3 id='respuesta-2'>Respuesta</h3>
<p>Retorna un objeto <a href="#product">Product</a> si el identificador es válido, caso contrario
retorna un error.</p>

<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e01ba80-4e37-4cac-9df5-2996b7e39973"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carteras"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:10:32.189Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:11:04.854Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='crea-una-categoria'>Crea una Categoría</h3>
<blockquote>
<p>Requerimiento de ejemplo</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/catalog/categories <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "name": "Zapatos"
}'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Zapatos"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="n">api_key</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/categories"</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Crea un nuevo categoría en el catálogo con la información enviada. El SKU debe
ser único, si ya existe un categoría con el mismo SKU responde con un error.</p>

<h6 id="create-cat-params"></h6>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del categoría</td>
</tr>
<tr>
<td>parent_id</td>
<td>ID de la categoría padre. Esto te permitirá crear categorías dentro de otras.</td>
</tr>
</tbody></table>
<h3 id='respuesta-3'>Respuesta</h3>
<p>Retorna el nuevo objeto <a href="#product">Product</a> si la información es válida, caso contrario
retorna un error.</p>

<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cde3602-979f-407b-ae6f-70f7d65a3a97"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zapatos"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='actualiza-una-categoria'>Actualiza una Categoría</h2>
<blockquote>
<p>Requerimiento de ejemplo</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -v https://api.datil.co/catalog/categories/0cde3602-979f-407b-ae6f-70f7d65a3a97 <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "name": "Zapatos Deportivos"
}'</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Zapatos Deportivos"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="n">api_key</span>
<span class="p">}</span>
<span class="n">category_id</span> <span class="o">=</span> <span class="s">'0cde3602-979f-407b-ae6f-70f7d65a3a97'</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/categories/"</span> <span class="o">+</span> <span class="n">cateogory_id</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>
<p>Actualiza la información de una Categoría ya existente. Puedes enviar uno o más
atributos del categoría que necesitas actualizar. Revisa el listado de
<a href="#create-cat-params">parámetros</a></p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del categoría</td>
</tr>
</tbody></table>
<h3 id='respuesta-4'>Respuesta</h3>
<p>Retorna el objeto <a href="#category">Category</a> actualizado si la información es válida, caso contrario
retorna un error.</p>

<blockquote>
<p>Respuesta de ejemplo</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cde3602-979f-407b-ae6f-70f7d65a3a97"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zapatos Deportivos"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h1 id='catalogo-de-codigos'>Catálogo de Códigos</h1><h2 id='tipo-de-identificacion'>Tipo de identificación</h2>
<table><thead>
<tr>
<th>Tipo de identificación</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>RUC</td>
<td>04</td>
</tr>
<tr>
<td>CEDULA</td>
<td>05</td>
</tr>
<tr>
<td>PASAPORTE</td>
<td>06</td>
</tr>
<tr>
<td>VENTA A CONSUMIDOR FINAL <small>(1)</smal></td>
<td>07</td>
</tr>
<tr>
<td>IDENTIFICACION DEL EXTERIOR <small>(2)</small></td>
<td>08</td>
</tr>
<tr>
<td>PLACA</td>
<td>09</td>
</tr>
</tbody></table>

<p>(1) En la venta a Consumidor Final la identificación del cliente se formará con 13 dígitos de nueve (9999999999999).
(2) La identificación del Exterior corresponderá al número de Identificación otorgado por la Administración Tributaria (AT) del país que es Residente Fiscal.</p>
<h2 id='tipos-de-impuesto'>Tipos de impuesto</h2>
<table><thead>
<tr>
<th>Impuesto</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>IVA</td>
<td>2</td>
</tr>
<tr>
<td>ICE</td>
<td>3</td>
</tr>
<tr>
<td>IRBPNR</td>
<td>5</td>
</tr>
</tbody></table>
<h2 id='codigo-de-porcentaje-de-iva'>Código de Porcentaje de IVA</h2>
<table><thead>
<tr>
<th>Porcentaje de IVA</th>
<th>Código</th>
<th>Tarifa</th>
</tr>
</thead><tbody>
<tr>
<td>0%</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>12%</td>
<td>2</td>
<td>12</td>
</tr>
<tr>
<td>14%</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<td>No Objeto de Impuesto</td>
<td>6</td>
<td>-</td>
</tr>
<tr>
<td>Exento de IVA</td>
<td>7</td>
<td>-</td>
</tr>
</tbody></table>
<h2 id='tipos-de-impuesto-para-la-retencion'>Tipos de impuesto para la retención</h2>
<table><thead>
<tr>
<th>Impuesto</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>RENTA</td>
<td>1</td>
</tr>
<tr>
<td>IVA</td>
<td>2</td>
</tr>
<tr>
<td>ISD</td>
<td>6</td>
</tr>
</tbody></table>
<h2 id='tipos-de-impuesto-para-la-retencion-en-la-factura'>Tipos de impuesto para la retención en la factura</h2>
<p>Caso específico de Retenciones en la Comercializadores / Distribuidores de derivados del
Petróleo y Retención presuntiva de IVA a los Editores, Distribuidores y Voceadores que
participan en la comercialización de periódicos y/o revistas.</p>

<table><thead>
<tr>
<th>Impuesto</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>IVA PRESUNTIVO Y RENTA</td>
<td>4</td>
</tr>
</tbody></table>
<h2 id='retencion-de-iva'>Retención de IVA</h2>
<table><thead>
<tr>
<th>Porcentaje IVA</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>10%</td>
<td>9</td>
</tr>
<tr>
<td>20%</td>
<td>10</td>
</tr>
<tr>
<td>30%</td>
<td>1</td>
</tr>
<tr>
<td>70%</td>
<td>2</td>
</tr>
<tr>
<td>100%</td>
<td>3</td>
</tr>
</tbody></table>

<p><strong>Retención en cero</strong></p>

<table><thead>
<tr>
<th>Porcentaje IVA</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>0%</td>
<td>7</td>
</tr>
</tbody></table>

<p><strong>No procede retención</strong></p>

<table><thead>
<tr>
<th>Porcentaje IVA</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>0%</td>
<td>8</td>
</tr>
</tbody></table>
<h2 id='retencion-isd'>Retención ISD</h2>
<table><thead>
<tr>
<th>Porcentaje IVA</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>5%</td>
<td>4580</td>
</tr>
</tbody></table>
<h2 id='retencion-de-iva-presuntivo-y-renta'>Retención de IVA Presuntivo y Renta</h2>
<p>Caso específico de Retenciones en la Comercializadores / Distribuidores de derivados del
Petróleo y Retención presuntiva de IVA a los Editores, Distribuidores y Voceadores que
participan en la comercialización de periódicos y/o revistas.</p>

<p><strong>Retención IVA</strong></p>

<table><thead>
<tr>
<th>Porcentaje IVA presuntivo</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>100%</td>
<td>3</td>
</tr>
<tr>
<td>12%  (Editores a Margen de Comercialización Voceadores)</td>
<td>4</td>
</tr>
<tr>
<td>100% (Venta periódicos y/o Revistas a Distribuidores)</td>
<td>5</td>
</tr>
<tr>
<td>100% (Venta periódicos y/o Revistas a Voceadores)</td>
<td>6</td>
</tr>
</tbody></table>

<p><strong>Retención Renta</strong></p>

<table><thead>
<tr>
<th>Porcentaje Renta</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>0.2%</td>
<td>327</td>
</tr>
<tr>
<td>0.3%</td>
<td>328</td>
</tr>
</tbody></table>
<h2 id='tipos-de-documentos'>Tipos de documentos</h2>
<table><thead>
<tr>
<th>Documento</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>Factura</td>
<td>01</td>
</tr>
<tr>
<td>Nota de Crédito</td>
<td>04</td>
</tr>
<tr>
<td>Nota de Débito</td>
<td>05</td>
</tr>
<tr>
<td>Guía de Remisión</td>
<td>06</td>
</tr>
<tr>
<td>Comprobante de Retención</td>
<td>07</td>
</tr>
</tbody></table>
<h2 id='formas-de-pago'>Formas de pago</h2>
<table><thead>
<tr>
<th>Forma de pago</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>Alia</td>
<td>alia</td>
</tr>
<tr>
<td>American Express</td>
<td>american_express</td>
</tr>
<tr>
<td>Cheque</td>
<td>check</td>
</tr>
<tr>
<td>Cheque certificado</td>
<td>certified_check</td>
</tr>
<tr>
<td>Cheque de gerencia</td>
<td>cashiers_check</td>
</tr>
<tr>
<td>Cheque del exterior</td>
<td>outside_check</td>
</tr>
<tr>
<td>Compensación de deudas</td>
<td>debt_compensation</td>
</tr>
<tr>
<td>Débito de cuenta bancaria</td>
<td>bank_account_debit</td>
</tr>
<tr>
<td>Depósito Banco Bolivariano</td>
<td>banco_bolivariano</td>
</tr>
<tr>
<td>Depósito Banco Pacífico</td>
<td>banco_pacifico</td>
</tr>
<tr>
<td>Depósito Banco Pichincha</td>
<td>banco_pichincha</td>
</tr>
<tr>
<td>Depósito en cuenta (Corriente / Ahorros)</td>
<td>bank_account_deposit</td>
</tr>
<tr>
<td>Dinero electrónico</td>
<td>dinero_electronico_ec</td>
</tr>
<tr>
<td>Diners Club</td>
<td>diners_club</td>
</tr>
<tr>
<td>Discover</td>
<td>discover</td>
</tr>
<tr>
<td>Efectivo</td>
<td>cash</td>
</tr>
<tr>
<td>Endoso de inversión</td>
<td>investment_endorsement</td>
</tr>
<tr>
<td>Endoso de títulos</td>
<td>certificate_endorsement</td>
</tr>
<tr>
<td>Giro</td>
<td>money_order</td>
</tr>
<tr>
<td>MasterCard</td>
<td>mastercard</td>
</tr>
<tr>
<td>Nota de Crédito</td>
<td>credit_note</td>
</tr>
<tr>
<td>Orden de Pago Banco Pichincha</td>
<td>banco_pichincha_payment_order</td>
</tr>
<tr>
<td>Otros</td>
<td>others</td>
</tr>
<tr>
<td>PayPal</td>
<td>paypal</td>
</tr>
<tr>
<td>PayPhone</td>
<td>payphone</td>
</tr>
<tr>
<td>Retención</td>
<td>retention</td>
</tr>
<tr>
<td>Tarjeta de crédito</td>
<td>credit_card</td>
</tr>
<tr>
<td>Tarjeta de crédito internacional</td>
<td>international_credit_card</td>
</tr>
<tr>
<td>Tarjeta de crédito nacional</td>
<td>local_credit_card</td>
</tr>
<tr>
<td>Tarjeta de débito</td>
<td>debit_card</td>
</tr>
<tr>
<td>Tarjeta prepago</td>
<td>prepaid_card</td>
</tr>
<tr>
<td>Transferencia</td>
<td>wire_transfer</td>
</tr>
<tr>
<td>Transferencia banco exterior</td>
<td>international_bank_transfer</td>
</tr>
<tr>
<td>Transferencia en el mismo banco</td>
<td>same_bank_transfer</td>
</tr>
<tr>
<td>Transferencia otro banco nacional</td>
<td>other_bank_transfer</td>
</tr>
<tr>
<td>Visa</td>
<td>visa</td>
</tr>
</tbody></table>
<h2 id='equivalencia-entre-formas-de-pago-datil-y-formas-de-pago-del-sri'>Equivalencia entre formas de pago Dátil y formas de pago del SRI</h2>
<table><thead>
<tr>
<th>Forma de pago Dátil</th>
<th>Forma de pago SRI</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>Efectivo</td>
<td>Sin utilización del sistema financiero</td>
<td>01</td>
</tr>
<tr>
<td>Cheque</td>
<td>Otros con utilización del sistema financiero</td>
<td>20</td>
</tr>
<tr>
<td>Débito bancario</td>
<td>Otros con utilización del sistema financiero</td>
<td>20</td>
</tr>
<tr>
<td>Transferencia bancaria</td>
<td>Otros con utilización del sistema financiero</td>
<td>20</td>
</tr>
<tr>
<td>Tarjeta de crédito</td>
<td>Tarjeta de crédito nacional</td>
<td>19</td>
</tr>
<tr>
<td>Depósito en cuenta (Corriente / Ahorros)</td>
<td>Otros con utilización del sistema financiero</td>
<td>20</td>
</tr>
<tr>
<td>Tarjeta de débito</td>
<td>Tarjeta de débito</td>
<td>16</td>
</tr>
<tr>
<td>Dinero electrónico Ecuador</td>
<td>Dinero electrónico</td>
<td>17</td>
</tr>
<tr>
<td>Tarjeta prepago</td>
<td>Tarjeta prepago</td>
<td>18</td>
</tr>
<tr>
<td>Otros</td>
<td>Otros con utilización del sistema financiero</td>
<td>20</td>
</tr>
<tr>
<td>Endoso de títulos</td>
<td>Endoso de títulos</td>
<td>21</td>
</tr>
</tbody></table>

<p>Debido a que el Servicio de Rentas Internas exige incluir información del pago,
las facturas a crédito se enviarán al SRI con forma de pago &quot;Otros con utilización del sistema financiero&quot;.</p>

<h2 id="document-status">Estado de un documento</h2>

<table><thead>
<tr>
<th>Estado</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>Anulado</td>
<td>El documento fue marcado como anulado</td>
</tr>
<tr>
<td>Autorizado</td>
<td>Autorización confirmada por la autoridad tributaria</td>
</tr>
<tr>
<td>Firmado</td>
<td>El documento fue firmado correctamente. Este es un estado transitorio que puede verse durante el proceso de emisión</td>
</tr>
<tr>
<td>Procesando</td>
<td>El documento está siendo autorizado.</td>
</tr>
<tr>
<td>No Autorizado</td>
<td>Rechazado por la autoridad tributaria</td>
</tr>
<tr>
<td>En Proceso</td>
<td>Está en espera de ser procesado por la autoridad tributaria.</td>
</tr>
<tr>
<td>Error</td>
<td>Este estado aparece para documentos que se registraron pero no cumplieron con requisitos de validación, o la clave del certificado está incorrecta</td>
</tr>
<tr>
<td>Enviado al SRI</td>
<td>Estado transitorio mientras es procesado.</td>
</tr>
<tr>
<td>Borrador</td>
<td>El documento fue creado en Datil y no ha sido autorizado.</td>
</tr>
</tbody></table>

<h2 id="document-status-code">Código del estado de un documento</h2>

<table><thead>
<tr>
<th>Estado</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>approved</td>
<td>Autorizado</td>
</tr>
<tr>
<td>rejected</td>
<td>No autorizado</td>
</tr>
<tr>
<td>cancelled</td>
<td>Anulado</td>
</tr>
<tr>
<td>processing</td>
<td>Procesando</td>
</tr>
<tr>
<td>signed</td>
<td>Firmado</td>
</tr>
<tr>
<td>draft</td>
<td>Borrador</td>
</tr>
</tbody></table>

<h2 id="document-payment-status-code">Código del estado de pago</h2>

<table><thead>
<tr>
<th>Estado</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>payed</td>
<td>Pagado</td>
</tr>
<tr>
<td>due</td>
<td>Pendiente de pago y vencido (la fecha máxima de pago es menor a la fecha actual)</td>
</tr>
<tr>
<td>pending</td>
<td>Pendiente de pago</td>
</tr>
</tbody></table>
<h1 id='errores'>Errores</h1>
<p>Listado de códigos de error y su significado.</p>

<table><thead>
<tr>
<th>Código</th>
<th>Significado</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- La información provista está mal formada o incompleta.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Tu clave de API no está autorizada para realizar esta acción</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden --</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- El recurso especificado no existe.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed --</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable --</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- Error en el sistema.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- Servicio temporalmente fuera de línea. Intenta más tarde.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="python">Python</a>
          </div>
      </div>
    </div>
  </body>
</html>
