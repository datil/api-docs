<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Dátil</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="../../../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../../../stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="../../../javascripts/all.js"></script>
  </head>

  <body class="next next_es next_es_ec next_es_ec_index" data-languages="[&quot;shell&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="../../../images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
              <a href="#" data-language-name="python">Python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Para obtener mi clave del API</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentación gracias a Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introducci-n">Introducción</h1>

<p>Integra tu aplicación con Facturación Electrónica. Este API de Dátil te permite
emitir todos los tipos de comprobantes electrónicos: facturas, retenciones,
notas de crédito, notas de débito y guías de remisión.</p>

<p>El API de Dátil está diseñado como un servicio web
<a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a>.
De esta manera resulta sencillo conversar con nuestra interfaz utilizando
cualquier librería en cualquier lenguaje que provea un cliente HTTP, ya que
utilizamos componentes del estándar como los verbos y los códigos de respuesta.</p>

<p>Todos las operaciones responden en formato <a href="http://www.json.org/">JSON</a>,
incluso los errores.</p>

<p>Dátil se encarga de todo el proceso de emisión del comprobante. El proceso de
emisión bajo condiciones normales, toma entre 3 a 5 segundos. Luego de ese
período bastará con consultar el comprobante para conocer su estado.</p>

<h2 id="operaciones">Operaciones</h2>

<p>Una operación REST está formada por la combinación de un verbo HTTP, la URL
base del servicio y la ruta de la operación. Las cuales se encuentran descritas
en cada sección donde se describe una función del API.
Esta operación, por ejemplo, emite una factura:</p>

<p><code class="prettyprint">POST https://api.datil.co/locations/:location-id/invoices/issue</code></p>

<p>La URI anterior en conjunto con la información en formato JSON como cuerpo del
requerimiento y las cabeceras HTTP necesarias, conforman el requerimiento.</p>

<h2 id="proceso-de-emisi-n">Proceso de emisión</h2>

<p>Comprende las siguientes fases:</p>

<ol>
<li><strong>Creación</strong>: Se registra el comprobante para posterior referencia.</li>
<li><strong>Firmado</strong>: Utilizando el certificado de firma electrónica y un algoritmo
de firma digital, el comprobante es firmado para que el SRI pueda verificar
su legitimidad.</li>
<li><strong>Envío SRI</strong>: El comprobante es enviado al SRI para ser procesado.</li>
<li><strong>Consulta de autorización SRI</strong>: Luego de un período de espera, Dátil
consulta la autorización del comprobante.</li>
<li><strong>Envío por email</strong>: Se envía el comprobante al correo del receptor del
comprobante, si una dirección de correo electrónico válida fue provista al
momento de emitir el comprobante.</li>
</ol>

<aside class="notice">
<strong>Recuerda:</strong> Este proceso es administrado completamente por
nosotros y para emitir un comprobante bastará enviarlo siguiendo la sección
pertinente de esta documentación.
</aside>

<h1 id="autenticaci-n">Autenticación</h1>

<p>Para obtener la clave del API, inicia sesión con tu cuenta en
<a href="https://app.datil.co">app.datil.co</a>, ve a la opción <em>Configuración</em> la
sección &ldquo;API Key&rdquo;.</p>

<p><img src="https://s3-us-west-2.amazonaws.com/static-files/datil-py-blurred-api-key.png"></p>

<p>Dátil utiliza claves para autorizar el acceso al API. La clave debe estar
incluída en todos los requerimientos en una cabecera:</p>

<p><code class="prettyprint">X-Api-Key: &lt;clave-del-api&gt;</code></p>

<p>Para emitir o re-emitir un comprobante se requiere también la clave del certificado
de firma electrónica. Esta clave deberá ser provista en una cabecera:</p>

<p><code class="prettyprint">X-Password: &lt;clave-certificado-firma&gt;</code></p>

<h1 id="recursos">Recursos</h1>

          <h2 id="facturas">Facturas</h2>

<p>Una Factura está representada por un objeto <em>Invoice</em>.</p>

<h5 id="el-objeto-invoice">El objeto Invoice</h5>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>number<p class="dt-data-type">string</p></td>
<td>Número completo de la factura. Es un número secuencial que se forma a partir de {código establecimiento}-{código pto. emisión}-{secuencia}</td>
</tr>
<tr>
<td>currency<p class="dt-data-type">string</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>sequence<p class="dt-data-type">integer</p></td>
<td>Número de secuencia.</td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">string</p></td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>totals<p class="dt-data-type">objeto <a href="#invoice-totals">totals</a></p></td>
<td>Totales de la factura</td>
</tr>
<tr>
<td>customer<p class="dt-data-type">objeto <a href="#contacto">contacto</a></td>
<td>Información del comprador.</td>
</tr>
<tr>
<td>items<p class="dt-data-type">lista de <a href="#invoice-item">items</a></p></td>
<td>Bienes o servicios facturados.</td>
</tr>
<tr>
<td>uuid<p class="dt-data-type">string</p></td>
<td>La clave de acceso de la factura. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">list de <a href="#property">property objects</a></p></td>
<td>Información adicional adjunta al comprobante.</td>
</tr>
<tr>
<td>payments<p class="dt-data-type">lista de <a href="#payment">payments</a></p></td>
<td>Pagos realizados a la factura.</td>
</tr>
<tr>
<td>payment_methods<p class="dt-data-type">lista de <a href="#payment-method">payment_methods</a></p></td>
<td>Listado de formas de pago aplicables a la factura.</td>
</tr>
<tr>
<td>electronic_document<p class="dt-data-type">string</p></td>
<td>Documento electrónico, el XML que representa a esta factura ante el SRI.</td>
</tr>
<tr>
<td>electronic_document_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del documento electrónico, el XML.</td>
</tr>
<tr>
<td>printable_version_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del RIDE.</td>
</tr>
</tbody></table>

<h4 id="invoice-totals">Totals</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>total_discount_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos. El subtotal sin impuestos se obtiene con la suma del subtotal de los items.</td>
</tr>
<tr>
<td>total_tax_amount<p class="dt-data-type">string</p></td>
<td>Total de impuesto recaudado</td>
</tr>
<tr>
<td>total_amount<p class="dt-data-type">string</p></td>
<td>Total final.</td>
</tr>
<tr>
<td>tip_amount<p class="dt-data-type">string</p></td>
<td>Propina. También llamado servicio.</td>
</tr>
<tr>
<td>additional_discount_amount<p class="dt-data-type">string</p></td>
<td>Descuento adicional al descuento que se puede aplicar a cada item. Este descuento es aplicado al subtotal de la factura.</td>
</tr>
</tbody></table>

<h4 id="invoice-item">Item</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>description<p class="dt-data-type">string</p></td>
<td>Descripción del ítem.</td>
</tr>
<tr>
<td>sku<p class="dt-data-type">string</p></td>
<td>Código alfanumérico de uso del comercio. Máximo 25 caracteres.</td>
</tr>
<tr>
<td>quantity<p class="dt-data-type">string</p></td>
<td>Cantidad de items.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">string</p></td>
<td>Precio unitario.</td>
</tr>
<tr>
<td>unit_discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal antes de impuestos. Se obtiene multiplicando <code class="prettyprint">quantity</code> por <code class="prettyprint">unit_price</code> menos <code class="prettyprint">discount</code></td>
</tr>
<tr>
<td>total_amount<p class="dt-data-type">string</p></td>
<td>subtotal_amount + total tax amount</td>
</tr>
<tr>
<td>unit_of_measurement<p class="dt-data-type">string</p></td>
<td>Unidad de medida, ejemplos: l, kg, cm</td>
</tr>
<tr>
<td>taxes</td>
<td>listado de <a href="#tax">impuestos</a></td>
</tr>
<tr>
<td>properties<p class="dt-data-type">list de <a href="#property">property objects</a></p></td>
<td>Datos adicionales</td>
</tr>
</tbody></table>

<h4 id="payment">Payment</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>date<p class="dt-data-type">string</p></td>
<td>Fecha de recepción del pago en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>method <p class="dt-data-type">string</p></td>
<td>Código del método de pago según <a href="http://www.unece.org/trade/untdid/d16a/tred/tred4461.htm">4461 UN/CEFACT standard v06B</a></td>
</tr>
<tr>
<td>amount <p class="dt-data-type">string</p></td>
<td>Valor pagado</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">list de <a href="#property">property objects</a></p></td>
<td>Información adicional adjunta al pago Ejemplo:<br><code class="prettyprint">[{&quot;name&quot;:&quot;bank&quot;, &quot;description&quot;:&quot;Safe Bank&quot;}, {&quot;name&quot;:&quot;account_number&quot;, &quot;description&quot;:&quot;1020304050&quot;}]</code></td>
</tr>
</tbody></table>

<h4 id="payment-method">Payment method</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>due_date<p class="dt-data-type">string</p></td>
<td>Fecha de vencimiento en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>method <p class="dt-data-type">string</p></td>
<td>Código del método de pago según <a href="http://www.unece.org/trade/untdid/d16a/tred/tred4461.htm">4461 UN/CEFACT standard v06B</a></td>
</tr>
<tr>
<td>amount <p class="dt-data-type">string</p></td>
<td>Valor a pagar por este medio.</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">list de <a href="#property">property objects</a></p></td>
<td>Información adicional adjunta al pago Ejemplo:<br><code class="prettyprint">[{&quot;name&quot;:&quot;bank&quot;, &quot;description&quot;:&quot;Safe Bank&quot;}, {&quot;name&quot;:&quot;account_number&quot;, &quot;description&quot;:&quot;1020304050&quot;}]</code></td>
</tr>
</tbody></table>

          <h2 id="notas-de-cr-dito">Notas de Crédito</h2>

<p>Una Nota de Crédito está representada por un objeto <em>Credit Note</em>.</p>

<h5 id="el-objeto-credit-note">El objeto Credit Note</h5>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>number<p class="dt-data-type">string</p></td>
<td>Número completo de la factura. Es un número secuencial que se forma a partir de {código establecimiento}-{código pto. emisión}-{secuencia}</td>
</tr>
<tr>
<td>sequence<p class="dt-data-type">integer</p></td>
<td>Número de secuencia.</td>
</tr>
<tr>
<td>currency<p class="dt-data-type">string</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">string</p></td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>totals<p class="dt-data-type">object <a href="#invoice-totals">totals</a></p></td>
<td>Totales de la factura</td>
</tr>
<tr>
<td>customer<p class="dt-data-type">object <a href="#contacto">contacto</a></td>
<td>Información del comprador.</td>
</tr>
<tr>
<td>items<p class="dt-data-type">lista de <a href="#invoice-item">items</a></p></td>
<td>Bienes o servicios facturados.</td>
</tr>
<tr>
<td>uuid<p class="dt-data-type">string</p></td>
<td>La clave de acceso de la factura. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">object</p></td>
<td>Información adicional adjunta al comprobante en forma de diccionario. Ejemplo:<br><code class="prettyprint">{&quot;plan&quot;: &quot;Inicial&quot;, &quot;vigencia&quot;: &quot;1 mes&quot;}</code></td>
</tr>
<tr>
<td>electronic_document<p class="dt-data-type">string</p></td>
<td>Documento electrónico, el XML que representa a esta factura ante el SRI.</td>
</tr>
<tr>
<td>electronic_document_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del documento electrónico, el XML.</td>
</tr>
<tr>
<td>printable_version_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del RIDE.</td>
</tr>
<tr>
<td>credited_reason<p class="dt-data-type">string</p></td>
<td>Motivo por el cual se emite la Nota de Crédito.</td>
</tr>
<tr>
<td>credited_document<p class="dt-data-type">object <a href="#documento-relacionado">related document</a></p></td>
<td>Documento afectado por la Nota de Crédito. Normalmente una Factura.</td>
</tr>
</tbody></table>

<h4 id="invoice-totals">Totals</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>total_discount_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos. El subtotal sin impuestos se obtiene con la suma del subtotal de los items.</td>
</tr>
<tr>
<td>total_tax_amount<p class="dt-data-type">string</p></td>
<td>Total de impuesto recaudado</td>
</tr>
<tr>
<td>total_amount<p class="dt-data-type">string</p></td>
<td>Total final.</td>
</tr>
<tr>
<td>tip_amount<p class="dt-data-type">string</p></td>
<td>Propina. También llamado servicio.</td>
</tr>
<tr>
<td>additional_discount_amount<p class="dt-data-type">string</p></td>
<td>Descuento adicional al descuento que se puede aplicar a cada item. Este descuento es aplicado al subtotal de la factura.</td>
</tr>
</tbody></table>

<h4 id="invoice-item">Item</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>description<p class="dt-data-type">string</p></td>
<td>Descripción del ítem.</td>
</tr>
<tr>
<td>sku<p class="dt-data-type">string</p></td>
<td>Código alfanumérico de uso del comercio. Máximo 25 caracteres.</td>
</tr>
<tr>
<td>quantity<p class="dt-data-type">string</p></td>
<td>Cantidad de items.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">string</p></td>
<td>Precio unitario.</td>
</tr>
<tr>
<td>unit_discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal antes de impuestos. Se obtiene multiplicando <code class="prettyprint">quantity</code> por <code class="prettyprint">unit_price</code> menos <code class="prettyprint">discount</code></td>
</tr>
<tr>
<td>unit_of_measurement<p class="dt-data-type">string</p></td>
<td>Unidad de medida, ejemplos: l, kg, cm</td>
</tr>
<tr>
<td>taxes</td>
<td>listado de <a href="#item-tax">impuestos</a></td>
</tr>
<tr>
<td>properties</td>
<td>hash</td>
</tr>
</tbody></table>

          <h2 id="productos">Productos</h2>

<p>Un Producto está representado por un objeto <em>Product</em>.</p>

<h4 id="product">Product</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>id<p class="dt-data-type">string</p></td>
<td>Identificador único del producto en Dátil</td>
</tr>
<tr>
<td>name<p class="dt-data-type">string</p></td>
<td>Nombre del producto</td>
</tr>
<tr>
<td>description<p class="dt-data-type">string</p></td>
<td>Esta información se mostrará en Market.</td>
</tr>
<tr>
<td>created_at<p class="dt-data-type">string</p></td>
<td>Fecha de creación generada por Dátil.</td>
</tr>
<tr>
<td>updated_at<p class="dt-data-type">string</p></td>
<td>Fecha de actualización generada automáticamente por Dátil.</td>
</tr>
<tr>
<td>sku<p class="dt-data-type">string</p></td>
<td>Código del producto (Stock Keeping Unit). Se utiliza principalmente para el control de inventario. Puede utilizarse también para realizar búsquedas con pocos caracteres.</td>
</tr>
<tr>
<td>unit_cost<p class="dt-data-type">string</p></td>
<td>Costo unitario del producto sin impuestos. Este es el valor que normalmente pagas al proveedor al comprar este producto.</td>
</tr>
<tr>
<td>type<p class="dt-data-type">string</p></td>
<td>Tipo de producto. Bien &ldquo;good&rdquo; o servicio &ldquo;service&rdquo;.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">string</p></td>
<td>Precio unitario de venta sin impuestos.</td>
</tr>
<tr>
<td>unit_of_measurement<p class="dt-data-type"><a href="#unit-of-measurement">unit_of_measurement</a></p></td>
<td>Unida de medida del producto.</td>
</tr>
<tr>
<td>images<p class="dt-data-type">list of <a href="#product-image">product_images</a></p></td>
<td>Listado de imágenes asociadas a este producto.</td>
</tr>
<tr>
<td>category<p class="dt-data-type"><a href="#category">category</a></p></td>
<td>Categoría a la que pertenece el producto.</td>
</tr>
<tr>
<td>applicable_taxes<p class="dt-data-type">list of <a href="#product-tax">product-tax</a></p></td>
<td>Listado de los impuestos que deben aplicarse a este producto al momento de vender.</td>
</tr>
<tr>
<td>purchase_applicable_taxes<p class="dt-data-type">list of <a href="#product-tax">product-tax</a></p></td>
<td>Listado de los impuestos que deben aplicarse a este producto al momento de comprarlo.</td>
</tr>
<tr>
<td>track_inventory<p class="dt-data-type">boolean</p></td>
<td>Verdadero cuando Dátil controla el las existencias de este producto.</td>
</tr>
<tr>
<td>tags<p class="dt-data-type">list of string</p></td>
<td>Las etiquetas te permiten agregar información complementaria al producto y podrás buscar productos con esta información.</td>
</tr>
<tr>
<td>available_on_market<p class="dt-data-type">boolean</p></td>
<td>Verdadero si está disponible en tu Market (<a href="https://datil.co/producto#market">más información de Market</a>)</td>
</tr>
</tbody></table>

<h4 id="product-tax">Product Tax</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>tax_code<p class="dt-data-type">string</p></td>
<td>Código del grupo al que pertenece el impuesto.</td>
</tr>
<tr>
<td>rate_code <p class="dt-data-type">string</p></td>
<td>Código de la tarifa de impuesto aplicado.</td>
</tr>
<tr>
<td>rate <p class="dt-data-type">string</p></td>
<td>Porcentaje del impuesto aplicado.</td>
</tr>
<tr>
<td>name <p class="dt-data-type">string</p></td>
<td>Nombre descriptivo del impuesto.</td>
</tr>
</tbody></table>

<h4 id="unit-of-measurement">Unit of measurement</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>abbreviation<p class="dt-data-type">string</p></td>
<td>Abreviatura, tratando en lo posible de utilizar el Sistema Internacional de medidas.</td>
</tr>
<tr>
<td>name<p class="dt-data-type">string</p></td>
<td>Nombre completo de la unidad.</td>
</tr>
</tbody></table>

<h4 id="product-image">Product Image</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>src<p class="dt-data-type">string</p></td>
<td>URL de la imagen.</td>
</tr>
<tr>
<td>title<p class="dt-data-type">string</p></td>
<td>Título de la imagen.</td>
</tr>
</tbody></table>

          <h2 id="categor-as">Categorías</h2>

<p>Una Categoría está representada por un objeto <em>Category</em>.</p>

<h4 id="category">Category</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>id<p class="dt-data-type">string</p></td>
<td>Identificador único de la categoría en Dátil</td>
</tr>
<tr>
<td>name<p class="dt-data-type">string</p></td>
<td>Nombre de la categoría</td>
</tr>
<tr>
<td>created_at<p class="dt-data-type">string</p></td>
<td>Fecha de creación generada por Dátil.</td>
</tr>
<tr>
<td>updated_at<p class="dt-data-type">string</p></td>
<td>Fecha de actualización generada automáticamente por Dátil.</td>
</tr>
</tbody></table>

          <h2 id="objetos-comunes">Objetos comunes</h2>

<h3 id="uuid-clave-de-acceso">UUID (Clave de acceso)</h3>

<p>El sistema se encarga de generar automáticamente la clave de acceso de cada
comprobante y luego retornarla como parte de la respuesta de emisión del mismo.
Pero es posible también proveer la clave de acceso si se requiere tener control
en la generación de esta clave. La siguiente documentación explica como debe
estar estructurada la clave de acceso.</p>

<p>Las claves de acceso estarán compuestas de 49 caracteres numéricos, la herramienta o aplicativo a utilizar por el sujeto pasivo deberá generar de manera automática la clave de acceso, que constituirá un requisito que dará el carácter de único a cada uno de los comprobantes, y la misma servirá para que el SRI indique si el comprobante es autorizado o no; se describe a continuación su conformación:</p>

<table><thead>
<tr>
<th>Campo</th>
<th>Formato</th>
<th>Longitud</th>
</tr>
</thead><tbody>
<tr>
<td>Fecha de Emisión</td>
<td>ddmmaaaa</td>
<td>8</td>
</tr>
<tr>
<td>Tipo de Comprobante</td>
<td>Tabla 4</td>
<td>2</td>
</tr>
<tr>
<td>Número de RUC</td>
<td>1234567890001</td>
<td>13</td>
</tr>
<tr>
<td>Tipo de Ambiente</td>
<td>Tabla 5</td>
<td>1</td>
</tr>
<tr>
<td>Serie</td>
<td>001001</td>
<td>6</td>
</tr>
<tr>
<td>Número del Comprobante (secuencial)</td>
<td>000000001</td>
<td>9</td>
</tr>
<tr>
<td>Código Numérico</td>
<td>Numérico</td>
<td>8</td>
</tr>
<tr>
<td>Tipo de Emisión</td>
<td>Tabla 2</td>
<td>1</td>
</tr>
<tr>
<td>Dígito Verificador (módulo 11 )</td>
<td>Numérico</td>
<td>1</td>
</tr>
</tbody></table>

<p><strong>Nota:</strong> Todos los campos deben completarse conforme a la longitud indicada, es decir si en el número secuencial no completa los 9 dígitos, la clave de acceso estará mal conformada y será motivo de rechazo de la autorización en línea.</p>

<p>El dígito verificador será aplicado sobre toda la clave de acceso (48 dígitos) y deberá ser incorporado por el contribuyente a través del método denominado Módulo 11, con un factor de chequeo ponderado (2), este mecanismo de detección de errores, será verificado al momento de la recepción del comprobante. Cuando el resultado del dígito verificador obtenido sea igual a once (11), el digito verificador será el cero (0) y cuando el resultado del dígito verificador obtenido sea igual a diez 10, el digito verificador será el uno (1).</p>

<p>El código numérico constituye un mecanismo para brindar seguridad al emisor en cada comprobante emitido, el algoritmo numérico para conformar este código es potestad absoluta del contribuyente emisor.</p>

<p>Ver <a href="https://es.wikipedia.org/wiki/C%C3%B3digo_de_control">aquí</a> ejemplo de verificación utilizando algoritmo de módulo 11.</p>

<h3 id="result-set">Result set</h3>

<p>Este objeto siempre se obtiene como respuesta al consultar un listado de recursos</p>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>count<p class="dt-data-type">integer</p></td>
<td>Número total de elementos en la lista</td>
</tr>
<tr>
<td>results<p class="dt-data-type">array</p></td>
<td>Listado de elementos</td>
</tr>
<tr>
<td>next<p class="dt-data-type">string</p></td>
<td>URL para obtener la página siguiente de resultados, es <code class="prettyprint">null</code> si no existe una siguiente página de resultados.</td>
</tr>
<tr>
<td>previous<p class="dt-data-type">string</p></td>
<td>URL para obtener la página anterior de resultados, es <code class="prettyprint">null</code> si no existe una página anterior de resultados.</td>
</tr>
</tbody></table>

<h3 id="tax">Tax</h3>

<p>Impuesto aplicado a una transacción o item.</p>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>tax_code<p class="dt-data-type">string</p></td>
<td>Código del grupo al que pertenece el impuesto.</td>
</tr>
<tr>
<td>rate_code <p class="dt-data-type">string</p></td>
<td>Código de la tarifa de impuesto aplicado.</td>
</tr>
<tr>
<td>amount <p class="dt-data-type">string</p></td>
<td>Valor a pagar de impuesto</td>
</tr>
<tr>
<td>taxable_amount<p class="dt-data-type">object</p></td>
<td>Base imponible. Valor a partir del cual el impuesto se calcula.</td>
</tr>
<tr>
<td>rate <p class="dt-data-type">string</p></td>
<td>Porcentaje del impuesto aplicado.</td>
</tr>
</tbody></table>

<h3 id="documento-relacionado">Documento Relacionado</h3>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>number<p class="dt-data-type">string</p></td>
<td>Código del grupo al que pertenece el impuesto.</td>
</tr>
<tr>
<td>document_type <p class="dt-data-type">string</p></td>
<td>Tipo del documento relacionado. Ver tabla de <a href="#tipos-de-documentos">Tipos de documentos</a></td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">string</p></td>
<td>Fecha de emisión del documento relacionado en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
</tbody></table>

<h3 id="supplier">Supplier</h3>

<p>Información del emisor de un comprobante.</p>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>tax_identification<p class="dt-data-type">string</p></td>
<td>Número de RUC de 13 caracteres</td>
</tr>
<tr>
<td>legal_name<p class="dt-data-type">string</p></td>
<td>Razón social</td>
</tr>
<tr>
<td>commercial_name<p class="dt-data-type">string</p></td>
<td>Nombre comercial</td>
</tr>
<tr>
<td>address<p class="dt-data-type">string</p></td>
<td>Dirección del establecimiento registrada en el SRI</td>
</tr>
<tr>
<td>locality<p class="dt-data-type">string</p></td>
<td>Ciudad o pueblo</td>
</tr>
<tr>
<td>administrative_district_level_1 <p class="dt-data-type">string</p></td>
<td>Provincia</td>
</tr>
<tr>
<td>country<p class="dt-data-type">string</p></td>
<td>País</td>
</tr>
<tr>
<td>properties <p class="dt-data-type">list of <a href="#property">property</a> objects</p></td>
<td></td>
</tr>
<tr>
<td>location</td>
<td><a href="#location">location</a></td>
</tr>
</tbody></table>

<h3 id="location">Location</h3>

<p>Representa un establecimiento del negocio.</p>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>code<p class="dt-data-type">string</p></td>
<td>Código numérico de 3 caracteres que representa al establecimiento. Ejemplo: <code class="prettyprint">001</code></td>
</tr>
<tr>
<td>address<p class="dt-data-type">string</p></td>
<td>Dirección registrada en el SRI. Máximo 300 caracteres</td>
</tr>
<tr>
<td>administrative_district_level_1<p class="dt-data-type">string</p></td>
<td>Provincia</td>
</tr>
<tr>
<td>administrative_district_level_2<p class="dt-data-type">string</p></td>
<td>Ciudad</td>
</tr>
<tr>
<td>point_of_sale<p class="dt-data-type">object <a href="#point_of_sale">punto de venta</a></p></td>
<td>Información del punto de venta que emite el documento</td>
</tr>
</tbody></table>

<h3 id="point-of-sale">Point of sale</h3>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>id<p class="dt-data-type">string</p></td>
<td>ID único del punto de venta</td>
</tr>
<tr>
<td>code<p class="dt-data-type">string</p></td>
<td>Código numérico de 3 caracteres que identifica al punto de emisión, o punto de venta. Ejemplo: &ldquo;001&rdquo;</td>
</tr>
</tbody></table>

<h3 id="contacto">Contacto</h3>

<p>Los contactos están representados por un objeto <em>Contact</em></p>

<h4 id="el-objeto-contact">El objeto Contact</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>person <p class="dt-data-type">object</p></td>
<td>objeto tipo <a href="#person">person</a>. Aparece cuando el contacto es una persona.</td>
</tr>
<tr>
<td>business <p class="dt-data-type">object</p></td>
<td>objeto tipo <a href="#business">business</a>. Aparece cuando el contacto es una empresa.</td>
</tr>
<tr>
<td>properties <p class="dt-data-type">object</p></td>
<td>diccionario de datos. Representa información complementarios del contacto.</td>
</tr>
<tr>
<td>tax_identification <p class="dt-data-type">string</p></td>
<td>De 5 a máximo 20 caracteres.</td>
</tr>
<tr>
<td>tax_identification_type <p class="dt-data-type">string</p></td>
<td>Ver <a href="#tipo-de-identificación">tabla</a> de tipos de identificación</td>
</tr>
<tr>
<td>email <p class="dt-data-type">string</p></td>
<td>Correo electrónico. Máximo 255 caracteres.</td>
</tr>
<tr>
<td>phone <p class="dt-data-type">string</p></td>
<td>Teléfono.</td>
</tr>
<tr>
<td>address <p class="dt-data-type">string</p></td>
<td>Dirección</td>
</tr>
<tr>
<td>locality <p class="dt-data-type">string</p></td>
<td>Ciudad o pueblo</td>
</tr>
<tr>
<td>sublocality <p class="dt-data-type">string</p></td>
<td>Sector o barrio</td>
</tr>
<tr>
<td>administrative_district_level_1 <p class="dt-data-type">string</p></td>
<td>Provincia</td>
</tr>
</tbody></table>

<p>El contacto debe incluir alguno de los dos atributos, <code class="prettyprint">business</code> o <code class="prettyprint">person</code>.</p>

<h3 id="business">Business</h3>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>legal_name <p class="dt-data-type">string</p></td>
<td>Razón social.</td>
</tr>
<tr>
<td>commercial_name <p class="dt-data-type">string</p></td>
<td>Nombre de comercial.</td>
</tr>
</tbody></table>

<h3 id="person">Person</h3>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>first_name <p class="dt-data-type">string</p></td>
<td>Nombre de pila.</td>
</tr>
<tr>
<td>middle_name <p class="dt-data-type">string</p></td>
<td>Segundo nombre.</td>
</tr>
<tr>
<td>last_name <p class="dt-data-type">string</p></td>
<td>Apellido.</td>
</tr>
</tbody></table>

<h3 id="property">Property</h3>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name <p class="dt-data-type">string</p></td>
<td>Nombre de la propiedad. Esto permite asociar información de cualquier índole a los recursos que soportan esta propiedad.</td>
</tr>
<tr>
<td>description <p class="dt-data-type">string</p></td>
<td>Valor de la propiedad.</td>
</tr>
</tbody></table>

<h3 id="env-o-sri">Envío SRI</h3>

<p>Contiene la información y el estado de la fase de envío al SRI</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>mensajes</td>
<td>listado de objeto <a href="#mensajes-de-respuesta-sri">mensaje SRI</a></td>
<td>Listado de mensajes.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Posibles valores: <code class="prettyprint">RECIBIDA</code>, <code class="prettyprint">DEVUELTA</code></td>
</tr>
<tr>
<td>fecha</td>
<td>string</td>
<td>Fecha en la que se realizó el envío en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
</tbody></table>

<h3 id="autorizaci-n-sri">Autorización SRI</h3>

<p>Contiene la información y el estado de la fase de autorización del comprobante.</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>mensajes</td>
<td>listado de objeto <a href="#mensajes-de-respuesta-sri">mensaje SRI</a></td>
<td>Listado de mensajes.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Posibles valores: <code class="prettyprint">AUTORIZADO</code>, <code class="prettyprint">NO AUTORIZADO</code></td>
</tr>
<tr>
<td>numero</td>
<td>string</td>
<td>Número de autorización.</td>
</tr>
<tr>
<td>fecha</td>
<td>string</td>
<td>Fecha en la que se otorgó la autorización en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
</tbody></table>

<h3 id="mensajes-de-respuesta-sri">Mensajes de respuesta SRI</h3>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>identificador</td>
<td>string</td>
<td>Número con el que el SRI identifica al mensaje.</td>
</tr>
<tr>
<td>mensaje</td>
<td>string</td>
<td>Descripción del error, información o advertencia.</td>
</tr>
<tr>
<td>tipo</td>
<td>string</td>
<td>Posibles valores: <code class="prettyprint">INFORMATIVO</code>, <code class="prettyprint">ADVERTENCIA</code>, <code class="prettyprint">ERROR</code></td>
</tr>
<tr>
<td>informacion_adicional</td>
<td>string</td>
<td>Información adicional del mensaje.</td>
</tr>
</tbody></table>

<p><h3 id="retencion-de-factura">Retención en factura </h2></p>

<p>Caso específico de Retenciones en la Comercializadores / Distribuidores de derivados del Petróleo y Retención presuntiva de IVA a los Editores, Distribuidores y Voceadores que participan en la comercialización de periódicos y/o revistas.</p>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>codigo</td>
<td>string</td>
<td>Código del <a href="#tipos-de-impuesto-para-la-retención-en-la-factura">tipo de impuesto para la retención en la factura</a>.  <strong>Requerido</strong></td>
</tr>
<tr>
<td>codigo_porcentaje</td>
<td>string</td>
<td>Código del <a href="#retención-de-iva-presuntivo-y-renta">porcentaje del impuesto</a>. <strong>Requerido</strong></td>
</tr>
<tr>
<td>tarifa</td>
<td>float</td>
<td>Porcentaje actual del impuesto. Máximo 3 enteros y 2 decimales.  <strong>Requerido</strong></td>
</tr>
<tr>
<td>valor</td>
<td>float</td>
<td>Valor del impuesto. Máximo 12 enteros y 2 decimales.  <strong>Requerido</strong></td>
</tr>
</tbody></table>

          <h1 id="ventas">Ventas</h1>

<p>Emite y registra comprobantes de ventas. Podrás emitir Facturas,
Notas de Crédito, Guías de Remisión y Notas de Débito; y podrás registrar
Retenciones recibidas después de hacer una venta.</p>

          <h2 id="facturas">Facturas</h2>

<h3 id="emite-una-factura">Emite una factura</h3>

<h4 id="operaci-n">Operación</h4>

<p><code class="prettyprint">POST /sales/invoices/issues</code></p>

<h4 id="requerimiento">Requerimiento</h4>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://api.datil.co/sales/invoices/issues <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "live": false,
  "properties": [
    {
      "description": "420420",
      "name": "Contract Number"
    }
  ],
  "payments": [
    {
      "properties": [
        {
          "description": "2223XXXX23",
          "name": "account_number"
        },
        {
          "description": "Banco Huancavilva",
          "name": "bank"
        }
      ],
      "amount": "114.00",
      "method": "efectivo"
    }
  ],
  "supplier": {
    "location": {
      "point_of_sale": {
        "code": "002"
      },
      "code": "001"
    }
  },
  "sequence": 1000,
  "taxes": [
    {
      "amount": "14.00",
      "tax_code": "2",
      "rate_code": "3",
      "tax_rate": "14.0",
      "taxable_amount": "100.00"
    }
  ],
  "issue_date": "2017-11-01T09:00:00-05:00",
  "customer": {
    "properties": [],
    "locality": "Guayaquil",
    "address": "Carrera 10 Calle 1",
    "email": "compras@datil.co",
    "person": {
      "first_name": "Juan",
      "middle_name": "A.",
      "last_name": "Pérez"
    },
    "phone": "57122222222222",
    "tax_identification_type": "05",
    "sublocality": "Centro",
    "tax_identification": "0924447956",
    "country": "EC",
    "administrative_district_level_1": "Guayas"
  },
  "totals": {
    "total_tax_amount": "14.00",
    "subtotal_amount": "100.00",
    "total_discount_amount": "100.00",
    "total_amount": "114.00"
  },
  "currency": "USD",
  "items": [
    {
      "description": "Apple",
      "properties": [
        {
          "description": "red",
          "name": "color"
        }
      ],
      "unit_price": "2.00",
      "taxes": [
        {
          "amount": "14.00",
          "tax_code": "2",
          "rate_code": "3",
          "tax_rate": "14.00",
          "taxable_amount": "100.00"
        }
      ],
      "subtotal_amount": "100.00",
      "unit_code": "units",
      "unit_discount": "1.00",
      "quantity": "100"
    }
  ]
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>

<span class="n">invoice</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"live"</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
    <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"description"</span><span class="p">:</span> <span class="s">"420420"</span><span class="p">,</span>
            <span class="s">"name"</span><span class="p">:</span> <span class="s">"Contract Number"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"payments"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s">"description"</span><span class="p">:</span> <span class="s">"2223XXXX23"</span><span class="p">,</span>
                    <span class="s">"name"</span><span class="p">:</span> <span class="s">"account_number"</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s">"description"</span><span class="p">:</span> <span class="s">"Banco Huancavilva"</span><span class="p">,</span>
                    <span class="s">"name"</span><span class="p">:</span> <span class="s">"bank"</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">"amount"</span><span class="p">:</span> <span class="s">"114.00"</span><span class="p">,</span>
            <span class="s">"method"</span><span class="p">:</span> <span class="s">"efectivo"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"supplier"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"location"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"point_of_sale"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"code"</span><span class="p">:</span> <span class="s">"002"</span>
            <span class="p">},</span>
            <span class="s">"code"</span><span class="p">:</span> <span class="s">"001"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s">"sequence"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s">"taxes"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"amount"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
            <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
            <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span>
            <span class="s">"tax_rate"</span><span class="p">:</span> <span class="s">"14.0"</span><span class="p">,</span>
            <span class="s">"taxable_amount"</span><span class="p">:</span> <span class="s">"100.00"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="s">"issue_date"</span><span class="p">:</span> <span class="s">"2017-11-01T09:00:00-05:00"</span><span class="p">,</span>
    <span class="s">"customer"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>

        <span class="p">],</span>
        <span class="s">"locality"</span><span class="p">:</span> <span class="s">"Guayaquil"</span><span class="p">,</span>
        <span class="s">"address"</span><span class="p">:</span> <span class="s">"Carrera 10 Calle 1"</span><span class="p">,</span>
        <span class="s">"email"</span><span class="p">:</span> <span class="s">"compras@datil.co"</span><span class="p">,</span>
        <span class="s">"person"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Juan"</span><span class="p">,</span>
            <span class="s">"middle_name"</span><span class="p">:</span> <span class="s">"A."</span><span class="p">,</span>
            <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Pérez"</span>
        <span class="p">},</span>
        <span class="s">"phone"</span><span class="p">:</span> <span class="s">"57122222222222"</span><span class="p">,</span>
        <span class="s">"tax_identification_type"</span><span class="p">:</span> <span class="s">"05"</span><span class="p">,</span>
        <span class="s">"sublocality"</span><span class="p">:</span> <span class="s">"Centro"</span><span class="p">,</span>
        <span class="s">"tax_identification"</span><span class="p">:</span> <span class="s">"0924447956"</span><span class="p">,</span>
        <span class="s">"country"</span><span class="p">:</span> <span class="s">"EC"</span><span class="p">,</span>
        <span class="s">"administrative_district_level_1"</span><span class="p">:</span> <span class="s">"Guayas"</span>
    <span class="p">},</span>
    <span class="s">"totals"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"total_tax_amount"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
        <span class="s">"subtotal_amount"</span><span class="p">:</span> <span class="s">"100.00"</span><span class="p">,</span>
        <span class="s">"total_discount_amount"</span><span class="p">:</span> <span class="s">"100.00"</span><span class="p">,</span>
        <span class="s">"total_amount"</span><span class="p">:</span> <span class="s">"114.00"</span>
    <span class="p">},</span>
    <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span><span class="p">,</span>
    <span class="s">"items"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"description"</span><span class="p">:</span> <span class="s">"Apple"</span><span class="p">,</span>
            <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s">"description"</span><span class="p">:</span> <span class="s">"red"</span><span class="p">,</span>
                    <span class="s">"name"</span><span class="p">:</span> <span class="s">"color"</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">"unit_price"</span><span class="p">:</span> <span class="s">"2.00"</span><span class="p">,</span>
            <span class="s">"taxes"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s">"amount"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
                    <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
                    <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span>
                    <span class="s">"tax_rate"</span><span class="p">:</span> <span class="s">"14.00"</span><span class="p">,</span>
                    <span class="s">"taxable_amount"</span><span class="p">:</span> <span class="s">"100.00"</span>
                <span class="p">}</span>
            <span class="p">],</span>
            <span class="s">"subtotal_amount"</span><span class="p">:</span> <span class="s">"100.00"</span><span class="p">,</span>
            <span class="s">"unit_code"</span><span class="p">:</span> <span class="s">"units"</span><span class="p">,</span>
            <span class="s">"unit_discount"</span><span class="p">:</span> <span class="s">"1.00"</span><span class="p">,</span>
            <span class="s">"quantity"</span><span class="p">:</span> <span class="s">"100"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;clave-certificado-firma&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://api.datil.co/sales/invoices/issues"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">invoice</span><span class="p">))</span>
</code></pre>

<p>Para la emisión de una factura se debe enviar la información completa de la
venta. Las facturas emitidas con un API key de pruebas, serán enviadas al
ambiente de pruebas del SRI.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>supplier<p class="dt-data-param-required">requerido</p></td>
<td>En este campo sólo es necesario proveer &ldquo;location&rdquo; con los campos &ldquo;code&rdquo; y &ldquo;point_of_sale&rdquo;. Para el objeto &ldquo;point_of_sale&rdquo; es necesario sólo especificar &ldquo;code&rdquo;</td>
</tr>
<tr>
<td>sequence</td>
<td>Número entero positivo mayor a cero. Si no envías esta información se utilizará el siguiente número de factura disponible.</td>
</tr>
<tr>
<td>currency<p class="dt-data-param-required">requerido</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>issue_date</td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>. Si no es provista, se utilizará la fecha en la que se envía la factura.</td>
</tr>
<tr>
<td>totals<p class="dt-data-param-required">requerido</p></td>
<td>Totales de la factura. Ver <a href="#invoice-totals">objeto totales</a></td>
</tr>
<tr>
<td>customer<p class="dt-data-param-required">requerido</p></td>
<td>Información del <a href="#contacto">comprador</a>.</td>
</tr>
<tr>
<td>items<p class="dt-data-param-required">requerido</p></td>
<td>Bienes o servicios vendidos. Lista de <a href="#invoice-item">items</a></td>
</tr>
<tr>
<td>uuid</td>
<td>La clave de acceso de la factura. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties</td>
<td>Información adicional adjunta al comprobante. Listado de objetos tipo <a href="#property">property</a></td>
</tr>
<tr>
<td>payments</td>
<td>Pagos realizados a la factura. Listado de objetos tipo <a href="#payment">payment</a></td>
</tr>
<tr>
<td>payment_methods</td>
<td>Listado de formas de pago aplicables a la factura. Si alguno de los métodos de pago tienen un &ldquo;due_date&rdquo; Datil entenderá esto como una factura a crédito. Listado de objectos tipo <a href="#payment-method">payment_method</a></td>
</tr>
</tbody></table>

<h4 id="retorna">Retorna</h4>

<p>Retorna un objeto <strong><a href="#el-objeto-invoice">invoice</a></strong> que incluye un nuevo parámetro <code class="prettyprint">id</code>,
el cual identifica de manera única a la factura. El campo <code class="prettyprint">clave_acceso</code> generado
también se incluirá como parte de la respuesta.</p>

<h3 id="consulta-una-factura">Consulta una factura</h3>

<p>Consulta una factura para obtener toda la información del comprobante,
incluyendo el estado de autorización del mismo.
El atributo <code class="prettyprint">status</code> de la respuesta obtenida al invocar esta operación, indica
el estado actual del comprobante.</p>

<p>Si es necesario conocer en detalle el estado del <a href="#proceso-de-emisión">proceso de emisión</a>,
se debe examinar el atributos <code class="prettyprint">authorization</code> de la factura.</p>

<h4 id="operaci-n">Operación</h4>

<p><code class="prettyprint">GET /sales/invoices/:invoice-id</code></p>

<h4 id="requerimiento">Requerimiento</h4>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/invoices/&lt;invoice-id&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;clave-del-api&gt;"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://api.datil.co/sales/invoices/&lt;id-factura&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre>

<p>Reemplaza en la ruta <code class="prettyprint">&lt;invoice-ID&gt;</code> por el <code class="prettyprint">id</code> de la factura que necesitas consultar.</p>

<h4 id="respuesta">Respuesta</h4>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6463427e69b546afb77a75973cc74ce7"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"supplier"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"point_of_sale"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"002"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.64"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001-002-000438970"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2308201701099271255400110010020004389701994000000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23T10:09:15-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-23"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Av. Primera 123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clientes@datil.co"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"person"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"José"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"middle_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pérez"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0990289327"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tax_identification_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"05"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sublocality"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tax_identification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0914617584"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"administrative_district_level_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"totals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_discount_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_tax_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.64"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34.00"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">438970</span><span class="p">,</span><span class="w">
  </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2308201701099271255400110010020004389701994000000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plan Pro"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"unit_discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.357000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subtotal_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.64"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"taxable_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.36"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Servicio"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dátil Facturación Electrónica"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Incluye"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Facturas, Retenciones, Notas de Crédito/Débito, Guías de Remisión"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="re-emite-una-factura">Re-emite una factura</h3>

<h4 id="operaci-n">Operación</h4>

<p><code class="prettyprint">POST /sales/invoices/:id/re-issues</code></p>

<h4 id="requerimiento">Requerimiento</h4>

<p>Esta operación debe ser utilizada para corregir comprobantes NO AUTORIZADOS.</p>

<p>En la URL de esta opción se debe incluir el <code class="prettyprint">id</code> de la factura recibida al
momento de emitirla.</p>

<p>El cuerpo del requerimiento es un objeto <a href="#emite-una-factura">factura</a> con los
datos corregidos para que pueda ser procesado y autorizado.</p>

<h4 id="respuesta">Respuesta</h4>

<p>Retornará un error si el comprobante se encuentra autorizado.</p>

<h3 id="registra-pagos">Registra Pagos</h3>

<h4 id="operaci-n">Operación</h4>

<p><code class="prettyprint">POST /sales/invoices/:id/payments</code></p>

<h4 id="requerimiento">Requerimiento</h4>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://api.datil.co/sales/invoices/6463427e69b546afb77a75973cc74ce7/payments <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
      "payments": [
        {
          "amount": 114.0,
          "method": "cash",
          "date": "2017-05-31T13:50:07-05:00",
          "properties": [
            {
              "name": "account_number",
              "description": "2223XXXX23"
            },
            {
              "name": "bank",
              "description": "Banco Huancavilva"
            }
          }]
        }
      ]
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>

<span class="n">payments</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"payments"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="s">"114.0"</span><span class="p">,</span>
    <span class="s">"method"</span><span class="p">:</span> <span class="s">"cash"</span><span class="p">,</span>
    <span class="s">"date"</span><span class="p">:</span> <span class="s">"2017-05-31T13:50:07-05:00"</span><span class="p">,</span>
    <span class="s">"properties"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s">"name"</span><span class="p">:</span> <span class="s">"account_number"</span><span class="p">,</span>
        <span class="s">"description"</span><span class="p">:</span> <span class="s">"2223XXXX23"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s">"name"</span><span class="p">:</span> <span class="s">"bank"</span><span class="p">,</span>
        <span class="s">"description"</span><span class="p">:</span> <span class="s">"Banco Huancavilva"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}]</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://api.datil.co/sales/invoices/6463427e69b546afb77a75973cc74ce7/payments"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payments</span><span class="p">))</span>
</code></pre>

<p>Puedes registrar uno o más pagos.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>payments<p class="dt-data-param-required">requerido</p></td>
<td>Listado de <a href="#payment">pagos</a> a registrar</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>method<p class="dt-data-param-required">requerido</p></td>
<td>Código que representa al método.</td>
</tr>
<tr>
<td>amount<p class="dt-data-param-required">requerido</p></td>
<td>Monto a pagar.</td>
</tr>
<tr>
<td>date</td>
<td>Fecha en la que se realizó el pago en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>. Si no es provista, se utilizará la fecha actual.</td>
</tr>
<tr>
<td>properties</td>
<td>Listado de propiedades adicionales</td>
</tr>
</tbody></table>

          <h1 id="compras">Compras</h1>

<p>Emite y registra comprobantes de las compras que realiza un negocio.
Podrás emitir Retenciones, recuerda que una <em>Persona Jurídica</em> está obligada a
retener impuestos. Además podrás registrar Facturas, Notas de Crédito,
Guías de Remisión y Notas de Débito que un negocio recibe de sus proveedores.</p>

          <h2 id="facturas">Facturas</h2>

<p>Una factura de compra está representada por un objeto <em>Purchase Invoice</em>.</p>

<h3 id="el-objeto-purchase-invoice">El objeto Purchase Invoice</h3>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>number<p class="dt-data-type">string</p></td>
<td>Número completo de la factura. Es un número secuencial que se forma a partir de {código establecimiento}-{código pto. emisión}-{secuencia}</td>
</tr>
<tr>
<td>currency<p class="dt-data-type">string</p></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">string</p></td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>totals<p class="dt-data-type">objeto <a href="#invoice-totals">totals</a></p></td>
<td>Totales de la factura</td>
</tr>
<tr>
<td>customer<p class="dt-data-type">objeto <a href="#contact">contact</a></td>
<td>Información del comprador.</td>
</tr>
<tr>
<td>items<p class="dt-data-type">lista de <a href="#invoice-item">items</a></p></td>
<td>Bienes o servicios facturados.</td>
</tr>
<tr>
<td>uuid<p class="dt-data-type">string</p></td>
<td>La clave de acceso de la factura. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">objeto</p></td>
<td>Información adicional adjunta al comprobante en forma de diccionario. Ejemplo:<br><code class="prettyprint">{&quot;plan&quot;: &quot;Inicial&quot;, &quot;vigencia&quot;: &quot;1 mes&quot;}</code></td>
</tr>
<tr>
<td>payments<p class="dt-data-type">lista de <a href="#payment">payments</a></p></td>
<td>Pagos realizados a la factura.</td>
</tr>
<tr>
<td>payment_methods<p class="dt-data-type">lista de <a href="#payment-method">payment_methods</a></p></td>
<td>Listado de formas de pago aplicables a la factura.</td>
</tr>
<tr>
<td>payment_terms</td>
<td>Objeto de <a href="#payment-terms">payment_terms</a></td>
</tr>
<tr>
<td>electronic_document<p class="dt-data-type">string</p></td>
<td>Documento electrónico, el XML.</td>
</tr>
<tr>
<td>electronic_document_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del documento electrónico, el XML.</td>
</tr>
<tr>
<td>printable_version_url<p class="dt-data-type">string</p></td>
<td>URL de descarga del RIDE.</td>
</tr>
</tbody></table>

<h4 id="invoice-totals">Totals</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>total_discount_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal sin impuestos</td>
</tr>
<tr>
<td>total_tax_amount<p class="dt-data-type">string</p></td>
<td>Total de impuestos recaudados</td>
</tr>
<tr>
<td>total_amount<p class="dt-data-type">string</p></td>
<td>Total final.</td>
</tr>
</tbody></table>

<h4 id="invoice-item">Item</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>description<p class="dt-data-type">string</p></td>
<td>Descripción del ítem.</td>
</tr>
<tr>
<td>sku<p class="dt-data-type">string</p></td>
<td>Código alfanumérico de uso del comercio. Máximo 25 caracteres.</td>
</tr>
<tr>
<td>quantity<p class="dt-data-type">string</p></td>
<td>Cantidad de items.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">string</p></td>
<td>Precio unitario.</td>
</tr>
<tr>
<td>unit_discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>discount<p class="dt-data-type">string</p></td>
<td>El descuento aplicado para este item, expresado en valor monetario.</td>
</tr>
<tr>
<td>subtotal_amount<p class="dt-data-type">string</p></td>
<td>Subtotal antes de impuestos. Se obtiene multiplicando <code class="prettyprint">quantity</code> por <code class="prettyprint">unit_price</code> menos <code class="prettyprint">discount</code></td>
</tr>
<tr>
<td>unit_of_measurement<p class="dt-data-type">string</p></td>
<td>Unidad de medida, ejemplos: l, kg, cm</td>
</tr>
<tr>
<td>taxes</td>
<td>listado de <a href="#item-taxes">impuestos</a></td>
</tr>
<tr>
<td>properties</td>
<td>hash</td>
</tr>
</tbody></table>

<h4 id="payment">Payment</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>date<p class="dt-data-type">string</p></td>
<td>Fecha de recepción del pago en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>method <p class="dt-data-type">string</p></td>
<td>Código del método de pago según <a href="http://www.unece.org/trade/untdid/d16a/tred/tred4461.htm">4461 UN/CEFACT standard v06B</a></td>
</tr>
<tr>
<td>amount <p class="dt-data-type">string</p></td>
<td>Valor pagado</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">object</p></td>
<td>Información adicional adjunta al pago en forma de diccionario. Ejemplo:<br><code class="prettyprint">{&quot;bank&quot;: &quot;Safe Bank&quot;, &quot;account_number&quot;: &quot;1020304050&quot;}</code></td>
</tr>
</tbody></table>

<h4 id="payment-method">Payment method</h4>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>due_date<p class="dt-data-type">string</p></td>
<td>Fecha de vencimiento en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>method <p class="dt-data-type">string</p></td>
<td>Código del método de pago según <a href="http://www.unece.org/trade/untdid/d16a/tred/tred4461.htm">4461 UN/CEFACT standard v06B</a></td>
</tr>
<tr>
<td>amount <p class="dt-data-type">string</p></td>
<td>Valor a pagar por este medio.</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">object</p></td>
<td>Información adicional. Ejemplo:<br><code class="prettyprint">{&quot;bank&quot;: &quot;Safe Bank&quot;, &quot;account_number&quot;: &quot;1020304050&quot;}</code></td>
</tr>
</tbody></table>

<h3 id="registro-de-una-factura-utilizando-su-xml">Registro de una factura utilizando su XML</h3>

<h4 id="operaci-n">Operación</h4>

<p><code class="prettyprint">POST /locations/:location-id/purchases/invoices/imports</code></p>

<h4 id="requerimiento">Requerimiento</h4>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/location/31a8edd4-cf56-4435-a387-7bf1d2eb94e1/invoices/issue <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
      "electronic_document": "
        &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;
        &lt;autorizacion&gt;
            &lt;estado&gt;AUTORIZADO&lt;/estado&gt;
            &lt;numeroAutorizacion&gt;2411201601200100200000939717922618485&lt;/numeroAutorizacion&gt;
            &lt;fechaAutorizacion class=\"fechaAutorizacion\"&gt;24/11/2016 12:49:35 PM&lt;/fechaAutorizacion&gt;
            &lt;comprobante&gt;&lt;![CDATA[&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;
        &lt;factura id=\"comprobante\" version=\"1.0.0\"&gt;
            &lt;infoTributaria&gt;
                &lt;ambiente&gt;2&lt;/ambiente&gt;
                &lt;tipoEmision&gt;1&lt;/tipoEmision&gt;
                &lt;razonSocial&gt;Acme Corp.&lt;/razonSocial&gt;
                &lt;nombreComercial&gt;Acme&lt;/nombreComercial&gt;
                &lt;ruc&gt;99999999999999&lt;/ruc&gt;
                &lt;claveAcceso&gt;241120160199999999999990020000093971234567814&lt;/claveAcceso&gt;
                &lt;codDoc&gt;01&lt;/codDoc&gt;
                &lt;estab&gt;001&lt;/estab&gt;
                &lt;ptoEmi&gt;002&lt;/ptoEmi&gt;
                &lt;secuencial&gt;000009397&lt;/secuencial&gt;
                &lt;dirMatriz&gt;Palora Y Amazonas&lt;/dirMatriz&gt;
            &lt;/infoTributaria&gt;
            &lt;infoFactura&gt;
                &lt;fechaEmision&gt;24/11/2016&lt;/fechaEmision&gt;
                &lt;dirEstablecimiento&gt;Palora 37 Y Amazonas&lt;/dirEstablecimiento&gt;
                &lt;obligadoContabilidad&gt;SI&lt;/obligadoContabilidad&gt;
                &lt;tipoIdentificacionComprador&gt;04&lt;/tipoIdentificacionComprador&gt;
                &lt;razonSocialComprador&gt;Datil S. A.&lt;/razonSocialComprador&gt;
                &lt;identificacionComprador&gt;0992712555001&lt;/identificacionComprador&gt;
                &lt;totalSinImpuestos&gt;534.60&lt;/totalSinImpuestos&gt;
                &lt;totalDescuento&gt;59.40&lt;/totalDescuento&gt;
                &lt;totalConImpuestos&gt;
                    &lt;totalImpuesto&gt;
                        &lt;codigo&gt;2&lt;/codigo&gt;
                        &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;
                        &lt;baseImponible&gt;534.60&lt;/baseImponible&gt;
                        &lt;valor&gt;74.84&lt;/valor&gt;
                    &lt;/totalImpuesto&gt;
                &lt;/totalConImpuestos&gt;
                &lt;propina&gt;0.00&lt;/propina&gt;
                &lt;importeTotal&gt;609.44&lt;/importeTotal&gt;
                &lt;moneda&gt;DOLAR&lt;/moneda&gt;
                &lt;pagos&gt;
                    &lt;pago&gt;
                        &lt;formaPago&gt;20&lt;/formaPago&gt;
                        &lt;total&gt;609.44&lt;/total&gt;
                        &lt;plazo&gt;1&lt;/plazo&gt;
                        &lt;unidadTiempo&gt;dias&lt;/unidadTiempo&gt;
                    &lt;/pago&gt;
                &lt;/pagos&gt;
            &lt;/infoFactura&gt;
            &lt;detalles&gt;
                &lt;detalle&gt;
                    &lt;codigoPrincipal&gt;12-01-02-001&lt;/codigoPrincipal&gt;
                    &lt;descripcion&gt;TNT&lt;/descripcion&gt;
                    &lt;cantidad&gt;22&lt;/cantidad&gt;
                    &lt;precioUnitario&gt;10.00&lt;/precioUnitario&gt;
                    &lt;descuento&gt;22.00&lt;/descuento&gt;
                    &lt;precioTotalSinImpuesto&gt;198.00&lt;/precioTotalSinImpuesto&gt;
                    &lt;impuestos&gt;
                        &lt;impuesto&gt;
                            &lt;codigo&gt;2&lt;/codigo&gt;
                            &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;
                            &lt;tarifa&gt;14&lt;/tarifa&gt;
                            &lt;baseImponible&gt;198.00&lt;/baseImponible&gt;
                            &lt;valor&gt;27.72&lt;/valor&gt;
                        &lt;/impuesto&gt;
                    &lt;/impuestos&gt;
                &lt;/detalle&gt;
                &lt;detalle&gt;
                    &lt;codigoPrincipal&gt;4880102001&lt;/codigoPrincipal&gt;
                    &lt;descripcion&gt;Fósforos de seguridad&lt;/descripcion&gt;
                    &lt;cantidad&gt;22&lt;/cantidad&gt;
                    &lt;precioUnitario&gt;17.00&lt;/precioUnitario&gt;
                    &lt;descuento&gt;37.40&lt;/descuento&gt;
                    &lt;precioTotalSinImpuesto&gt;336.60&lt;/precioTotalSinImpuesto&gt;
                    &lt;impuestos&gt;
                        &lt;impuesto&gt;
                            &lt;codigo&gt;2&lt;/codigo&gt;
                            &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;
                            &lt;tarifa&gt;14&lt;/tarifa&gt;
                            &lt;baseImponible&gt;336.60&lt;/baseImponible&gt;
                            &lt;valor&gt;47.12&lt;/valor&gt;
                        &lt;/impuesto&gt;
                    &lt;/impuestos&gt;
                &lt;/detalle&gt;
            &lt;/detalles&gt;
            &lt;infoAdicional&gt;
                &lt;campoAdicional nombre=\"dirCliente\"&gt;The cliff&lt;/campoAdicional&gt;
                &lt;campoAdicional nombre=\"telfCliente\"&gt;555 5555&lt;/campoAdicional&gt;
                &lt;campoAdicional nombre=\"ciudadCliente\"&gt;Guayaquil&lt;/campoAdicional&gt;
                &lt;campoAdicional nombre=\"observacion\"&gt;Manejar la carga con precaución&lt;/campoAdicional&gt;
            &lt;/infoAdicional&gt;
        &lt;ds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:etsi=\"http://uri.etsi.org/01903/v1.3.2#\" Id=\"Signature1045091\"&gt;
        &lt;ds:SignedInfo Id=\"Signature-SignedInfo601725\"&gt;
        &lt;ds:CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"&gt;&lt;/ds:CanonicalizationMethod&gt;
        &lt;ds:SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"&gt;&lt;/ds:SignatureMethod&gt;
        &lt;ds:Reference Id=\"SignedPropertiesID239839\" Type=\"http://uri.etsi.org/01903#SignedProperties\" URI=\"#Signature1045091-SignedProperties836357\"&gt;
        &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"&gt;&lt;/ds:DigestMethod&gt;
        &lt;ds:DigestValue&gt;MnIK5RfVmbYVxP+TMe0pVgpYJEM=&lt;/ds:DigestValue&gt;
        &lt;/ds:Reference&gt;
        &lt;ds:Reference URI=\"#Certificate1593074\"&gt;
        &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"&gt;&lt;/ds:DigestMethod&gt;
        &lt;ds:DigestValue&gt;nVizRbnLCJNqrttEXqbYW9csutY=&lt;/ds:DigestValue&gt;
        &lt;/ds:Reference&gt;
        &lt;ds:Reference Id=\"Reference-ID-623928\" URI=\"#comprobante\"&gt;
        &lt;ds:Transforms&gt;
        &lt;ds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"&gt;&lt;/ds:Transform&gt;
        &lt;/ds:Transforms&gt;
        &lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"&gt;&lt;/ds:DigestMethod&gt;
        &lt;ds:DigestValue&gt;uZZlQDETRz2ySjoCRgNiupguX4g=&lt;/ds:DigestValue&gt;
        &lt;/ds:Reference&gt;
        &lt;/ds:SignedInfo&gt;
        &lt;ds:SignatureValue Id=\"SignatureValue454111\"&gt;
        pVNXwneGQW6fRL/4j8I77yHKrL823NgTmKu1uc1NWNsghhgnjmwZnQbrSB3Xw9aFhYGXbWAVMKxA
        o/scbPMpzXRh50NUJrSOnF8nmDK+Zysw14iVRLbXcyN8fC1QO1F+OkStwSTQQou/mKRwoA1RzZwp
        KqQ6W8QB7jU3EAaq51kOeOtIC+7ohCAVnP87Rm72inQpvTXIY/OV3H1B7pWSqXoymaFSnWZ4XzvB
        +ALGHYtLCviJrv1lY1zpmz8J9zkjyBARQhSNCGGmVIOk0IvbiWdy9a6iIbm0AwXB17hEyWxHBQMa
        Zw4sZOVh2hP4RUWbm4Gcj/S5QSgJhU+qAjEeYQ==
        &lt;/ds:SignatureValue&gt;
        &lt;ds:KeyInfo Id=\"Certificate1593074\"&gt;
        &lt;ds:X509Data&gt;
        &lt;ds:X509Certificate&gt;
        MIIJ6zCCCNOgAwIBAgIEVM493jANBgkqhkiG9w0BAQsFADCBkzELMAkGA1UEBhMCRUMxGzAZBgNV
        BAoTElNFQ1VSSVRZIERBVEEgUy5BLjEwMC4GA1UECxMnRU5USURBRCBERSBDRVJUSUZJQ0FDSU9O
        IERFIElORk9STUFDSU9OMTUwMwYDVQQDEyxBVVRPUklEQUQgREUgQ0VSVElGSUNBQ0lPTiBTVUIg
        U0VDVVJJVFkgREFUQTAeFw0xNjA2MDMxOTI2MzVaFw0xODA2MDMxOTU2MzVaMIGYMQswCQYDVQQG
        EwJFQzEbMBkGA1UEChMSU0VDVVJJVFkgREFUQSBTLkEuMTAwLgYDVQQLEydFTlRJREFEIERFIENF
        UlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04xOjATBgNVBAUTDDAzMDYxNjE0NTIyMjAjBgNVBAMT
        HFJhbWlybyBQYXRyaWNpbyBBbmRpbm8gQm9yamEwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK
        AoIBAQCvMRbbfkmG7t1cnSTc/COJ5sSy2KTM1lBVidGd+bF/iMs61M7hTs46xIY/Wh18XN4MARCz
        PsPPXnwNq4sAItwPGxJkVKZ2IIJH//HyRkPGcNZZakPts8KKoyXE2OPgOsQvG/k8DVRFyDrYE6db
        OrZTxvxY2sY8lznIg1tHx0zjZqoybn5rmdXHA4dHRikQYng9fueyAtHiWawX60MSM/eG8B/ncOcz
        93h8MeVMJDWZsoHGBcSrWXqDi+4crERTHMCFNGDb+VRIzF658qIdPPgT/hfWdzmMJYgv22o+mUBc
        89DoM5onBb/DDBtuwmNNrzg1bioWS2fj1OkjgAi502vBAgMBAAGjggY+MIIGOjALBgNVHQ8EBAMC
        BeAwWQYIKwYBBQUHAQEETTBLMEkGCCsGAQUFBzABhj1odHRwOi8vb2NzcGd3LnNlY3VyaXR5ZGF0
        YS5uZXQuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9vY3NwMIHKBgNVHSAEgcIwgb8wPwYKKwYB
        BAGCpnICCjAxMC8GCCsGAQUFBwICMCMaIUNlcnRpZmljYWRvIGRlIE1pZW1icm8gZGUgRW1wcmVz
        YTB8BgorBgEEAYKmcgIEMG4wbAYIKwYBBQUHAgEWYGh0dHBzOi8vd3d3LnNlY3VyaXR5ZGF0YS5u
        ZXQuZWMvbGV5ZXNfbm9ybWF0aXZhcy9Qb2xpdGljYXMgZGUgQ2VydGlmaWNhZG8gTWllbWJybyBk
        ZSBFbXByZXNhLnBkZjBFBgorBgEEAYKmcgMKBDcTNVNFQ1VSSVRZIERBVEEgU0VHVVJJREFEIEVO
        IERBVE9TIFkgRklSTUEgRElHSVRBTCBTLkEuMB0GCisGAQQBgqZyAwsEDxMNMTc5MjI2MTg0ODAw
        MTAaBgorBgEEAYKmcgMBBAwTCjE3MTU5ODg0NzEwHwYKKwYBBAGCpnIDAgQREw9SYW1pcm8gUGF0
        cmljaW8wFgYKKwYBBAGCpnIDAwQIEwZBbmRpbm8wFQYKKwYBBAGCpnIDBAQHEwVCb3JqYTAjBgor
        BgEEAYKmcgMFBBUTE0Nvb3JkaW5hZG9yIEdlbmVyYWwwMAYKKwYBBAGCpnIDBwQiEyBQYWxvcmEg
        T2UyLTM3IFkgQXYuIFJpbyBBbWF6b25hczAWBgorBgEEAYKmcgMiBAgTBjE3MDUwMTAbBgorBgEE
        AYKmcgMIBA0TCzU5MzIzOTYzMTEwMBUGCisGAQQBgqZyAwkEBxMFUVVJVE8wFwYKKwYBBAGCpnID
        DAQJEwdFY3VhZG9yMCAGCisGAQQBgqZyAyAEEhMQMDAyMDAxMDAwMDAwMDAwMTATBgorBgEEAYKm
        cgMhBAUTA1BGWDAuBgNVHREEJzAlgSNwYXRyaWNpby5hbmRpbm9Ac2VjdXJpdHlkYXRhLm5ldC5l
        YzCCAnkGA1UdHwSCAnAwggJsMIICaKCCAmSgggJghj1odHRwOi8vb2NzcGd3LnNlY3VyaXR5ZGF0
        YS5uZXQuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9vY3NwhoHUbGRhcDovL2RpcmVjdC5zZWN1
        cml0eWRhdGEubmV0LmVjL2NuPUNSTDg1LGNuPUFVVE9SSURBRCUyMERFJTIwQ0VSVElGSUNBQ0lP
        TiUyMFNVQiUyMFNFQ1VSSVRZJTIwREFUQSxvdT1FTlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9O
        JTIwREUlMjBJTkZPUk1BQ0lPTixvPVNFQ1VSSVRZJTIwREFUQSUyMFMuQS4sYz1FQz9jZXJ0aWZp
        Y2F0ZVJldm9jYXRpb25MaXN0P2Jhc2WGgZ5odHRwczovL2RpcmVjdC5zZWN1cml0eWRhdGEubmV0
        LmVjL35jcmwvYXV0b3JpZGFkX2RlX2NlcnRpZmljYWNpb25fc3ViX3NlY3VyaXR5X2RhdGFfZW50
        aWRhZF9kZV9jZXJ0aWZpY2FjaW9uX2RlX2luZm9ybWFjaW9uX2N1cml0eV9kYXRhX3MuYS5fY19l
        Y19jcmxmaWxlLmNybKSBpjCBozELMAkGA1UEBhMCRUMxGzAZBgNVBAoTElNFQ1VSSVRZIERBVEEg
        Uy5BLjEwMC4GA1UECxMnRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OMTUw
        MwYDVQQDEyxBVVRPUklEQUQgREUgQ0VSVElGSUNBQ0lPTiBTVUIgU0VDVVJJVFkgREFUQTEOMAwG
        A1UEAxMFQ1JMODUwKwYDVR0QBCQwIoAPMjAxNjA2MDMxOTI2MzVagQ8yMDE4MDYwMzE5NTYzNVow
        HwYDVR0jBBgwFoAU9y9M4HXnYqN4llsGti5xO8xsP5AwHQYDVR0OBBYEFOodsnikhv06ozDa503A
        exi8D6X3MAkGA1UdEwQCMAAwGQYJKoZIhvZ9B0EABAwwChsEVjguMQMCA6gwDQYJKoZIhvcNAQEL
        BQADggEBACzN1CcCzjbz14qfPFZtpoS6CvoNwAJM1YiRakjL2duTrlRYhxkgTgydR9kFILJoUjzu
        dqc8EveTQqquQ5DjA4eotu6JAETqGiEO0vA90AdNHIiKtNmjkWgklzC4xsEiS71svbDSW3Tpp44v
        SCQNryo6f2wqjcc1ktYiudA3wUWbHz5v+Oxek7fmrbrmYksbkA5qdXqbhuYu4u7SvTN8abVTGdP3
        5asXon2+7mzODQJa1GcIg3C42wIYWLcUOLbORn1+qGBpn6Ho/IylEPIGmEYCqJmUQdI6M8wgyN+W
        wbxfcBssuSJ4eSG3AzsiaGaNocn1RNRBXxh6oVcnGqAOdw0=
        &lt;/ds:X509Certificate&gt;
        &lt;/ds:X509Data&gt;
        &lt;ds:KeyValue&gt;
        &lt;ds:RSAKeyValue&gt;
        &lt;ds:Modulus&gt;
        rzEW235Jhu7dXJ0k3PwjiebEstikzNZQVYnRnfmxf4jLOtTO4U7OOsSGP1odfFzeDAEQsz7Dz158
        DauLACLcDxsSZFSmdiCCR//x8kZDxnDWWWpD7bPCiqMlxNjj4DrELxv5PA1URcg62BOnWzq2U8b8
        WNrGPJc5yINbR8dM42aqMm5+a5nVxwOHR0YpEGJ4PX7nsgLR4lmsF+tDEjP3hvAf53DnM/d4fDHl
        TCQ1mbKBxgXEq1l6g4vuHKxEUxzAhTRg2/lUSMxeufKiHTz4E/4X1nc5jCWIL9tqPplAXPPQ6DOa
        JwW/wwwbbsJjTa84NW4qFktn49TpI4AIudNrwQ==
        &lt;/ds:Modulus&gt;
        &lt;ds:Exponent&gt;AQAB&lt;/ds:Exponent&gt;
        &lt;/ds:RSAKeyValue&gt;
        &lt;/ds:KeyValue&gt;
        &lt;/ds:KeyInfo&gt;
        &lt;ds:Object Id=\"Signature1045091-Object57467\"&gt;&lt;etsi:QualifyingProperties Target=\"#Signature1045091\"&gt;&lt;etsi:SignedProperties Id=\"Signature1045091-SignedProperties836357\"&gt;&lt;etsi:SignedSignatureProperties&gt;&lt;etsi:SigningTime&gt;2016-11-24T12:22:53-05:00&lt;/etsi:SigningTime&gt;&lt;etsi:SigningCertificate&gt;&lt;etsi:Cert&gt;&lt;etsi:CertDigest&gt;&lt;ds:DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"&gt;&lt;/ds:DigestMethod&gt;&lt;ds:DigestValue&gt;Bj57rczVijQfNbqegTH0F53Tmek=&lt;/ds:DigestValue&gt;&lt;/etsi:CertDigest&gt;&lt;etsi:IssuerSerial&gt;&lt;ds:X509IssuerName&gt;CN=AUTORIDAD DE CERTIFICACION SUB SECURITY DATA,OU=ENTIDAD DE CERTIFICACION DE INFORMACION,O=SECURITY DATA S.A.,C=EC&lt;/ds:X509IssuerName&gt;&lt;ds:X509SerialNumber&gt;1422802398&lt;/ds:X509SerialNumber&gt;&lt;/etsi:IssuerSerial&gt;&lt;/etsi:Cert&gt;&lt;/etsi:SigningCertificate&gt;&lt;/etsi:SignedSignatureProperties&gt;&lt;etsi:SignedDataObjectProperties&gt;&lt;etsi:DataObjectFormat ObjectReference=\"#Reference-ID-623928\"&gt;&lt;etsi:Description&gt;contenido comprobante&lt;/etsi:Description&gt;&lt;etsi:MimeType&gt;text/xml&lt;/etsi:MimeType&gt;&lt;/etsi:DataObjectFormat&gt;&lt;/etsi:SignedDataObjectProperties&gt;&lt;/etsi:SignedProperties&gt;&lt;/etsi:QualifyingProperties&gt;&lt;/ds:Object&gt;&lt;/ds:Signature&gt;&lt;/factura&gt;]]&gt;&lt;/comprobante&gt;
        &lt;/autorizacion&gt;
      "
    }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>

<span class="n">import_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"electronic_document"</span><span class="p">:</span> <span class="s">"</span><span class="err">
</span><span class="s">      &lt;?xml version=</span><span class="se">\"</span><span class="s">1.0</span><span class="se">\"</span><span class="s"> encoding=</span><span class="se">\"</span><span class="s">UTF-8</span><span class="se">\"</span><span class="s">?&gt;</span><span class="err">
</span><span class="s">      &lt;autorizacion&gt;</span><span class="err">
</span><span class="s">          &lt;estado&gt;AUTORIZADO&lt;/estado&gt;</span><span class="err">
</span><span class="s">          &lt;numeroAutorizacion&gt;2411201601200100200000939717922618485&lt;/numeroAutorizacion&gt;</span><span class="err">
</span><span class="s">          &lt;fechaAutorizacion class=</span><span class="se">\"</span><span class="s">fechaAutorizacion</span><span class="se">\"</span><span class="s">&gt;24/11/2016 12:49:35 PM&lt;/fechaAutorizacion&gt;</span><span class="err">
</span><span class="s">          &lt;comprobante&gt;&lt;![CDATA[&lt;?xml version=</span><span class="se">\"</span><span class="s">1.0</span><span class="se">\"</span><span class="s"> encoding=</span><span class="se">\"</span><span class="s">UTF-8</span><span class="se">\"</span><span class="s">?&gt;</span><span class="err">
</span><span class="s">      &lt;factura id=</span><span class="se">\"</span><span class="s">comprobante</span><span class="se">\"</span><span class="s"> version=</span><span class="se">\"</span><span class="s">1.0.0</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">          &lt;infoTributaria&gt;</span><span class="err">
</span><span class="s">              &lt;ambiente&gt;2&lt;/ambiente&gt;</span><span class="err">
</span><span class="s">              &lt;tipoEmision&gt;1&lt;/tipoEmision&gt;</span><span class="err">
</span><span class="s">              &lt;razonSocial&gt;Acme Corp.&lt;/razonSocial&gt;</span><span class="err">
</span><span class="s">              &lt;nombreComercial&gt;Acme&lt;/nombreComercial&gt;</span><span class="err">
</span><span class="s">              &lt;ruc&gt;99999999999999&lt;/ruc&gt;</span><span class="err">
</span><span class="s">              &lt;claveAcceso&gt;241120160199999999999990020000093971234567814&lt;/claveAcceso&gt;</span><span class="err">
</span><span class="s">              &lt;codDoc&gt;01&lt;/codDoc&gt;</span><span class="err">
</span><span class="s">              &lt;estab&gt;001&lt;/estab&gt;</span><span class="err">
</span><span class="s">              &lt;ptoEmi&gt;002&lt;/ptoEmi&gt;</span><span class="err">
</span><span class="s">              &lt;secuencial&gt;000009397&lt;/secuencial&gt;</span><span class="err">
</span><span class="s">              &lt;dirMatriz&gt;Palora Y Amazonas&lt;/dirMatriz&gt;</span><span class="err">
</span><span class="s">          &lt;/infoTributaria&gt;</span><span class="err">
</span><span class="s">          &lt;infoFactura&gt;</span><span class="err">
</span><span class="s">              &lt;fechaEmision&gt;24/11/2016&lt;/fechaEmision&gt;</span><span class="err">
</span><span class="s">              &lt;dirEstablecimiento&gt;Palora 37 Y Amazonas&lt;/dirEstablecimiento&gt;</span><span class="err">
</span><span class="s">              &lt;obligadoContabilidad&gt;SI&lt;/obligadoContabilidad&gt;</span><span class="err">
</span><span class="s">              &lt;tipoIdentificacionComprador&gt;04&lt;/tipoIdentificacionComprador&gt;</span><span class="err">
</span><span class="s">              &lt;razonSocialComprador&gt;Datil S. A.&lt;/razonSocialComprador&gt;</span><span class="err">
</span><span class="s">              &lt;identificacionComprador&gt;0992712555001&lt;/identificacionComprador&gt;</span><span class="err">
</span><span class="s">              &lt;totalSinImpuestos&gt;534.60&lt;/totalSinImpuestos&gt;</span><span class="err">
</span><span class="s">              &lt;totalDescuento&gt;59.40&lt;/totalDescuento&gt;</span><span class="err">
</span><span class="s">              &lt;totalConImpuestos&gt;</span><span class="err">
</span><span class="s">                  &lt;totalImpuesto&gt;</span><span class="err">
</span><span class="s">                      &lt;codigo&gt;2&lt;/codigo&gt;</span><span class="err">
</span><span class="s">                      &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;</span><span class="err">
</span><span class="s">                      &lt;baseImponible&gt;534.60&lt;/baseImponible&gt;</span><span class="err">
</span><span class="s">                      &lt;valor&gt;74.84&lt;/valor&gt;</span><span class="err">
</span><span class="s">                  &lt;/totalImpuesto&gt;</span><span class="err">
</span><span class="s">              &lt;/totalConImpuestos&gt;</span><span class="err">
</span><span class="s">              &lt;propina&gt;0.00&lt;/propina&gt;</span><span class="err">
</span><span class="s">              &lt;importeTotal&gt;609.44&lt;/importeTotal&gt;</span><span class="err">
</span><span class="s">              &lt;moneda&gt;DOLAR&lt;/moneda&gt;</span><span class="err">
</span><span class="s">              &lt;pagos&gt;</span><span class="err">
</span><span class="s">                  &lt;pago&gt;</span><span class="err">
</span><span class="s">                      &lt;formaPago&gt;20&lt;/formaPago&gt;</span><span class="err">
</span><span class="s">                      &lt;total&gt;609.44&lt;/total&gt;</span><span class="err">
</span><span class="s">                      &lt;plazo&gt;1&lt;/plazo&gt;</span><span class="err">
</span><span class="s">                      &lt;unidadTiempo&gt;dias&lt;/unidadTiempo&gt;</span><span class="err">
</span><span class="s">                  &lt;/pago&gt;</span><span class="err">
</span><span class="s">              &lt;/pagos&gt;</span><span class="err">
</span><span class="s">          &lt;/infoFactura&gt;</span><span class="err">
</span><span class="s">          &lt;detalles&gt;</span><span class="err">
</span><span class="s">              &lt;detalle&gt;</span><span class="err">
</span><span class="s">                  &lt;codigoPrincipal&gt;12-01-02-001&lt;/codigoPrincipal&gt;</span><span class="err">
</span><span class="s">                  &lt;descripcion&gt;TNT&lt;/descripcion&gt;</span><span class="err">
</span><span class="s">                  &lt;cantidad&gt;22&lt;/cantidad&gt;</span><span class="err">
</span><span class="s">                  &lt;precioUnitario&gt;10.00&lt;/precioUnitario&gt;</span><span class="err">
</span><span class="s">                  &lt;descuento&gt;22.00&lt;/descuento&gt;</span><span class="err">
</span><span class="s">                  &lt;precioTotalSinImpuesto&gt;198.00&lt;/precioTotalSinImpuesto&gt;</span><span class="err">
</span><span class="s">                  &lt;impuestos&gt;</span><span class="err">
</span><span class="s">                      &lt;impuesto&gt;</span><span class="err">
</span><span class="s">                          &lt;codigo&gt;2&lt;/codigo&gt;</span><span class="err">
</span><span class="s">                          &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;</span><span class="err">
</span><span class="s">                          &lt;tarifa&gt;14&lt;/tarifa&gt;</span><span class="err">
</span><span class="s">                          &lt;baseImponible&gt;198.00&lt;/baseImponible&gt;</span><span class="err">
</span><span class="s">                          &lt;valor&gt;27.72&lt;/valor&gt;</span><span class="err">
</span><span class="s">                      &lt;/impuesto&gt;</span><span class="err">
</span><span class="s">                  &lt;/impuestos&gt;</span><span class="err">
</span><span class="s">              &lt;/detalle&gt;</span><span class="err">
</span><span class="s">              &lt;detalle&gt;</span><span class="err">
</span><span class="s">                  &lt;codigoPrincipal&gt;4880102001&lt;/codigoPrincipal&gt;</span><span class="err">
</span><span class="s">                  &lt;descripcion&gt;Fósforos de seguridad&lt;/descripcion&gt;</span><span class="err">
</span><span class="s">                  &lt;cantidad&gt;22&lt;/cantidad&gt;</span><span class="err">
</span><span class="s">                  &lt;precioUnitario&gt;17.00&lt;/precioUnitario&gt;</span><span class="err">
</span><span class="s">                  &lt;descuento&gt;37.40&lt;/descuento&gt;</span><span class="err">
</span><span class="s">                  &lt;precioTotalSinImpuesto&gt;336.60&lt;/precioTotalSinImpuesto&gt;</span><span class="err">
</span><span class="s">                  &lt;impuestos&gt;</span><span class="err">
</span><span class="s">                      &lt;impuesto&gt;</span><span class="err">
</span><span class="s">                          &lt;codigo&gt;2&lt;/codigo&gt;</span><span class="err">
</span><span class="s">                          &lt;codigoPorcentaje&gt;3&lt;/codigoPorcentaje&gt;</span><span class="err">
</span><span class="s">                          &lt;tarifa&gt;14&lt;/tarifa&gt;</span><span class="err">
</span><span class="s">                          &lt;baseImponible&gt;336.60&lt;/baseImponible&gt;</span><span class="err">
</span><span class="s">                          &lt;valor&gt;47.12&lt;/valor&gt;</span><span class="err">
</span><span class="s">                      &lt;/impuesto&gt;</span><span class="err">
</span><span class="s">                  &lt;/impuestos&gt;</span><span class="err">
</span><span class="s">              &lt;/detalle&gt;</span><span class="err">
</span><span class="s">          &lt;/detalles&gt;</span><span class="err">
</span><span class="s">          &lt;infoAdicional&gt;</span><span class="err">
</span><span class="s">              &lt;campoAdicional nombre=</span><span class="se">\"</span><span class="s">dirCliente</span><span class="se">\"</span><span class="s">&gt;The cliff&lt;/campoAdicional&gt;</span><span class="err">
</span><span class="s">              &lt;campoAdicional nombre=</span><span class="se">\"</span><span class="s">telfCliente</span><span class="se">\"</span><span class="s">&gt;555 5555&lt;/campoAdicional&gt;</span><span class="err">
</span><span class="s">              &lt;campoAdicional nombre=</span><span class="se">\"</span><span class="s">ciudadCliente</span><span class="se">\"</span><span class="s">&gt;Guayaquil&lt;/campoAdicional&gt;</span><span class="err">
</span><span class="s">              &lt;campoAdicional nombre=</span><span class="se">\"</span><span class="s">observacion</span><span class="se">\"</span><span class="s">&gt;Manejar la carga con precaución&lt;/campoAdicional&gt;</span><span class="err">
</span><span class="s">          &lt;/infoAdicional&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Signature xmlns:ds=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#</span><span class="se">\"</span><span class="s"> xmlns:etsi=</span><span class="se">\"</span><span class="s">http://uri.etsi.org/01903/v1.3.2#</span><span class="se">\"</span><span class="s"> Id=</span><span class="se">\"</span><span class="s">Signature1045091</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:SignedInfo Id=</span><span class="se">\"</span><span class="s">Signature-SignedInfo601725</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:CanonicalizationMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/TR/2001/REC-xml-c14n-20010315</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:CanonicalizationMethod&gt;</span><span class="err">
</span><span class="s">      &lt;ds:SignatureMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#rsa-sha1</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:SignatureMethod&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Reference Id=</span><span class="se">\"</span><span class="s">SignedPropertiesID239839</span><span class="se">\"</span><span class="s"> Type=</span><span class="se">\"</span><span class="s">http://uri.etsi.org/01903#SignedProperties</span><span class="se">\"</span><span class="s"> URI=</span><span class="se">\"</span><span class="s">#Signature1045091-SignedProperties836357</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#sha1</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:DigestMethod&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestValue&gt;MnIK5RfVmbYVxP+TMe0pVgpYJEM=&lt;/ds:DigestValue&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:Reference&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Reference URI=</span><span class="se">\"</span><span class="s">#Certificate1593074</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#sha1</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:DigestMethod&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestValue&gt;nVizRbnLCJNqrttEXqbYW9csutY=&lt;/ds:DigestValue&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:Reference&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Reference Id=</span><span class="se">\"</span><span class="s">Reference-ID-623928</span><span class="se">\"</span><span class="s"> URI=</span><span class="se">\"</span><span class="s">#comprobante</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Transforms&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Transform Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#enveloped-signature</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:Transform&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:Transforms&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#sha1</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:DigestMethod&gt;</span><span class="err">
</span><span class="s">      &lt;ds:DigestValue&gt;uZZlQDETRz2ySjoCRgNiupguX4g=&lt;/ds:DigestValue&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:Reference&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:SignedInfo&gt;</span><span class="err">
</span><span class="s">      &lt;ds:SignatureValue Id=</span><span class="se">\"</span><span class="s">SignatureValue454111</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      pVNXwneGQW6fRL/4j8I77yHKrL823NgTmKu1uc1NWNsghhgnjmwZnQbrSB3Xw9aFhYGXbWAVMKxA</span><span class="err">
</span><span class="s">      o/scbPMpzXRh50NUJrSOnF8nmDK+Zysw14iVRLbXcyN8fC1QO1F+OkStwSTQQou/mKRwoA1RzZwp</span><span class="err">
</span><span class="s">      KqQ6W8QB7jU3EAaq51kOeOtIC+7ohCAVnP87Rm72inQpvTXIY/OV3H1B7pWSqXoymaFSnWZ4XzvB</span><span class="err">
</span><span class="s">      +ALGHYtLCviJrv1lY1zpmz8J9zkjyBARQhSNCGGmVIOk0IvbiWdy9a6iIbm0AwXB17hEyWxHBQMa</span><span class="err">
</span><span class="s">      Zw4sZOVh2hP4RUWbm4Gcj/S5QSgJhU+qAjEeYQ==</span><span class="err">
</span><span class="s">      &lt;/ds:SignatureValue&gt;</span><span class="err">
</span><span class="s">      &lt;ds:KeyInfo Id=</span><span class="se">\"</span><span class="s">Certificate1593074</span><span class="se">\"</span><span class="s">&gt;</span><span class="err">
</span><span class="s">      &lt;ds:X509Data&gt;</span><span class="err">
</span><span class="s">      &lt;ds:X509Certificate&gt;</span><span class="err">
</span><span class="s">      MIIJ6zCCCNOgAwIBAgIEVM493jANBgkqhkiG9w0BAQsFADCBkzELMAkGA1UEBhMCRUMxGzAZBgNV</span><span class="err">
</span><span class="s">      BAoTElNFQ1VSSVRZIERBVEEgUy5BLjEwMC4GA1UECxMnRU5USURBRCBERSBDRVJUSUZJQ0FDSU9O</span><span class="err">
</span><span class="s">      IERFIElORk9STUFDSU9OMTUwMwYDVQQDEyxBVVRPUklEQUQgREUgQ0VSVElGSUNBQ0lPTiBTVUIg</span><span class="err">
</span><span class="s">      U0VDVVJJVFkgREFUQTAeFw0xNjA2MDMxOTI2MzVaFw0xODA2MDMxOTU2MzVaMIGYMQswCQYDVQQG</span><span class="err">
</span><span class="s">      EwJFQzEbMBkGA1UEChMSU0VDVVJJVFkgREFUQSBTLkEuMTAwLgYDVQQLEydFTlRJREFEIERFIENF</span><span class="err">
</span><span class="s">      UlRJRklDQUNJT04gREUgSU5GT1JNQUNJT04xOjATBgNVBAUTDDAzMDYxNjE0NTIyMjAjBgNVBAMT</span><span class="err">
</span><span class="s">      HFJhbWlybyBQYXRyaWNpbyBBbmRpbm8gQm9yamEwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK</span><span class="err">
</span><span class="s">      AoIBAQCvMRbbfkmG7t1cnSTc/COJ5sSy2KTM1lBVidGd+bF/iMs61M7hTs46xIY/Wh18XN4MARCz</span><span class="err">
</span><span class="s">      PsPPXnwNq4sAItwPGxJkVKZ2IIJH//HyRkPGcNZZakPts8KKoyXE2OPgOsQvG/k8DVRFyDrYE6db</span><span class="err">
</span><span class="s">      OrZTxvxY2sY8lznIg1tHx0zjZqoybn5rmdXHA4dHRikQYng9fueyAtHiWawX60MSM/eG8B/ncOcz</span><span class="err">
</span><span class="s">      93h8MeVMJDWZsoHGBcSrWXqDi+4crERTHMCFNGDb+VRIzF658qIdPPgT/hfWdzmMJYgv22o+mUBc</span><span class="err">
</span><span class="s">      89DoM5onBb/DDBtuwmNNrzg1bioWS2fj1OkjgAi502vBAgMBAAGjggY+MIIGOjALBgNVHQ8EBAMC</span><span class="err">
</span><span class="s">      BeAwWQYIKwYBBQUHAQEETTBLMEkGCCsGAQUFBzABhj1odHRwOi8vb2NzcGd3LnNlY3VyaXR5ZGF0</span><span class="err">
</span><span class="s">      YS5uZXQuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9vY3NwMIHKBgNVHSAEgcIwgb8wPwYKKwYB</span><span class="err">
</span><span class="s">      BAGCpnICCjAxMC8GCCsGAQUFBwICMCMaIUNlcnRpZmljYWRvIGRlIE1pZW1icm8gZGUgRW1wcmVz</span><span class="err">
</span><span class="s">      YTB8BgorBgEEAYKmcgIEMG4wbAYIKwYBBQUHAgEWYGh0dHBzOi8vd3d3LnNlY3VyaXR5ZGF0YS5u</span><span class="err">
</span><span class="s">      ZXQuZWMvbGV5ZXNfbm9ybWF0aXZhcy9Qb2xpdGljYXMgZGUgQ2VydGlmaWNhZG8gTWllbWJybyBk</span><span class="err">
</span><span class="s">      ZSBFbXByZXNhLnBkZjBFBgorBgEEAYKmcgMKBDcTNVNFQ1VSSVRZIERBVEEgU0VHVVJJREFEIEVO</span><span class="err">
</span><span class="s">      IERBVE9TIFkgRklSTUEgRElHSVRBTCBTLkEuMB0GCisGAQQBgqZyAwsEDxMNMTc5MjI2MTg0ODAw</span><span class="err">
</span><span class="s">      MTAaBgorBgEEAYKmcgMBBAwTCjE3MTU5ODg0NzEwHwYKKwYBBAGCpnIDAgQREw9SYW1pcm8gUGF0</span><span class="err">
</span><span class="s">      cmljaW8wFgYKKwYBBAGCpnIDAwQIEwZBbmRpbm8wFQYKKwYBBAGCpnIDBAQHEwVCb3JqYTAjBgor</span><span class="err">
</span><span class="s">      BgEEAYKmcgMFBBUTE0Nvb3JkaW5hZG9yIEdlbmVyYWwwMAYKKwYBBAGCpnIDBwQiEyBQYWxvcmEg</span><span class="err">
</span><span class="s">      T2UyLTM3IFkgQXYuIFJpbyBBbWF6b25hczAWBgorBgEEAYKmcgMiBAgTBjE3MDUwMTAbBgorBgEE</span><span class="err">
</span><span class="s">      AYKmcgMIBA0TCzU5MzIzOTYzMTEwMBUGCisGAQQBgqZyAwkEBxMFUVVJVE8wFwYKKwYBBAGCpnID</span><span class="err">
</span><span class="s">      DAQJEwdFY3VhZG9yMCAGCisGAQQBgqZyAyAEEhMQMDAyMDAxMDAwMDAwMDAwMTATBgorBgEEAYKm</span><span class="err">
</span><span class="s">      cgMhBAUTA1BGWDAuBgNVHREEJzAlgSNwYXRyaWNpby5hbmRpbm9Ac2VjdXJpdHlkYXRhLm5ldC5l</span><span class="err">
</span><span class="s">      YzCCAnkGA1UdHwSCAnAwggJsMIICaKCCAmSgggJghj1odHRwOi8vb2NzcGd3LnNlY3VyaXR5ZGF0</span><span class="err">
</span><span class="s">      YS5uZXQuZWMvZWpiY2EvcHVibGljd2ViL3N0YXR1cy9vY3NwhoHUbGRhcDovL2RpcmVjdC5zZWN1</span><span class="err">
</span><span class="s">      cml0eWRhdGEubmV0LmVjL2NuPUNSTDg1LGNuPUFVVE9SSURBRCUyMERFJTIwQ0VSVElGSUNBQ0lP</span><span class="err">
</span><span class="s">      TiUyMFNVQiUyMFNFQ1VSSVRZJTIwREFUQSxvdT1FTlRJREFEJTIwREUlMjBDRVJUSUZJQ0FDSU9O</span><span class="err">
</span><span class="s">      JTIwREUlMjBJTkZPUk1BQ0lPTixvPVNFQ1VSSVRZJTIwREFUQSUyMFMuQS4sYz1FQz9jZXJ0aWZp</span><span class="err">
</span><span class="s">      Y2F0ZVJldm9jYXRpb25MaXN0P2Jhc2WGgZ5odHRwczovL2RpcmVjdC5zZWN1cml0eWRhdGEubmV0</span><span class="err">
</span><span class="s">      LmVjL35jcmwvYXV0b3JpZGFkX2RlX2NlcnRpZmljYWNpb25fc3ViX3NlY3VyaXR5X2RhdGFfZW50</span><span class="err">
</span><span class="s">      aWRhZF9kZV9jZXJ0aWZpY2FjaW9uX2RlX2luZm9ybWFjaW9uX2N1cml0eV9kYXRhX3MuYS5fY19l</span><span class="err">
</span><span class="s">      Y19jcmxmaWxlLmNybKSBpjCBozELMAkGA1UEBhMCRUMxGzAZBgNVBAoTElNFQ1VSSVRZIERBVEEg</span><span class="err">
</span><span class="s">      Uy5BLjEwMC4GA1UECxMnRU5USURBRCBERSBDRVJUSUZJQ0FDSU9OIERFIElORk9STUFDSU9OMTUw</span><span class="err">
</span><span class="s">      MwYDVQQDEyxBVVRPUklEQUQgREUgQ0VSVElGSUNBQ0lPTiBTVUIgU0VDVVJJVFkgREFUQTEOMAwG</span><span class="err">
</span><span class="s">      A1UEAxMFQ1JMODUwKwYDVR0QBCQwIoAPMjAxNjA2MDMxOTI2MzVagQ8yMDE4MDYwMzE5NTYzNVow</span><span class="err">
</span><span class="s">      HwYDVR0jBBgwFoAU9y9M4HXnYqN4llsGti5xO8xsP5AwHQYDVR0OBBYEFOodsnikhv06ozDa503A</span><span class="err">
</span><span class="s">      exi8D6X3MAkGA1UdEwQCMAAwGQYJKoZIhvZ9B0EABAwwChsEVjguMQMCA6gwDQYJKoZIhvcNAQEL</span><span class="err">
</span><span class="s">      BQADggEBACzN1CcCzjbz14qfPFZtpoS6CvoNwAJM1YiRakjL2duTrlRYhxkgTgydR9kFILJoUjzu</span><span class="err">
</span><span class="s">      dqc8EveTQqquQ5DjA4eotu6JAETqGiEO0vA90AdNHIiKtNmjkWgklzC4xsEiS71svbDSW3Tpp44v</span><span class="err">
</span><span class="s">      SCQNryo6f2wqjcc1ktYiudA3wUWbHz5v+Oxek7fmrbrmYksbkA5qdXqbhuYu4u7SvTN8abVTGdP3</span><span class="err">
</span><span class="s">      5asXon2+7mzODQJa1GcIg3C42wIYWLcUOLbORn1+qGBpn6Ho/IylEPIGmEYCqJmUQdI6M8wgyN+W</span><span class="err">
</span><span class="s">      wbxfcBssuSJ4eSG3AzsiaGaNocn1RNRBXxh6oVcnGqAOdw0=</span><span class="err">
</span><span class="s">      &lt;/ds:X509Certificate&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:X509Data&gt;</span><span class="err">
</span><span class="s">      &lt;ds:KeyValue&gt;</span><span class="err">
</span><span class="s">      &lt;ds:RSAKeyValue&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Modulus&gt;</span><span class="err">
</span><span class="s">      rzEW235Jhu7dXJ0k3PwjiebEstikzNZQVYnRnfmxf4jLOtTO4U7OOsSGP1odfFzeDAEQsz7Dz158</span><span class="err">
</span><span class="s">      DauLACLcDxsSZFSmdiCCR//x8kZDxnDWWWpD7bPCiqMlxNjj4DrELxv5PA1URcg62BOnWzq2U8b8</span><span class="err">
</span><span class="s">      WNrGPJc5yINbR8dM42aqMm5+a5nVxwOHR0YpEGJ4PX7nsgLR4lmsF+tDEjP3hvAf53DnM/d4fDHl</span><span class="err">
</span><span class="s">      TCQ1mbKBxgXEq1l6g4vuHKxEUxzAhTRg2/lUSMxeufKiHTz4E/4X1nc5jCWIL9tqPplAXPPQ6DOa</span><span class="err">
</span><span class="s">      JwW/wwwbbsJjTa84NW4qFktn49TpI4AIudNrwQ==</span><span class="err">
</span><span class="s">      &lt;/ds:Modulus&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Exponent&gt;AQAB&lt;/ds:Exponent&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:RSAKeyValue&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:KeyValue&gt;</span><span class="err">
</span><span class="s">      &lt;/ds:KeyInfo&gt;</span><span class="err">
</span><span class="s">      &lt;ds:Object Id=</span><span class="se">\"</span><span class="s">Signature1045091-Object57467</span><span class="se">\"</span><span class="s">&gt;&lt;etsi:QualifyingProperties Target=</span><span class="se">\"</span><span class="s">#Signature1045091</span><span class="se">\"</span><span class="s">&gt;&lt;etsi:SignedProperties Id=</span><span class="se">\"</span><span class="s">Signature1045091-SignedProperties836357</span><span class="se">\"</span><span class="s">&gt;&lt;etsi:SignedSignatureProperties&gt;&lt;etsi:SigningTime&gt;2016-11-24T12:22:53-05:00&lt;/etsi:SigningTime&gt;&lt;etsi:SigningCertificate&gt;&lt;etsi:Cert&gt;&lt;etsi:CertDigest&gt;&lt;ds:DigestMethod Algorithm=</span><span class="se">\"</span><span class="s">http://www.w3.org/2000/09/xmldsig#sha1</span><span class="se">\"</span><span class="s">&gt;&lt;/ds:DigestMethod&gt;&lt;ds:DigestValue&gt;Bj57rczVijQfNbqegTH0F53Tmek=&lt;/ds:DigestValue&gt;&lt;/etsi:CertDigest&gt;&lt;etsi:IssuerSerial&gt;&lt;ds:X509IssuerName&gt;CN=AUTORIDAD DE CERTIFICACION SUB SECURITY DATA,OU=ENTIDAD DE CERTIFICACION DE INFORMACION,O=SECURITY DATA S.A.,C=EC&lt;/ds:X509IssuerName&gt;&lt;ds:X509SerialNumber&gt;1422802398&lt;/ds:X509SerialNumber&gt;&lt;/etsi:IssuerSerial&gt;&lt;/etsi:Cert&gt;&lt;/etsi:SigningCertificate&gt;&lt;/etsi:SignedSignatureProperties&gt;&lt;etsi:SignedDataObjectProperties&gt;&lt;etsi:DataObjectFormat ObjectReference=</span><span class="se">\"</span><span class="s">#Reference-ID-623928</span><span class="se">\"</span><span class="s">&gt;&lt;etsi:Description&gt;contenido comprobante&lt;/etsi:Description&gt;&lt;etsi:MimeType&gt;text/xml&lt;/etsi:MimeType&gt;&lt;/etsi:DataObjectFormat&gt;&lt;/etsi:SignedDataObjectProperties&gt;&lt;/etsi:SignedProperties&gt;&lt;/etsi:QualifyingProperties&gt;&lt;/ds:Object&gt;&lt;/ds:Signature&gt;&lt;/factura&gt;]]&gt;&lt;/comprobante&gt;</span><span class="err">
</span><span class="s">      &lt;/autorizacion&gt;</span><span class="err">
</span><span class="s">    "</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://api.datil.co/locations/:location-id/purchases/invoices/imports"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">import_data</span><span class="p">))</span>
</code></pre>

<p>Es necesario enviar el XML que representa al documento electrónico autorizado,
para obtener la información de la autorización.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><span class="dt-attr">electronic_document</span><p class="dt-data-param-required">requerido</p></td>
<td>Documento electrónico autorizado</td>
</tr>
</tbody></table>

<h4 id="respuesta">Respuesta</h4>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="mi">2389866</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="s2">"2017-01-26T23:31:18.872246+00:00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"customer"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="s2">"VICTOR EMILIO ESTRADA 112 Y CIRCUNVALACION NORTE EDIFICIO C3 PISO 2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"business"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"juliana.toala@datilmedia.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"DATILMEDIA S.A."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="s2">"0990289327"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tax_id"</span><span class="p">:</span><span class="s2">"0992712554001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tax_id_type"</span><span class="p">:</span><span class="s2">"04"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"0ca59ad093474d4889974fbabd71cdb7"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"additional_information"</span><span class="p">:[</span><span class="w">

      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"WEB CERTIFICATES"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"discount"</span><span class="p">:</span><span class="s2">"22.00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">225858</span><span class="p">,</span><span class="w">
      </span><span class="nt">"product_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"22.000000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sk"</span><span class="p">:</span><span class="s2">"12-01-02-001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"subtotal"</span><span class="p">:</span><span class="s2">"198.00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"taxes"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"1400.00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"taxable_base"</span><span class="p">:</span><span class="s2">"198.00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total"</span><span class="p">:</span><span class="s2">"27.72"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="s2">"225.72"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"unit_price"</span><span class="p">:</span><span class="s2">"10.000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"additional_information"</span><span class="p">:[</span><span class="w">

      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"SOPORTE CERT  BAJO VOL 1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"discount"</span><span class="p">:</span><span class="s2">"37.40"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">225859</span><span class="p">,</span><span class="w">
      </span><span class="nt">"product_id"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"quantity"</span><span class="p">:</span><span class="s2">"22.000000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sk"</span><span class="p">:</span><span class="s2">"4880102001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"subtotal"</span><span class="p">:</span><span class="s2">"336.60"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"taxes"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"1400.00"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"taxable_base"</span><span class="p">:</span><span class="s2">"336.60"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total"</span><span class="p">:</span><span class="s2">"47.12"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="s2">"383.72"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"unit_price"</span><span class="p">:</span><span class="s2">"17.000000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"number"</span><span class="p">:</span><span class="s2">"9397"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"payment_methods"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"amount"</span><span class="p">:</span><span class="s2">"609.44"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"due_date"</span><span class="p">:</span><span class="s2">"2016-11-25"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"method"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pos"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="mi">248</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"supplier"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="s2">"Palora y Amazonas"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"administrative_district_level_1"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"commercial_name"</span><span class="p">:</span><span class="s2">"Acme"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="s2">"ventas@acme.com.ec"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"legal_name"</span><span class="p">:</span><span class="s2">"Acme Corp"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locality"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"address"</span><span class="p">:</span><span class="s2">"Palora y Amazonas"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"administrative_district_level_1"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"administrative_district_level_2"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"001"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"3b604211-aca1-4348-8968-6f6b71f60555"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"tax_identification"</span><span class="p">:</span><span class="s2">"9999999999999"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"totals"</span><span class="p">:{</span><span class="w">
    </span><span class="nt">"discount"</span><span class="p">:</span><span class="s2">"59.40"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subtotal"</span><span class="p">:</span><span class="s2">"534.60"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taxes"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"rate"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxable_base"</span><span class="p">:</span><span class="s2">"534.60"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"total"</span><span class="p">:</span><span class="s2">"74.84"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"tip"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="s2">"609.44"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retorna un objeto <em>purchase invoice</em> que representa a la factura recién
registrada. Si algo sale mal responde con un <a href="#errors">error</a>.
Recuerda que el XML debe corresponder a la autorización del comprobante y no
sólo del comprobante.</p>

<h3 id="registro-de-una-factura-de-compra">Registro de una factura de compra</h3>

<h4 id="operaci-n">Operación</h4>

<p><code class="prettyprint">POST /locations/:location-id/invoices</code></p>

<h4 id="requerimiento">Requerimiento</h4>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/location/31a8edd4-cf56-4435-a387-7bf1d2eb94e1/invoices/issue <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
      "country": "EC",
      "device_id": "9008edd4-cf56-4435-a387-7bf1d2eb9aef",
      "sequence": 2,
      "uuid": "2211201601099022690300110010030000011701993241014",
      "issue_date": "2016-11-22 23:00:00",
      "customer": {
        "tax_identification_type": "31",
        "properties": [],
        "address": "Carrera 10 Calle 1",
        "email": "w@datil.co",
        "phone": "57122222222222",
        "locality": "Bogota DC",
        "sublocality": "Centro",
        "tax_identification": "1050320-1",
        "tax_level_code": "2",
        "person": {
          "first_name": "Juan",
          "middle_name": "A.",
          "last_name": "Argüello"
        },
        "administrative_district_level_1": "Guayas",
        "country": "EC"
      },
      "taxes": [
        {
          "amount": 419046.82,
          "tax_code": "03",
          "tax_rate": 4.14,
          "rate_code": "3",
          "taxable_amount": 10121904.00
        },
        {
          "amount": 1619504.64,
          "tax_code": "01",
          "tax_rate": 16.00,
          "rate_code": "3",
          "taxable_amount": 10121904.00
        }
      ],
      "totals": {
        "subtotal_amount": 10121904.00,
        "total_tax_amount": 2038551.46,
        "total_amount": 12160455.46,
      }
      "currency": "USD",
      "items": [
        {
          "description": "Apple",
          "properties": {
            "key": "size",
            "value": "M"
          },
          "unit_discount": "1.00",
          "unit_code": "units",
          "unit_price": "4.3256",
          "id": "afb0110982731abc",
          "subtotal_amount": "6.65",
          "quantity": "2"
        }
      ],
      "properties": [
         {
           "key": "Contract Number",
           "value": "420420"
         }
       ],
       "payments": [
         {
           "properties": {
             "account_number": "2223XXXX23",
             "bank": "Bancolombia"
           },
           "amount": 1.09,
           "method": "42"
         }
       ],
  }'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">json</span>

<span class="n">invoice</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">"country"</span><span class="p">:</span> <span class="s">"EC"</span><span class="p">,</span>
      <span class="s">"location_code"</span><span class="p">:</span> <span class="s">"001"</span><span class="p">,</span>
      <span class="s">"device_id"</span><span class="p">:</span> <span class="s">"9008edd4-cf56-4435-a387-7bf1d2eb9aef"</span><span class="p">,</span>
      <span class="s">"sequence"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s">"uuid"</span><span class="p">:</span> <span class="s">"12345-12345-12345-12345-12345"</span><span class="p">,</span>
      <span class="s">"issue_date"</span><span class="p">:</span> <span class="s">"2016-11-22 23:00:00"</span><span class="p">,</span>
      <span class="s">"customer"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"tax_identification_type"</span><span class="p">:</span> <span class="s">"31"</span><span class="p">,</span>
        <span class="s">"properties"</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s">"address"</span><span class="p">:</span> <span class="s">"Carrera 10 Calle 1"</span><span class="p">,</span>
        <span class="s">"email"</span><span class="p">:</span> <span class="s">"w@datil.co"</span><span class="p">,</span>
        <span class="s">"phone"</span><span class="p">:</span> <span class="s">"57122222222222"</span><span class="p">,</span>
        <span class="s">"locality"</span><span class="p">:</span> <span class="s">"Bogota DC"</span><span class="p">,</span>
        <span class="s">"sublocality"</span><span class="p">:</span> <span class="s">"Centro"</span><span class="p">,</span>
        <span class="s">"tax_identification"</span><span class="p">:</span> <span class="s">"1050320-1"</span><span class="p">,</span>
        <span class="s">"tax_level_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
        <span class="s">"person"</span><span class="p">:</span> <span class="p">{</span><span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Juan"</span><span class="p">,</span>
                   <span class="s">"middle_name"</span><span class="p">:</span> <span class="s">"A."</span><span class="p">,</span>
                   <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Argüello"</span><span class="p">},</span>
        <span class="s">"administrative_district_level_1"</span><span class="p">:</span> <span class="s">"Guayas"</span><span class="p">,</span>
        <span class="s">"country"</span><span class="p">:</span> <span class="s">"EC"</span>
      <span class="p">},</span>
      <span class="s">"taxes"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"amount"</span><span class="p">:</span> <span class="mf">419046.82</span><span class="p">,</span>
          <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"03"</span><span class="p">,</span>
          <span class="s">"tax_rate"</span><span class="p">:</span> <span class="mf">4.14</span><span class="p">,</span>
          <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span>
          <span class="s">"taxable_amount"</span><span class="p">:</span> <span class="mf">10121904.00</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s">"amount"</span><span class="p">:</span> <span class="mf">1619504.64</span><span class="p">,</span>
          <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"01"</span><span class="p">,</span>
          <span class="s">"tax_rate"</span><span class="p">:</span> <span class="mf">16.00</span><span class="p">,</span>
          <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"3"</span><span class="p">,</span>
          <span class="s">"taxable_amount"</span><span class="p">:</span> <span class="mf">10121904.00</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s">"totals"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"subtotal_amount"</span><span class="p">:</span> <span class="mf">10121904.00</span><span class="p">,</span>
        <span class="s">"total_tax_amount"</span><span class="p">:</span> <span class="mf">2038551.46</span><span class="p">,</span>
        <span class="s">"total_amount"</span><span class="p">:</span> <span class="mf">12160455.46</span><span class="p">,</span>
      <span class="p">}</span>
      <span class="s">"currency"</span><span class="p">:</span> <span class="s">"USD"</span><span class="p">,</span>
      <span class="s">"items"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"description"</span><span class="p">:</span> <span class="s">"Apple"</span><span class="p">,</span>
          <span class="s">"properties"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s">"key"</span><span class="p">:</span> <span class="s">"size"</span><span class="p">,</span>
            <span class="s">"value"</span><span class="p">:</span> <span class="s">"M"</span>
          <span class="p">},</span>
          <span class="s">"unit_discount"</span><span class="p">:</span> <span class="mf">0.00</span><span class="p">,</span>
          <span class="s">"unit_code"</span><span class="p">:</span> <span class="s">"units"</span><span class="p">,</span>
          <span class="s">"unit_price"</span><span class="p">:</span> <span class="mf">43256.00</span><span class="p">,</span>
          <span class="s">"id"</span><span class="p">:</span> <span class="s">"ABC"</span><span class="p">,</span>
          <span class="s">"subtotal_amount"</span><span class="p">:</span> <span class="mf">10121904.00</span><span class="p">,</span>
          <span class="s">"total_amount"</span><span class="p">:</span> <span class="mf">1.15</span><span class="p">,</span>
          <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">234</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="s">"properties"</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
           <span class="s">"key"</span><span class="p">:</span> <span class="s">"Contract Number"</span><span class="p">,</span>
           <span class="s">"value"</span><span class="p">:</span> <span class="s">"420420"</span>
         <span class="p">}</span>
       <span class="p">],</span>
       <span class="s">"payments"</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
           <span class="s">"properties"</span><span class="p">:</span> <span class="p">{</span>
             <span class="s">"account_number"</span><span class="p">:</span> <span class="s">"2223XXXX23"</span><span class="p">,</span>
             <span class="s">"bank"</span><span class="p">:</span> <span class="s">"Bancolombia"</span>
           <span class="p">},</span>
           <span class="s">"amount"</span><span class="p">:</span> <span class="mf">1.09</span><span class="p">,</span>
           <span class="s">"method"</span><span class="p">:</span> <span class="s">"42"</span>
         <span class="p">}</span>
       <span class="p">],</span>
  <span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">,</span>
    <span class="s">'x-password'</span><span class="p">:</span> <span class="s">'&lt;clave-certificado-firma&gt;'</span><span class="p">,</span>
    <span class="s">'content-type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">}</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s">"https://api.datil.co/locations/31a8edd4-cf56-4435-a387-7bf1d2eb94e1/invoices/issue"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">invoice</span><span class="p">))</span>
</code></pre>

<p>Para la emisión de una factura se debe enviar la información completa de la
venta. Las facturas emitidas con un API key de pruebas, serán enviadas al
ambiente de pruebas del SRI.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>sequence<p class="dt-data-type">opcional</p></td>
<td>Número entero positivo mayor a cero</td>
</tr>
<tr>
<td>currency<br><strong>requerido</strong></td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>issue_date<p class="dt-data-type">opcional</p></td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>.</td>
</tr>
<tr>
<td>totals<p class="dt-data-type">objeto tipo <a href="#invoice-totals">totals</a></p></td>
<td>Totales de la factura</td>
</tr>
<tr>
<td>customer<p class="dt-data-type">objeto tipo <a href="#contact">contact</a></td>
<td>Información del comprador.</td>
</tr>
<tr>
<td>items<p class="dt-data-type">arreglo de <a href="#invoice-item">items</a></p></td>
<td>Bienes o servicios vendidos.</td>
</tr>
<tr>
<td>uuid<p class="dt-data-type">string</p></td>
<td>La clave de acceso de la factura. La clave de acceso es un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>properties<p class="dt-data-type">objeto</p></td>
<td>Información adicional adjunta al comprobante en forma de diccionario. Ejemplo:<br><code class="prettyprint">{&quot;plan&quot;: &quot;Inicial&quot;, &quot;vigencia&quot;: &quot;1 mes&quot;}</code></td>
</tr>
<tr>
<td>payments<p class="dt-data-type">arreglo <a href="#payment">payment</a></p></td>
<td>Pagos realizados a la factura.</td>
</tr>
<tr>
<td>payment_methods<p class="dt-data-type">arreglo <a href="#payment_method">payment_method</a></p></td>
<td>Listado de formas de pago aplicables a la factura.</td>
</tr>
<tr>
<td>payment_terms</td>
<td>Objeto de tipo <a href="#cr-dito">credito</a></td>
</tr>
</tbody></table>

<h5 id="totals">Totals</h5>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>total_sin_impuestos</td>
<td>float</td>
<td>Total antes de los impuestos. <strong>Requerido</strong></td>
</tr>
<tr>
<td>descuento_adicional</td>
<td>float</td>
<td>Descuento aplicado al subtotal de la factura expresado en valor monetario.</td>
</tr>
<tr>
<td>descuento</td>
<td>float</td>
<td>Suma de los descuentos de cada ítem y del descuento adicional. <strong>Requerido</strong></td>
</tr>
<tr>
<td>propina</td>
<td>float</td>
<td>Propina total, llamado también servicio. <strong>Requerido</strong></td>
</tr>
<tr>
<td>importe_total</td>
<td>float</td>
<td>Total incluyendo impuestos. <strong>Requerido</strong></td>
</tr>
<tr>
<td>impuestos</td>
<td>listado de objetos <a href="#total-impuesto">total impuesto</a></td>
<td>Listado de impuesto totalizados. <strong>Requerido</strong></td>
</tr>
</tbody></table>

<h5 id="payments">Payments</h5>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>fecha</td>
<td>string</td>
<td>Fecha de recepción del pago en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>. Si no es especificado se utiliza la fecha y hora actual.</td>
</tr>
<tr>
<td>medio</td>
<td>string</td>
<td>Código del <a href="#tipos-de-forma-de-pago">tipo de forma de pago</a>. <strong>Requerido</strong></td>
</tr>
<tr>
<td>total</td>
<td>float</td>
<td>Total aplicable a la forma de pago especificada. <strong>Requerido</strong></td>
</tr>
<tr>
<td>propiedades</td>
<td>objeto</td>
<td>Información adicional adjunta al pago en forma de diccionario. Ejemplo:<br><code class="prettyprint">{&quot;plazo&quot;: &quot;30&quot;, &quot;unidad_tiempo&quot;: &quot;dias&quot;}</code></td>
</tr>
</tbody></table>

<h5 id="payment-terms">Payment terms</h5>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>fecha_vencimiento</td>
<td>string</td>
<td>Fecha de vencimiento en formato AAAA-MM-DD, definido en el estándar <a href="http://tools.ietf.org/html/rfc3339#section-5.6">ISO8601</a>. <strong>Requerido</strong></td>
</tr>
<tr>
<td>monto</td>
<td>float</td>
<td>Monto otorgado de crédito. <strong>Requerido</strong></td>
</tr>
</tbody></table>

<p>Retorna un objeto <strong><a href="#el-objeto-invoice">invoice</a></strong> que incluye un nuevo parámetro <code class="prettyprint">id</code>,
el cual identifica de manera única a la factura. El campo <code class="prettyprint">clave_acceso</code> generado
también se incluirá como parte de la respuesta.</p>

<h3 id="consulta-de-una-factura">Consulta de una factura</h3>

<p>Consulta una factura para obtener toda la información del comprobante,
incluyendo el estado de autorización del mismo.
El atributo <code class="prettyprint">status</code> de la respuesta obtenida al invocar esta operación, indica
el estado actual del comprobante.</p>

<p>Si es necesario conocer en detalle el estado del <a href="#proceso-de-emisión">proceso de emisión</a>,
se debe examinar el atributos <code class="prettyprint">authorization</code> de la factura.</p>

<h4 id="operaci-n">Operación</h4>

<p><code class="prettyprint">GET /locations/:location-id/sales/invoices/:invoice-id</code></p>

<h4 id="requerimiento">Requerimiento</h4>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://link.datil.co/invoices/&lt;invoice-id&gt; <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;clave-del-api&gt;"</span> <span class="se">\</span>
-H <span class="s2">"X-Password: &lt;clave-certificado-firma&gt;"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">cabeceras</span> <span class="o">=</span> <span class="p">{</span><span class="s">'x-key'</span><span class="p">:</span> <span class="s">'&lt;clave-del-api&gt;'</span><span class="p">}</span>
<span class="n">respuesta</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="s">'https://link.datil.co/invoices/&lt;id-factura&gt;'</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="n">cabeceras</span><span class="p">)</span>
</code></pre>
<pre class="highlight csharp"><code><span class="k">using</span> <span class="nn">RestSharp</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">DatilClient</span> <span class="p">{</span>
  <span class="k">class</span> <span class="nc">InvoicingServiceClient</span> <span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>

      <span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://link.datil.co/"</span><span class="p">);</span>
      <span class="n">var</span> <span class="n">idFactura</span> <span class="p">=</span> <span class="s">"&lt;id-factura&gt;"</span><span class="p">;</span>
      <span class="n">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"invoices/"</span> <span class="p">+</span> <span class="n">idFactura</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">GET</span><span class="p">);</span>
      <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"X-Key"</span><span class="p">,</span> <span class="s">"&lt;clave-del-api&gt;"</span><span class="p">);</span>

      <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

      <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Reemplaza en la ruta <code class="prettyprint">&lt;invoice-ID&gt;</code> por el <code class="prettyprint">id</code> de la factura que necesitas consultar.</p>

<h4 id="respuesta">Respuesta</h4>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcf12343faad06785"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"secuencial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fecha_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-15"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clave_acceso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201501099271255500110011000000000162092727615"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"emisor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ruc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0992712555001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Datil S.A."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nombre_comercial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dátil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"obligado_contabilidad"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"contribuyente_especial"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"establecimiento"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"001"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"V.E. 112 Y CIRCUNVALACION NORTE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"punto_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"correos_enviados"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"fecha_envio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:36:48.274604"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"destinatarios"</span><span class="p">:</span><span class="w"> </span><span class="s2">"juanantonioplaza@datilmedia.com"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"guia_remision"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"moneda"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"ambiente"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"propina"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"importe_total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"168.00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"comprador"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"razon_social"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carlos L. Plaza"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"identificacion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0900102222"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tipo_identificacion"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cplaza@gye593.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"direccion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Calle Uno y Calle Dos"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"telefono"</span><span class="p">:</span><span class="w"> </span><span class="s2">"043334445"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"envio_sri"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RECIBIDA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"tipo_emision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"detalles_adicionales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"Estadía"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2 noches"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"Habitación"</span><span class="p">:</span><span class="w"> </span><span class="s2">"203"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"cantidad"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"codigo_principal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HAB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"codigo_auxiliar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOB"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"descripcion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Habitación doble"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"precio_unitario"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"descuento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"precio_total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"impuestos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"codigo_porcentaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"base_imponible"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150.00"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18.00"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"unidad_medida"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kilos"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"valor_retenido_iva"</span><span class="p">:</span><span class="w"> </span><span class="mf">70.40</span><span class="p">,</span><span class="w">
    </span><span class="nt">"valor_retenido_renta"</span><span class="p">:</span><span class="w"> </span><span class="mf">29.60</span><span class="p">,</span><span class="w">
    </span><span class="nt">"credito"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"fecha_vencimiento"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-28"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"monto"</span><span class="p">:</span><span class="w"> </span><span class="mf">34.21</span><span class="w">
    </span><span class="p">},</span><span class="w">    
    </span><span class="nt">"pagos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"medio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cheque"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mf">4882.68</span><span class="p">,</span><span class="w">
        </span><span class="nt">"propiedades"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"banco"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Banco Pacífico"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"compensaciones"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"codigo"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tarifa"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"valor"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.00</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"exportacion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"incoterm"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"termino"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CIF"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lugar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"total_sin_impuestos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CIF"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"origen"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"codigo_pais"</span><span class="p">:</span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"puerto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guayaquil"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"destino"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"codigo_pais"</span><span class="p">:</span><span class="s2">"CN"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"puerto"</span><span class="p">:</span><span class="w"> </span><span class="s2">"China"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"codigo_pais_adquisicion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EC"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"totales"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"flete_internacional"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000.00</span><span class="p">,</span><span class="w">
        </span><span class="nt">"seguro_internacional"</span><span class="p">:</span><span class="w"> </span><span class="mf">200.00</span><span class="p">,</span><span class="w">
        </span><span class="nt">"gastos_aduaneros"</span><span class="p">:</span><span class="w"> </span><span class="mi">800</span><span class="p">,</span><span class="w">
        </span><span class="nt">"otros_gastos_transporte"</span><span class="p">:</span><span class="w"> </span><span class="mf">350.00</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="s2">"autorizacion"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"estado"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUTORIZADO"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mensajes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"identificador"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"mensaje"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ESTE PROCESO FUE REALIZADO EN EL AMBIENTE DE PRUEBAS"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"tipo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INFORMATIVO"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"informacion_adicional"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"numero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1505201516323509927125550010266935227"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"fecha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-15T16:32:35.000380"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parámetro</th>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>secuencial</td>
<td>string</td>
<td>Número de secuencia de la factura.</td>
</tr>
<tr>
<td>estado</td>
<td>string</td>
<td>Posibles valores: <code class="prettyprint">AUTORIZADO</code>, <code class="prettyprint">NO AUTORIZADO</code>, <code class="prettyprint">ENVIADO</code>, <code class="prettyprint">DEVUELTO</code>, <code class="prettyprint">RECIBIDO</code></td>
</tr>
<tr>
<td>fecha_emision</td>
<td>string</td>
<td>Fecha de emisión en formato AAAA-MM-DDHoraZonaHoraria, definido en el estándar <a href="http://tools.ietf">ISO8601</a>.</td>
</tr>
<tr>
<td>clave_acceso</td>
<td>string</td>
<td>La clave de acceso representa un identificador único del comprobante. Si esta información no es provista, Dátil la generará.<br>¿Cómo <a href="#clave-de-acceso">generar</a> la clave de acceso?</td>
</tr>
<tr>
<td>envio_sri</td>
<td>objeto tipo <a href="#envío-sri">envio sri</a></td>
<td>Información luego de enviar el comprobante.</td>
</tr>
<tr>
<td>autorizacion</td>
<td>objeto tipo <a href="#autorización-sri">autorizacion sri</a></td>
<td>Información de la autorización.org/html/rfc3339#section-5.6).</td>
</tr>
<tr>
<td>emisor</td>
<td>objeto tipo <a href="#emisor">emisor</a></td>
<td>Información completa del emisor.</td>
</tr>
<tr>
<td>moneda</td>
<td>string</td>
<td>Código <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO</a> de la moneda.</td>
</tr>
<tr>
<td>ambiente</td>
<td>integer</td>
<td>Pruebas: <code class="prettyprint">1</code>.<br>Producción <code class="prettyprint">2</code>.<br></td>
</tr>
<tr>
<td>totales</td>
<td>objeto tipo <a href="#totales">totales</a></td>
<td>Listado de totales.</td>
</tr>
<tr>
<td>comprador</td>
<td>objeto <a href="#persona">persona</a></td>
<td>Información del comprador.</td>
</tr>
<tr>
<td>tipo_emision</td>
<td>integer</td>
<td>Emisión normal: <code class="prettyprint">1</code>.<br>Emisión por indisponibilidad: <code class="prettyprint">2</code><br></td>
</tr>
<tr>
<td>items</td>
<td>listado de objetos tipo <a href="#item-de-factura">item</a></td>
<td>Items incluídos en la factura.</td>
</tr>
<tr>
<td>pagos</td>
<td>listado de objetos tipo <a href="#pagos">pagos</a></td>
<td>Listado de formas de pago aplicables a la factura.</td>
</tr>
<tr>
<td>credito</td>
<td>Objeto de tipo <a href="#cr-dito">credito</a></td>
<td>Información del crédito directo otorgado al cliente.</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Versión de la especificación, opciones válidas: <code class="prettyprint">1.0.0</code>, <code class="prettyprint">1.1.0</code></td>
</tr>
</tbody></table>

<h3 id="re-emisi-n-de-una-factura">Re-emisión de una factura</h3>

<h4 id="operaci-n">Operación</h4>

<p><code class="prettyprint">POST /invoices/:id/reissue</code></p>

<h4 id="requerimiento">Requerimiento</h4>

<p>Esta operación debe ser utilizada para corregir comprobantes NO AUTORIZADOS o
DEVUELTOS por el Servicio de Rentas Internas.</p>

<p>En la URL de esta opción se debe incluir el <code class="prettyprint">id</code> de la factura recibida al
momento de emitirla.</p>

<p>El cuerpo del requerimiento es un objeto <a href="#requerimiento">factura</a> con los
datos corregidos para que pueda ser procesado y autorizado.</p>

<h4 id="respuesta">Respuesta</h4>

<p>Retornará un error si el comprobante se encuentra autorizado.</p>

          <h1 id="cat-logo">Catálogo</h1>

<h2 id="productos">Productos</h2>

<p>El catálogo de productos te permite registrar todo los bienes o servicios que
vendes y compras. Así podrás crear facturas, vender a través de Market y
controlar el inventario de los productos.</p>

<h4 id="acciones-disponibles-para-productos">Acciones disponibles para Productos</h4>

<ul>
<li><p><a href="#consulta-un-producto"><code class="prettyprint">GET /catalog/products/:id</code></a><br>
Obtener información de un Producto</p></li>
<li><p><a href="#lista-productos"><code class="prettyprint">GET /catalog/products</code></a><br>
Obtener un listado de Productos</p></li>
<li><p><a href="#crea-un-producto"><code class="prettyprint">POST /catalog/products</code></a><br>
Crear un nuevo Producto</p></li>
<li><p><a href="#actualiza-un-producto"><code class="prettyprint">PUT /catalog/products/:id</code></a><br>
Actualizar un Producto existente</p></li>
<li><p><a href="#elimina-un-producto"><code class="prettyprint">DELETE /catalog/products/:id</code></a><br>
Elimina un Producto de tu catálogo</p></li>
</ul>

<h3 id="lista-productos">Lista Productos</h3>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://api.datil.co/catalog/products?ids<span class="o">=</span>e640584d-b1c3-487e-8c0c-acc931332a30,03a233139cca-c0c8-e784-3c1b-d485046e <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">product_ids</span> <span class="o">=</span> <span class="p">[</span><span class="s">"e640584d-b1c3-487e-8c0c-acc931332a30"</span><span class="p">,</span>
               <span class="s">"03a233139cca-c0c8-e784-3c1b-d485046e"</span><span class="p">]</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/products?ids="</span> <span class="o">+</span> <span class="s">','</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">product_ids</span><span class="p">)</span>
<span class="n">products</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>

<p>Obtén el listado completo de Productos del catálogo, o filtra los resultados
por cualquiera de estos parámetros.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>ids<p class="dt-data-type">array</p></td>
<td>Listado de IDs de los productos que quieres obtener.</td>
</tr>
<tr>
<td>category_id<p class="dt-data-type">string</p></td>
<td>Lista todos los productos que pertenecen a esta categoría.</td>
</tr>
<tr>
<td>sku<p class="dt-data-type">string</p></td>
<td>Lista todos los productos cuyo SKU contenga este texto.</td>
</tr>
<tr>
<td>name<p class="dt-data-type">string</p></td>
<td>Lista todos los productos cuyo nombre contenga este texto.</td>
</tr>
<tr>
<td>track_inventory<p class="dt-data-type">boolean</p></td>
<td>Lista todos los productos que sean o no inventariables.</td>
</tr>
<tr>
<td>page_size<p class="dt-data-type">integer</p></td>
<td>Define la cantidad de items por página. Por defecto retorna 30 items por página</td>
</tr>
</tbody></table>

<h4 id="respuesta">Respuesta</h4>

<p>Retorna un objeto <a href="#result-set">result set</a> con el listado de Productos que coincidan
con los filtros enviados.</p>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e01ba80-4e37-4cac-9df5-2996b7e39973"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso UM"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BOL-U123"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso de mano ideal para salidas casuales."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45.000000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.000000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576aac8e-0f59-4b15-a89c-7bd3afc5ffbc"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolsos y Carteras"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IVA 12%"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="nt">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"und"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unidad"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bolso-um"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nt">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"bolso"</span><span class="p">,</span><span class="w"> </span><span class="s2">"casual"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:10:32.189Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:11:04.854Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37993e7b6992-5fd9-cac4-73e4-08ab10e9"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso UX"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BOL-U432"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso de mano ideal para fiestas formales."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"95.000000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70.000000"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576aac8e-0f59-4b15-a89c-7bd3afc5ffbc"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolsos y Carteras"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IVA 12%"</span><span class="w">
      </span><span class="p">}],</span><span class="w">
      </span><span class="nt">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"und"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unidad"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bolso-um"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nt">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"bolso"</span><span class="p">,</span><span class="w"> </span><span class="s2">"casual"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:10:32.189Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:11:04.854Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e01ba80-4e37-4cac-9df5-2996b7e39973"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso UM"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BOL-U123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso de mano ideal para salidas casuales."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45.000000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.000000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576aac8e-0f59-4b15-a89c-7bd3afc5ffbc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolsos y Carteras"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IVA 14%"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"und"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unidad"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bolso-um"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nt">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"bolso"</span><span class="p">,</span><span class="w"> </span><span class="s2">"casual"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:10:32.189Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:11:04.854Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="consulta-un-producto">Consulta un Producto</h3>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://api.datil.co/catalog/products/e640584d-b1c3-487e-8c0c-acc931332a30 <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="s">"e640584d-b1c3-487e-8c0c-acc931332a30"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/products/"</span> <span class="o">+</span> <span class="n">product_id</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>

<p>Consulta los detalles de un producto. Envía el ID del producto para obtener su
información</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>id<p class="dt-data-type">requerido</p></td>
<td>El identificador único del producto.</td>
</tr>
</tbody></table>

<h4 id="respuesta">Respuesta</h4>

<p>Retorna un objeto <a href="#product">Product</a> si el identificador es válido, caso contrario
retorna un error.</p>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e01ba80-4e37-4cac-9df5-2996b7e39973"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso UM"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BOL-U123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolso de mano ideal para salidas casuales."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45.000000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30.000000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"576aac8e-0f59-4b15-a89c-7bd3afc5ffbc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolsos y Carteras"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IVA 14%"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"abbreviation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"und"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unidad"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bolso-um"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nt">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"bolso"</span><span class="p">,</span><span class="w"> </span><span class="s2">"casual"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:10:32.189Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:11:04.854Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="crea-un-producto">Crea un Producto</h3>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://api.datil.co/catalog/products <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "name": "Pledge Limpiador de madera",
  "description": "Limpiador de todo tipo de maderas. Deja tus muebles brillantes sin esfuerzo.",
  "images": [{
    "data": "iVBORw0KGgoAAAANSUhEUgAAAMwAAABQCAYAAABVhprKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERR...==",
    "name": "pedge-fresh.jpg"
  }],
  "category": {
    "name": "Limpieza"
  },
  "unit_price": "5.000000",
  "applicable_taxes": [{
    "tax_code": "2",
    "rate_code": "2"
  }],
  "purchase_applicable_taxes": [],
  "track_inventory": false,
  "type": "good",
  "sku": "PLM-CR123",
  "tags": ["madera"],
  "available_online": false,
  "unit_cost": "4.200000"
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Pledge Limpiador de madera"</span><span class="p">,</span>
  <span class="s">"description"</span><span class="p">:</span> <span class="s">"Limpiador de todo tipo de maderas. Deja tus muebles brillantes sin esfuerzo."</span><span class="p">,</span>
  <span class="s">"images"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s">"data"</span><span class="p">:</span> <span class="s">"iVBORw0KGgoAAAANSUhEUgAAAMwAAABQCAYAAABVhprKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERR...=="</span><span class="p">,</span>
    <span class="s">"name"</span><span class="p">:</span> <span class="s">"fresh.jpg"</span>
  <span class="p">}],</span>
  <span class="s">"category"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"name"</span><span class="p">:</span> <span class="s">"Limpieza"</span>
  <span class="p">},</span>
  <span class="s">"unit_price"</span><span class="p">:</span> <span class="s">"5.000000"</span><span class="p">,</span>
  <span class="s">"applicable_taxes"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
    <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"2"</span>
  <span class="p">}],</span>
  <span class="s">"purchase_applicable_taxes"</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s">"track_inventory"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"good"</span><span class="p">,</span>
  <span class="s">"sku"</span><span class="p">:</span> <span class="s">"PLM-CR123"</span><span class="p">,</span>
  <span class="s">"tags"</span><span class="p">:</span> <span class="p">[</span><span class="s">"madera"</span><span class="p">],</span>
  <span class="s">"available_online"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"unit_cost"</span><span class="p">:</span> <span class="s">"4.200000"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="n">api_key</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/products"</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>

<p>Crea un nuevo producto en el catálogo con la información enviada. El SKU debe
ser único, si ya existe un producto con el mismo SKU responde con un error.</p>

<h6 id="create-prod-params"></h6>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del producto</td>
</tr>
<tr>
<td>description<p class="dt-data-type">requerido</p></td>
<td>Esta información se mostrará en Market.</td>
</tr>
<tr>
<td>sku</td>
<td>Código del producto (Stock Keeping Unit). Se utiliza principalmente para el control de inventario. Puede utilizarse también para realizar búsquedas con pocos caracteres.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">requerido</p></td>
<td>Precio unitario de venta sin impuestos.</td>
</tr>
<tr>
<td>unit_cost<p class="dt-data-type">requerido sólo si será inventariable</p></td>
<td>Costo unitario del producto sin impuestos. Este es el valor que normalmente pagas al proveedor al comprar este producto.</td>
</tr>
<tr>
<td>type<p class="dt-data-type">requerido</p></td>
<td>Cataloga el producto como un bien &ldquo;good&rdquo; o un servicio &ldquo;service&rdquo;.</td>
</tr>
<tr>
<td>unit_of_measurement</td>
<td>Unida de medida del producto.</td>
</tr>
<tr>
<td>images</td>
<td>Listado de <a href="#req-prod-img">imágenes</a> que necesitas agregar a este producto.</td>
</tr>
<tr>
<td>category</td>
<td><a href="#req-prod-cat">Categoría</a> a la que pertenece el producto. Si la categoría no existe se crea automáticamente.</td>
</tr>
<tr>
<td>applicable_taxes<p class="dt-data-type">requerido</p></td>
<td>Listado de los <a href="#req-prod-tax">product taxes</a> que deben aplicarse a este producto al momento de vender.</td>
</tr>
<tr>
<td>purchase_applicable_taxes</td>
<td>Listado de los <a href="#req-prod-tax">product taxes</a> que deben aplicarse a este producto al momento de comprarlo.</td>
</tr>
<tr>
<td>track_inventory</td>
<td>Verdadero para que Dátil controle las existencias de este producto.</td>
</tr>
<tr>
<td>tags</td>
<td>Las etiquetas te permiten agregar información complementaria al producto y podrás buscar productos con esta información.</td>
</tr>
<tr>
<td>available_on_market</td>
<td>Verdadero si necesitas que está disponible en tu Market (<a href="https://datil.co/producto#market">más información de Market</a>)</td>
</tr>
</tbody></table>

<h4 id="req-prod-img">Product Image</h4>

<p>Para agregar una imagen al producto envía la siguiente información para cada
imagen.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del archivo incluyendo la extensión</td>
</tr>
<tr>
<td>data<p class="dt-data-type">requerido</p></td>
<td>Contenido del archivo de la imagen codificado en base64</td>
</tr>
</tbody></table>

<h4 id="req-prod-cat">Category</h4>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre de la categoría.</td>
</tr>
</tbody></table>

<h4 id="req-prod-tax">Product Tax</h4>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>tax_code<p class="dt-data-type">requerido</p></td>
<td>Código del tipo de impuesto</td>
</tr>
<tr>
<td>rate_code<p class="dt-data-type">requerido</p></td>
<td>Código del impuesto específico aplicable. Por ejemplo el código del IVA 12% es el <code class="prettyprint">tax_code</code> 2 y <code class="prettyprint">rate_code</code> 2</td>
</tr>
</tbody></table>

<h4 id="respuesta">Respuesta</h4>

<p>Retorna el nuevo objeto <a href="#product">Product</a> si la información es válida, caso contrario
retorna un error.</p>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cde3602-979f-407b-ae6f-70f7d65a3a97"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fixed_price"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.877Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"src"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://datil-py-staging.s3.amazonaws.com/media/products_images/RGM6VUfresh.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pledge Limpiador de madera"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6b1959dc-6a0c-4c73-96bd-28d307ab81cc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limpieza"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.000000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12%"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PLM-CR123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"madera"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"business_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"924a7999-bbba-43d5-984b-9178d9148202"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unsubsidized_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"supplier_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DN42ApefQHuub3D31lo6lw"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pledge Limpiador de madera"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"did"</span><span class="p">:</span><span class="w"> </span><span class="mi">447</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.877Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.200000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="actualiza-un-producto">Actualiza un Producto</h3>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://api.datil.co/catalog/products/e640584d-b1c3-487e-8c0c-acc931332a30 <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "name": "Pledge Limpiador de madera",
  "description": "Limpiador de todo tipo de maderas. Deja tus muebles brillantes con pocas pasadas.",
  "unit_price": "5.500000"
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Pledge Limpiador de madera"</span><span class="p">,</span>
  <span class="s">"description"</span><span class="p">:</span> <span class="s">"Limpiador de todo tipo de maderas. Deja tus muebles brillantes sin esfuerzo."</span><span class="p">,</span>
  <span class="s">"unit_price"</span><span class="p">:</span> <span class="s">"5.500000"</span><span class="p">,</span>
  <span class="s">"applicable_taxes"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="s">"tax_code"</span><span class="p">:</span> <span class="s">"2"</span><span class="p">,</span>
    <span class="s">"rate_code"</span><span class="p">:</span> <span class="s">"2"</span>
  <span class="p">}],</span>
  <span class="s">"purchase_applicable_taxes"</span><span class="p">:</span> <span class="p">[],</span>
  <span class="s">"track_inventory"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"good"</span><span class="p">,</span>
  <span class="s">"sku"</span><span class="p">:</span> <span class="s">"PLM-CR123"</span><span class="p">,</span>
  <span class="s">"tags"</span><span class="p">:</span> <span class="p">[</span><span class="s">"madera"</span><span class="p">],</span>
  <span class="s">"available_online"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"unit_cost"</span><span class="p">:</span> <span class="s">"4.200000"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="n">api_key</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/products"</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>

<p>Actualiza la información de un Producto ya existente. Puedes enviar uno o más
atributos del producto que necesitas actualizar. Revisa el listado de
<a href="#create-prod-params">parámetros</a></p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del producto</td>
</tr>
<tr>
<td>description<p class="dt-data-type">requerido</p></td>
<td>Esta información se mostrará en Market.</td>
</tr>
<tr>
<td>sku</td>
<td>Código del producto (Stock Keeping Unit). Se utiliza principalmente para el control de inventario. Puede utilizarse también para realizar búsquedas con pocos caracteres.</td>
</tr>
<tr>
<td>unit_price<p class="dt-data-type">requerido</p></td>
<td>Precio unitario de venta sin impuestos.</td>
</tr>
<tr>
<td>unit_cost<p class="dt-data-type">requerido sólo si será inventariable</p></td>
<td>Costo unitario del producto sin impuestos. Este es el valor que normalmente pagas al proveedor al comprar este producto.</td>
</tr>
<tr>
<td>unit_of_measurement</td>
<td>Unida de medida del producto.</td>
</tr>
<tr>
<td>images</td>
<td>Listado de <a href="#req-prod-img">imágenes</a> que necesitas agregar a este producto.</td>
</tr>
<tr>
<td>category</td>
<td><a href="#req-prod-cat">Categoría</a> a la que pertenece el producto. Si la categoría no existe se crea automáticamente.</td>
</tr>
<tr>
<td>applicable_taxes<p class="dt-data-type">requerido</p></td>
<td>Listado de los <a href="#req-prod-tax">product taxes</a> que deben aplicarse a este producto al momento de vender.</td>
</tr>
<tr>
<td>purchase_applicable_taxes</td>
<td>Listado de los <a href="#req-prod-tax">product taxes</a> que deben aplicarse a este producto al momento de comprarlo.</td>
</tr>
<tr>
<td>track_inventory</td>
<td>Verdadero para que Dátil controle las existencias de este producto.</td>
</tr>
<tr>
<td>tags</td>
<td>Las etiquetas te permiten agregar información complementaria al producto y podrás buscar productos con esta información.</td>
</tr>
<tr>
<td>available_on_market</td>
<td>Verdadero si necesitas que está disponible en tu Market (<a href="https://datil.co/producto#market">más información de Market</a>)</td>
</tr>
</tbody></table>

<h4 id="req-prod-img">Product Image</h4>

<p>Para agregar una imagen al producto envía la siguiente información para cada
imagen.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del archivo incluyendo la extensión</td>
</tr>
<tr>
<td>data<p class="dt-data-type">requerido</p></td>
<td>Contenido del archivo de la imagen codificado en base64</td>
</tr>
</tbody></table>

<h4 id="req-prod-cat">Category</h4>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre de la categoría.</td>
</tr>
</tbody></table>

<h4 id="req-prod-tax">Product Tax</h4>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>tax_code<p class="dt-data-type">requerido</p></td>
<td>Código del tipo de impuesto</td>
</tr>
<tr>
<td>rate_code<p class="dt-data-type">requerido</p></td>
<td>Código del impuesto específico aplicable. Por ejemplo el código del IVA 12% es el <code class="prettyprint">tax_code</code> 2 y <code class="prettyprint">rate_code</code> 2</td>
</tr>
</tbody></table>

<h4 id="respuesta">Respuesta</h4>

<p>Retorna el nuevo objeto <a href="#product">Product</a> si la información es válida, caso contrario
retorna un error.</p>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cde3602-979f-407b-ae6f-70f7d65a3a97"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unit_of_measurement"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fixed_price"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.877Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"src"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://datil-py-staging.s3.amazonaws.com/media/products_images/RGM6VUfresh.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pledge Limpiador de madera"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"purchase_applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6b1959dc-6a0c-4c73-96bd-28d307ab81cc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limpieza"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.000000"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"applicable_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"tax_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12%"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"track_inventory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sku"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PLM-CR123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"madera"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"business_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"924a7999-bbba-43d5-984b-9178d9148202"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"available_online"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unsubsidized_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"supplier_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DN42ApefQHuub3D31lo6lw"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pledge Limpiador de madera"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"did"</span><span class="p">:</span><span class="w"> </span><span class="mi">447</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.877Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"unit_cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.200000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h2 id="categor-as">Categorías</h2>

<p>El catálogo de categorías te permite registrar todo los bienes o servicios que
vendes y compras. Así podrás crear facturas, vender a través de Market y
controlar el inventario de los categorías.</p>

<h4 id="acciones-disponibles-para-categor-as">Acciones disponibles para Categorías</h4>

<ul>
<li><p><a href="#consulta-una-categor-a"><code class="prettyprint">GET /catalog/categories/:id</code></a><br>
Obtener información de una Categoría</p></li>
<li><p><a href="#lista-categorias"><code class="prettyprint">GET /catalog/categories</code></a><br>
Obtener un listado de Categorías</p></li>
<li><p><a href="#crea-una-categor-a"><code class="prettyprint">POST /catalog/categories</code></a><br>
Crear un nuevo Producto</p></li>
<li><p><a href="#actualiza-una-categor-a"><code class="prettyprint">PUT /catalog/categories/:id</code></a><br>
Actualizar una Categoría existente</p></li>
<li><p><a href="#elimina-una-categor-a"><code class="prettyprint">DELETE /catalog/categories/:id</code></a><br>
Elimina una Categoría de tu catálogo</p></li>
</ul>

<h3 id="lista-categor-as">Lista Categorías</h3>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://api.datil.co/catalog/categories?ids<span class="o">=</span>e640584d-b1c3-487e-8c0c-acc931332a30,03a233139cca-c0c8-e784-3c1b-d485046e <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">product_ids</span> <span class="o">=</span> <span class="p">[</span><span class="s">"e640584d-b1c3-487e-8c0c-acc931332a30"</span><span class="p">,</span>
               <span class="s">"03a233139cca-c0c8-e784-3c1b-d485046e"</span><span class="p">]</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/categories?ids="</span> <span class="o">+</span> <span class="s">','</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">product_ids</span><span class="p">)</span>
<span class="n">categories</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>

<p>Obtén el listado completo de Categorías del catálogo, o filtra los resultados
por cualquiera de estos parámetros.</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>ids<p class="dt-data-type">array</p></td>
<td>Listado de IDs de los categorías que quieres obtener.</td>
</tr>
<tr>
<td>name<p class="dt-data-type">string</p></td>
<td>Lista todas las categorías cuyo nombre contenga este texto.</td>
</tr>
<tr>
<td>parent_id<p class="dt-data-type">string</p></td>
<td>Lista las cateogorías que pertenezcan a esta categoría padre.</td>
</tr>
<tr>
<td>page_size<p class="dt-data-type">integer</p></td>
<td>Define la cantidad de items por página. Por defecto retorna 30 items por página</td>
</tr>
</tbody></table>

<h4 id="respuesta">Respuesta</h4>

<p>Retorna un objeto <a href="#result-set">result set</a> con el listado de Categorías que coincidan
con los filtros enviados.</p>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nt">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IPHONE 6"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T01:02:24.777Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-14T01:11:20.655Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"business_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-b6ec-4e83-b9e9-d4ae12b4d967"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"item_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"389b528d-0b16-408d-8822-e3e8e2b3391f"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Planes Vigentes 2017"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-23T17:26:32.252Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-23T17:27:52.137Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"business_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98e21dbd-b6ec-4e83-b9e9-d4ae12b4d967"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"item_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81f3f42a-286c-42fe-a6b2-4301a28fab0a"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="consulta-una-categor-a">Consulta una Categoría</h3>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://api.datil.co/catalog/categories/e640584d-b1c3-487e-8c0c-acc931332a30 <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">product_id</span> <span class="o">=</span> <span class="s">"e640584d-b1c3-487e-8c0c-acc931332a30"</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="s">'&lt;API-key&gt;'</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/categories/"</span> <span class="o">+</span> <span class="n">product_id</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>

<p>Consulta los detalles de un categoría. Envía el ID del categoría para obtener su
información</p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>id<p class="dt-data-type">requerido</p></td>
<td>El identificador único del categoría.</td>
</tr>
</tbody></table>

<h4 id="respuesta">Respuesta</h4>

<p>Retorna un objeto <a href="#product">Product</a> si el identificador es válido, caso contrario
retorna un error.</p>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9e01ba80-4e37-4cac-9df5-2996b7e39973"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carteras"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:10:32.189Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-28T13:11:04.854Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="crea-una-categor-a">Crea una Categoría</h3>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://api.datil.co/catalog/categories <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "name": "Zapatos"
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Zapatos"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="n">api_key</span>
<span class="p">}</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/categories"</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>

<p>Crea un nuevo categoría en el catálogo con la información enviada. El SKU debe
ser único, si ya existe un categoría con el mismo SKU responde con un error.</p>

<h6 id="create-cat-params"></h6>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del categoría</td>
</tr>
<tr>
<td>parent_id</td>
<td>ID de la categoría padre. Esto te permitirá crear categorías dentro de otras.</td>
</tr>
</tbody></table>

<h4 id="respuesta">Respuesta</h4>

<p>Retorna el nuevo objeto <a href="#product">Product</a> si la información es válida, caso contrario
retorna un error.</p>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cde3602-979f-407b-ae6f-70f7d65a3a97"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zapatos"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="actualiza-una-categor-a">Actualiza una Categoría</h3>

<blockquote>
<h5 id="requerimiento-de-ejemplo">Requerimiento de ejemplo</h5>
</blockquote>
<pre class="highlight shell"><code>curl -v https://api.datil.co/catalog/categories/0cde3602-979f-407b-ae6f-70f7d65a3a97 <span class="se">\</span>
-H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-H <span class="s2">"X-Api-Key: &lt;API-key&gt;"</span> <span class="se">\</span>
-d <span class="s1">'{
  "name": "Zapatos Deportivos"
}'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="n">api_key</span> <span class="o">=</span> <span class="s">"YOUR_API_KEY"</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"name"</span><span class="p">:</span> <span class="s">"Zapatos Deportivos"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'x-api-key'</span><span class="p">:</span> <span class="n">api_key</span>
<span class="p">}</span>
<span class="n">category_id</span> <span class="o">=</span> <span class="s">'0cde3602-979f-407b-ae6f-70f7d65a3a97'</span>
<span class="n">datil_api_url</span> <span class="o">=</span> <span class="s">"https://api.datil.co/catalog/categories/"</span> <span class="o">+</span> <span class="n">cateogory_id</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">datil_api_url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre>

<p>Actualiza la información de una Categoría ya existente. Puedes enviar uno o más
atributos del categoría que necesitas actualizar. Revisa el listado de
<a href="#create-cat-params">parámetros</a></p>

<table><thead>
<tr>
<th>Parámetros</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<p class="dt-data-type">requerido</p></td>
<td>Nombre del categoría</td>
</tr>
</tbody></table>

<h4 id="respuesta">Respuesta</h4>

<p>Retorna el objeto <a href="#category">Category</a> actualizado si la información es válida, caso contrario
retorna un error.</p>

<blockquote>
<h5 id="respuesta-de-ejemplo">Respuesta de ejemplo</h5>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0cde3602-979f-407b-ae6f-70f7d65a3a97"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zapatos Deportivos"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-13T17:02:48.892Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"parent_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id="cat-logo-de-c-digos">Catálogo de Códigos</h1>

<h2 id="tipo-de-identificaci-n">Tipo de identificación</h2>

<table><thead>
<tr>
<th>Tipo de identificación</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>RUC</td>
<td>04</td>
</tr>
<tr>
<td>CEDULA</td>
<td>05</td>
</tr>
<tr>
<td>PASAPORTE</td>
<td>06</td>
</tr>
<tr>
<td>VENTA A CONSUMIDOR FINAL <small>(1)</smal></td>
<td>07</td>
</tr>
<tr>
<td>IDENTIFICACION DEL EXTERIOR <small>(2)</small></td>
<td>08</td>
</tr>
<tr>
<td>PLACA</td>
<td>09</td>
</tr>
</tbody></table>

<p>(1) En la venta a Consumidor Final la identificación del cliente se formará con 13 dígitos de nueve (9999999999999).
(2) La identificación del Exterior corresponderá al número de Identificación otorgado por la Administración Tributaria (AT) del país que es Residente Fiscal.</p>

<h2 id="tipos-de-impuesto">Tipos de impuesto</h2>

<table><thead>
<tr>
<th>Impuesto</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>IVA</td>
<td>2</td>
</tr>
<tr>
<td>ICE</td>
<td>3</td>
</tr>
<tr>
<td>IRBPNR</td>
<td>5</td>
</tr>
</tbody></table>

<h2 id="c-digo-de-porcentaje-de-iva">Código de Porcentaje de IVA</h2>

<table><thead>
<tr>
<th>Porcentaje de IVA</th>
<th>Código</th>
<th>Tarifa</th>
</tr>
</thead><tbody>
<tr>
<td>0%</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>12%</td>
<td>2</td>
<td>12</td>
</tr>
<tr>
<td>14%</td>
<td>3</td>
<td>14</td>
</tr>
<tr>
<td>No Objeto de Impuesto</td>
<td>6</td>
<td>-</td>
</tr>
<tr>
<td>Exento de IVA</td>
<td>7</td>
<td>-</td>
</tr>
</tbody></table>

<h2 id="tipos-de-impuesto-para-la-retenci-n">Tipos de impuesto para la retención</h2>

<table><thead>
<tr>
<th>Impuesto</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>RENTA</td>
<td>1</td>
</tr>
<tr>
<td>IVA</td>
<td>2</td>
</tr>
<tr>
<td>ISD</td>
<td>6</td>
</tr>
</tbody></table>

<h2 id="tipos-de-impuesto-para-la-retenci-n-en-la-factura">Tipos de impuesto para la retención en la factura</h2>

<p>Caso específico de Retenciones en la Comercializadores / Distribuidores de derivados del
Petróleo y Retención presuntiva de IVA a los Editores, Distribuidores y Voceadores que
participan en la comercialización de periódicos y/o revistas.</p>

<table><thead>
<tr>
<th>Impuesto</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>IVA PRESUNTIVO Y RENTA</td>
<td>4</td>
</tr>
</tbody></table>

<h2 id="retenci-n-de-iva">Retención de IVA</h2>

<table><thead>
<tr>
<th>Porcentaje IVA</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>10%</td>
<td>9</td>
</tr>
<tr>
<td>20%</td>
<td>10</td>
</tr>
<tr>
<td>30%</td>
<td>1</td>
</tr>
<tr>
<td>70%</td>
<td>2</td>
</tr>
<tr>
<td>100%</td>
<td>3</td>
</tr>
</tbody></table>

<p><strong>Retención en cero</strong></p>

<table><thead>
<tr>
<th>Porcentaje IVA</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>0%</td>
<td>7</td>
</tr>
</tbody></table>

<p><strong>No procede retención</strong></p>

<table><thead>
<tr>
<th>Porcentaje IVA</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>0%</td>
<td>8</td>
</tr>
</tbody></table>

<h2 id="retenci-n-isd">Retención ISD</h2>

<table><thead>
<tr>
<th>Porcentaje IVA</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>5%</td>
<td>4580</td>
</tr>
</tbody></table>

<h2 id="retenci-n-de-iva-presuntivo-y-renta">Retención de IVA Presuntivo y Renta</h2>

<p>Caso específico de Retenciones en la Comercializadores / Distribuidores de derivados del
Petróleo y Retención presuntiva de IVA a los Editores, Distribuidores y Voceadores que
participan en la comercialización de periódicos y/o revistas.</p>

<p><strong>Retención IVA</strong></p>

<table><thead>
<tr>
<th>Porcentaje IVA presuntivo</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>100%</td>
<td>3</td>
</tr>
<tr>
<td>12%  (Editores a Margen de Comercialización Voceadores)</td>
<td>4</td>
</tr>
<tr>
<td>100% (Venta periódicos y/o Revistas a Distribuidores)</td>
<td>5</td>
</tr>
<tr>
<td>100% (Venta periódicos y/o Revistas a Voceadores)</td>
<td>6</td>
</tr>
</tbody></table>

<p><strong>Retención Renta</strong></p>

<table><thead>
<tr>
<th>Porcentaje Renta</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>0.2%</td>
<td>327</td>
</tr>
<tr>
<td>0.3%</td>
<td>328</td>
</tr>
</tbody></table>

<h2 id="tipos-de-documentos">Tipos de documentos</h2>

<table><thead>
<tr>
<th>Documento</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>Factura</td>
<td>01</td>
</tr>
<tr>
<td>Nota de Crédito</td>
<td>04</td>
</tr>
<tr>
<td>Nota de Débito</td>
<td>05</td>
</tr>
<tr>
<td>Guía de Remisión</td>
<td>06</td>
</tr>
<tr>
<td>Comprobante de Retención</td>
<td>07</td>
</tr>
</tbody></table>

<h2 id="tipos-de-forma-de-pago">Tipos de forma de pago</h2>

<table><thead>
<tr>
<th>Forma de pago</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>Efectivo</td>
<td>efectivo</td>
</tr>
<tr>
<td>Cheque</td>
<td>cheque</td>
</tr>
<tr>
<td>Débito de cuenta bancaria</td>
<td>debito_cuenta_bancaria</td>
</tr>
<tr>
<td>Transferencia bancaria</td>
<td>transferencia</td>
</tr>
<tr>
<td>Depósito en cuenta (Corriente / Ahorros)</td>
<td>deposito_cuenta_bancaria</td>
</tr>
<tr>
<td>Tarjeta de débito</td>
<td>tarjeta_debito</td>
</tr>
<tr>
<td>Dinero electrónico Ecuador</td>
<td>dinero_electronico_ec</td>
</tr>
<tr>
<td>Tarjeta prepago</td>
<td>tarjeta_prepago</td>
</tr>
<tr>
<td>Tarjeta de crédito</td>
<td>tarjeta_credito</td>
</tr>
<tr>
<td>Otros</td>
<td>otros</td>
</tr>
<tr>
<td>Endoso de títulos</td>
<td>endoso_titulos</td>
</tr>
</tbody></table>

<h2 id="equivalencia-entre-formas-de-pago-d-til-y-formas-de-pago-del-sri">Equivalencia entre formas de pago Dátil y formas de pago del SRI</h2>

<table><thead>
<tr>
<th>Forma de pago Dátil</th>
<th>Código</th>
<th>Forma de pago SRI</th>
<th>Código</th>
</tr>
</thead><tbody>
<tr>
<td>Efectivo</td>
<td>efectivo</td>
<td>Sin utilización del sistema financiero</td>
<td>01</td>
</tr>
<tr>
<td>Cheque</td>
<td>cheque</td>
<td>Otros con utilización del sistema financiero</td>
<td>20</td>
</tr>
<tr>
<td>Débito bancario</td>
<td>debito_cuenta_bancaria</td>
<td>Otros con utilización del sistema financiero</td>
<td>20</td>
</tr>
<tr>
<td>Transferencia bancaria</td>
<td>transferencia</td>
<td>Otros con utilización del sistema financiero</td>
<td>20</td>
</tr>
<tr>
<td>Tarjeta de crédito</td>
<td>tarjeta_credito</td>
<td>Tarjeta de crédito nacional</td>
<td>19</td>
</tr>
<tr>
<td>Depósito en cuenta (Corriente / Ahorros)</td>
<td>deposito_cuenta_bancaria</td>
<td>Otros con utilización del sistema financiero</td>
<td>20</td>
</tr>
<tr>
<td>Tarjeta de débito</td>
<td>tarjeta_debito</td>
<td>Tarjeta de débito</td>
<td>16</td>
</tr>
<tr>
<td>Dinero electrónico Ecuador</td>
<td>dinero_electronico_ec</td>
<td>Dinero electrónico</td>
<td>17</td>
</tr>
<tr>
<td>Tarjeta prepago</td>
<td>tarjeta_prepago</td>
<td>Tarjeta prepago</td>
<td>18</td>
</tr>
<tr>
<td>Otros</td>
<td>otros</td>
<td>Otros con utilización del sistema financiero</td>
<td>20</td>
</tr>
<tr>
<td>Endoso de títulos</td>
<td>endoso_titulos</td>
<td>Endoso de títulos</td>
<td>21</td>
</tr>
</tbody></table>

<p>Debido a que el Servicio de Rentas Internas exige incluir información del pago,
las facturas a crédito se enviarán al SRI con forma de pago &ldquo;Otros con utilización del sistema financiero&rdquo;.</p>

          <h1 id="contabilidad">Contabilidad</h1>

<p>Incluye información contable en tus comprobantes para facilitar su registro en sistemas contables o ERP.</p>

          <h2 id="informaci-n-contable">Información contable</h2>

<p>Todos los comprobantes pueden adjuntar información contable representada por un objeto <em>Accounting</em>.</p>

<table><thead>
<tr>
<th>Atributos</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>cost_centre<p class="dt-data-type">string</p></td>
<td>Código del centro de costos asignado por el negocio.</td>
</tr>
<tr>
<td>account<p class="dt-data-type">string</p></td>
<td>Código de la cuenta contable en la cual se debe contabilizar la factura o ítem.</td>
</tr>
</tbody></table>

          <h1 id="errores">Errores</h1>

<p>Listado de códigos de error y su significado.</p>

<table><thead>
<tr>
<th>Código</th>
<th>Significado</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; La información provista está mal formada o incompleta.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Tu clave de API no está autorizada para realizar esta acción</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash;</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; El recurso especificado no existe.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash;</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash;</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; Error en el sistema.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; Servicio temporalmente fuera de línea. Intenta más tarde.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
                <a href="#" data-language-name="python">Python</a>
          </div>
      </div>
    </div>
  </body>
</html>
